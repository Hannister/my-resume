(self.webpackChunkmy_cv_site=self.webpackChunkmy_cv_site||[]).push([[179],{8255:dt=>{function Pe(k){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+k+"'");throw u.code="MODULE_NOT_FOUND",u})}Pe.keys=()=>[],Pe.resolve=Pe,Pe.id=8255,dt.exports=Pe},7716:(dt,Pe,k)=>{"use strict";k.d(Pe,{deG:()=>xf,tb:()=>DS,AFp:()=>J_,ip1:()=>yc,CZH:()=>$s,hGG:()=>z0,z2F:()=>Qh,sBO:()=>DE,Sil:()=>Cg,_Vd:()=>oo,EJc:()=>ty,SBq:()=>ao,qLn:()=>Nd,vpe:()=>Oo,gxx:()=>nu,tBr:()=>sa,XFs:()=>lt,OlP:()=>cr,zs3:()=>dr,ZZ4:()=>yu,aQg:()=>Kp,soG:()=>Yh,YKP:()=>IT,v3s:()=>hy,h0i:()=>Ea,PXZ:()=>LS,R0b:()=>Ji,FiY:()=>Io,Lbi:()=>SS,g9A:()=>ku,Qsj:()=>Wp,FYo:()=>mu,JOm:()=>ca,Tiy:()=>_u,q3G:()=>ur,tp0:()=>cs,EAV:()=>$0,Rgc:()=>Dh,dDg:()=>Ou,DyG:()=>Ms,q4F:()=>wh,GfV:()=>pT,s_b:()=>wa,ifc:()=>We,eFA:()=>VS,G48:()=>O0,Gpc:()=>$,f3M:()=>Nf,X6Q:()=>k0,_c5:()=>Vi,VLi:()=>wR,c2e:()=>ey,zSh:()=>pp,wAp:()=>kt,vHH:()=>$e,EiD:()=>bm,mCW:()=>la,qzn:()=>b,JVY:()=>_,pB0:()=>he,eBb:()=>M,L6k:()=>w,LAX:()=>L,cg1:()=>uh,Tjo:()=>vy,kL8:()=>iE,yhl:()=>m,dqk:()=>sn,sIi:()=>vp,CqO:()=>rh,QGY:()=>Pr,F4k:()=>si,RDi:()=>vo,AaK:()=>ie,z3N:()=>aa,qOj:()=>Cb,TTD:()=>ui,_Bn:()=>x_,xp6:()=>Xc,uIk:()=>bp,ekj:()=>uu,Suo:()=>t0,Xpm:()=>Qe,lG2:()=>Bt,Yz7:()=>Tt,cJS:()=>cn,oAB:()=>ge,Yjl:()=>Wt,Y36:()=>lu,_UZ:()=>Lb,qZA:()=>Xm,TgZ:()=>Fb,EpF:()=>t_,n5z:()=>pd,Ikx:()=>__,LFG:()=>Hn,$8M:()=>gd,NdJ:()=>Sp,CRH:()=>rS,kcU:()=>ev,O4$:()=>Aw,oxw:()=>n_,Hsn:()=>r_,F$t:()=>kI,Q6J:()=>Tp,VKq:()=>zE,WLB:()=>Qi,l5B:()=>cg,rFY:()=>ZE,iGM:()=>z_,MAs:()=>hI,Jf7:()=>Rv,CHM:()=>Nc,LSH:()=>wv,kYT:()=>Ke,Udp:()=>l_,YNc:()=>zm,_uU:()=>du,Oqu:()=>Op,hij:()=>va,Gf:()=>nS});var u=k(9765),j=k(5319),O=k(7574),le=k(6682),fe=k(8819);function J(i){for(let s in i)if(i[s]===J)return s;throw Error("Could not find renamed property on target object.")}function ue(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ie(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ie).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function re(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const F=J({__forward_ref__:J});function $(i){return i.__forward_ref__=$,i.toString=function(){return ie(this())},i}function V(i){return ne(i)?i():i}function ne(i){return"function"==typeof i&&i.hasOwnProperty(F)&&i.__forward_ref__===$}class $e extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function se(i){return"string"==typeof i?i:null==i?"":String(i)}function _e(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():se(i)}function At(i,s){const a=s?` in ${s}`:"";throw new $e("201",`No provider for ${_e(i)} found${a}`)}function mt(i,s){null==i&&function(i,s,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Tt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function cn(i){return{providers:i.providers||[],imports:i.imports||[]}}function wn(i){return rr(i,ir)||rr(i,sr)}function rr(i,s){return i.hasOwnProperty(s)?i[s]:null}function Tr(i){return i&&(i.hasOwnProperty(Nn)||i.hasOwnProperty(Ar))?i[Nn]:null}const ir=J({\u0275prov:J}),Nn=J({\u0275inj:J}),sr=J({ngInjectableDef:J}),Ar=J({ngInjectorDef:J});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Ft;function Fn(i){const s=Ft;return Ft=i,s}function gt(i,s,a){const c=wn(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&lt.Optional?null:void 0!==s?s:void At(ie(i),"Injector")}function Zt(i){return{toString:i}.toString()}var $t=(()=>(($t=$t||{})[$t.OnPush=0]="OnPush",$t[$t.Default=1]="Default",$t))(),We=(()=>((We=We||{})[We.Emulated=0]="Emulated",We[We.None=2]="None",We[We.ShadowDom=3]="ShadowDom",We))();const tt="undefined"!=typeof globalThis&&globalThis,or="undefined"!=typeof window&&window,wi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,sn=tt||"undefined"!=typeof global&&global||or||wi,W={},q=[],K=J({\u0275cmp:J}),ke=J({\u0275dir:J}),ce=J({\u0275pipe:J}),nt=J({\u0275mod:J}),oe=J({\u0275loc:J}),me=J({\u0275fac:J}),Ve=J({__NG_ELEMENT_ID__:J});let Je=0;function Qe(i){return Zt(()=>{const a={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===$t.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||q,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||We.Emulated,id:"c",styles:i.styles||q,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,g=i.pipes;return c.id+=Je++,c.inputs=Mt(i.inputs,a),c.outputs=Mt(i.outputs),f&&f.forEach(y=>y(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(ee):null,c.pipeDefs=g?()=>("function"==typeof g?g():g).map(G):null,c})}function ee(i){return un(i)||function(i){return i[ke]||null}(i)}function G(i){return function(i){return i[ce]||null}(i)}const z={};function ge(i){return Zt(()=>{const s={type:i.type,bootstrap:i.bootstrap||q,declarations:i.declarations||q,imports:i.imports||q,exports:i.exports||q,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(z[i.id]=i.type),s})}function Ke(i,s){return Zt(()=>{const a=Lt(i,!0);a.declarations=s.declarations||q,a.imports=s.imports||q,a.exports=s.exports||q})}function Mt(i,s){if(null==i)return W;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=c,s&&(s[d]=f)}return a}const Bt=Qe;function Wt(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function un(i){return i[K]||null}function Lt(i,s){const a=i[nt]||null;if(!a&&!0===s)throw new Error(`Type ${ie(i)} does not have '\u0275mod' property.`);return a}function bs(i){return Array.isArray(i)&&"object"==typeof i[1]}function xr(i){return Array.isArray(i)&&!0===i[1]}function Ac(i){return 0!=(8&i.flags)}function Ks(i){return 2==(2&i.flags)}function ns(i){return 1==(1&i.flags)}function lr(i){return null!==i.template}function ni(i){return 0!=(512&i[2])}function Es(i,s){return i.hasOwnProperty(me)?i[me]:null}class Yu{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function ui(){return Al}function Al(i){return i.type.prototype.ngOnChanges&&(i.setInput=Rc),$o}function $o(){const i=kc(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===W)i.previous=s;else for(let c in s)a[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Rc(i,s,a,c){const d=kc(i)||function(i,s){return i[Qu]=s}(i,{previous:W,current:null}),f=d.current||(d.current={}),g=d.previous,y=this.declaredInputs[a],E=g[y];f[y]=new Yu(E&&E.currentValue,s,g===W),i[c]=s}ui.ngInherit=!0;const Qu="__ngSimpleChanges__";function kc(i){return i[Qu]||null}const Ys="http://www.w3.org/2000/svg";let Pa;function vo(i){Pa=i}function Un(i){return!!i.listen}const Cs={createRenderer:(i,s)=>void 0!==Pa?Pa:"undefined"!=typeof document?document:void 0};function Pn(i){for(;Array.isArray(i);)i=i[0];return i}function N(i,s){return Pn(s[i])}function X(i,s){return Pn(s[i.index])}function Ge(i,s){return i.data[s]}function pt(i,s){const a=s[i];return bs(a)?a:a[0]}function _r(i){return 4==(4&i[2])}function Ht(i){return 128==(128&i[2])}function kn(i,s){return null==s?null:i[s]}function Ii(i){i[18]=0}function $i(i,s){i[5]+=s;let a=i,c=i[3];for(;null!==c&&(1===s&&1===a[5]||-1===s&&0===a[5]);)c[5]+=s,a=c,c=c[3]}const vt={lFrame:Qy(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ho(){return vt.bindingsEnabled}function Ue(){return vt.lFrame.lView}function hn(){return vt.lFrame.tView}function Nc(i){return vt.lFrame.contextLView=i,i[8]}function Yn(){let i=Fc();for(;null!==i&&64===i.type;)i=i.parent;return i}function Fc(){return vt.lFrame.currentTNode}function os(i,s){const a=vt.lFrame;a.currentTNode=i,a.isParent=s}function Pl(){return vt.lFrame.isParent}function ed(){vt.lFrame.isParent=!1}function td(){return vt.isInCheckNoChangesMode}function Nl(i){vt.isInCheckNoChangesMode=i}function Rr(){const i=vt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Ts(){return vt.lFrame.bindingIndex++}function nd(i,s){const a=vt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Lc(s)}function Lc(i){vt.lFrame.currentDirectiveIndex=i}function Qg(){return vt.lFrame.currentQueryIndex}function Fl(i){vt.lFrame.currentQueryIndex=i}function rd(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Jg(i,s,a){if(a&lt.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&lt.Host||(d=rd(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const c=vt.lFrame=vf();return c.currentTNode=s,c.lView=i,!0}function bo(i){const s=vf(),a=i[1];vt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function vf(){const i=vt.lFrame,s=null===i?null:i.child;return null===s?Qy(i):s}function Qy(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Xg(){const i=vt.lFrame;return vt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Jy=Xg;function Vc(){const i=Xg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function hi(){return vt.lFrame.selectedIndex}function Va(i){vt.lFrame.selectedIndex=i}function yr(){const i=vt.lFrame;return Ge(i.tView,i.selectedIndex)}function Aw(){vt.lFrame.currentNamespace=Ys}function ev(){vt.lFrame.currentNamespace=null}function id(i,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:S}=f;g&&(i.contentHooks||(i.contentHooks=[])).push(-a,g),y&&((i.contentHooks||(i.contentHooks=[])).push(a,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,y)),E&&(i.viewHooks||(i.viewHooks=[])).push(-a,E),I&&((i.viewHooks||(i.viewHooks=[])).push(a,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,I)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(a,S)}}function Ll(i,s,a){od(i,s,3,a)}function sd(i,s,a,c){(3&i[2])===a&&od(i,s,a,c)}function Ef(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function od(i,s,a,c){const f=null!=c?c:-1,g=s.length-1;let y=0;for(let E=void 0!==c?65535&i[18]:0;E<g;E++)if("number"==typeof s[E+1]){if(y=s[E],null!=c&&y>=c)break}else s[E]<0&&(i[18]+=65536),(y<f||-1==f)&&(wf(i,a,s,E),i[18]=(4294901760&i[18])+E+2),E++}function wf(i,s,a,c){const d=a[c]<0,f=a[c+1],y=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(y)}finally{}}}else try{f.call(y)}finally{}}class Ba{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ad(i,s,a){const c=Un(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const g=a[d++],y=a[d++],E=a[d++];c?i.setAttribute(s,y,E,g):s.setAttributeNS(g,y,E)}else{const g=f,y=a[++d];Ti(g)?c&&i.setProperty(s,g,y):c?i.setAttribute(s,g,y):s.setAttribute(g,y),d++}}return d}function If(i){return 3===i||4===i||6===i}function Ti(i){return 64===i.charCodeAt(0)}function ld(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||vr(i,a,d,null,-1===a||2===a?s[++c]:null)}}return i}function vr(i,s,a,c,d){let f=0,g=i.length;if(-1===s)g=-1;else for(;f<i.length;){const y=i[f++];if("number"==typeof y){if(y===s){g=-1;break}if(y>s){g=f-1;break}}}for(;f<i.length;){const y=i[f];if("number"==typeof y)break;if(y===a){if(null===c)return void(null!==d&&(i[f+1]=d));if(c===i[f+1])return void(i[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==g&&(i.splice(g,0,s),f=g+1),i.splice(f++,0,a),null!==c&&i.splice(f++,0,c),null!==d&&i.splice(f++,0,d)}function cd(i){return-1!==i}function Eo(i){return 32767&i}function ja(i,s){let a=function(i){return i>>16}(i),c=s;for(;a>0;)c=c[15],a--;return c}let tm=!0;function ud(i){const s=tm;return tm=i,s}let sv=0;function zo(i,s){const a=Vl(i,s);if(-1!==a)return a;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,rm(c.data,i),rm(s,null),rm(c.blueprint,null));const d=Bc(i,s),f=i.injectorIndex;if(cd(d)){const g=Eo(d),y=ja(d,s),E=y[1].data;for(let I=0;I<8;I++)s[f+I]=y[g+I]|E[g+I]}return s[f+8]=d,f}function rm(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Vl(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Bc(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){const f=d[1],g=f.type;if(c=2===g?f.declTNode:1===g?d[6]:null,null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function Si(i,s,a){!function(i,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Ve)&&(c=a[Ve]),null==c&&(c=a[Ve]=sv++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function $a(i,s,a){if(a&lt.Optional)return i;At(s,"NodeInjector")}function Sf(i,s,a,c){if(a&lt.Optional&&void 0===c&&(c=null),0==(a&(lt.Self|lt.Host))){const d=i[9],f=Fn(void 0);try{return d?d.get(s,c,a&lt.Optional):gt(s,c,a&lt.Optional)}finally{Fn(f)}}return $a(c,s,a)}function Df(i,s,a,c=lt.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Ve)?i[Ve]:void 0;return"number"==typeof s?s>=0?255&s:Af:s}(a);if("function"==typeof f){if(!Jg(s,i,c))return c&lt.Host?$a(d,a,c):Sf(s,a,c,d);try{const g=f(c);if(null!=g||c&lt.Optional)return g;At(a)}finally{Jy()}}else if("number"==typeof f){let g=null,y=Vl(i,s),E=-1,I=c&lt.Host?s[16][6]:null;for((-1===y||c&lt.SkipSelf)&&(E=-1===y?Bc(i,s):s[y+8],-1!==E&&jc(c,!1)?(g=s[1],y=Eo(E),s=ja(E,s)):y=-1);-1!==y;){const S=s[1];if(Mf(f,y,S.data)){const x=ov(y,s,a,g,c,I);if(x!==Ds)return x}E=s[y+8],-1!==E&&jc(c,s[1].data[y+8]===I)&&Mf(f,y,s)?(g=S,y=Eo(E),s=ja(E,s)):y=-1}}}return Sf(s,a,c,d)}const Ds={};function Af(){return new Ul(Yn(),Ue())}function ov(i,s,a,c,d,f){const g=s[1],y=g.data[i+8],S=wo(y,g,a,null==c?Ks(y)&&tm:c!=g&&0!=(3&y.type),d&lt.Host&&f===y);return null!==S?fd(s,g,S,y):Ds}function wo(i,s,a,c,d){const f=i.providerIndexes,g=s.data,y=1048575&f,E=i.directiveStart,S=f>>20,R=d?y+S:i.directiveEnd;for(let H=c?y:y+S;H<R;H++){const Q=g[H];if(H<E&&a===Q||H>=E&&Q.type===a)return H}if(d){const H=g[E];if(H&&lr(H)&&H.type===a)return E}return null}function fd(i,s,a,c){let d=i[a];const f=s.data;if(function(i){return i instanceof Ba}(d)){const g=d;g.resolving&&function(i,s){throw new $e("200",`Circular dependency in DI detected for ${i}`)}(_e(f[a]));const y=ud(g.canSeeViewProviders);g.resolving=!0;const E=g.injectImpl?Fn(g.injectImpl):null;Jg(i,c,lt.Default);try{d=i[a]=g.factory(void 0,f,i,c),s.firstCreatePass&&a>=c.directiveStart&&function(i,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const g=Al(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==E&&Fn(E),ud(y),g.resolving=!1,Jy()}}return d}function Mf(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function jc(i,s){return!(i&lt.Self||i&lt.Host&&s)}class Ul{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return Df(this._tNode,this._lView,s,c,a)}}function pd(i){return Zt(()=>{const s=i.prototype.constructor,a=s[me]||Wo(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const f=d[me]||Wo(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Wo(i){return ne(i)?()=>{const s=Wo(V(i));return s&&s()}:Es(i)}function gd(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const f=a[d];if(If(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(Yn(),i)}const Ha="__parameters__";function Co(i,s,a){return Zt(()=>{const c=function(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const g=new d(...f);return y.annotation=g,y;function y(E,I,S){const x=E.hasOwnProperty(Ha)?E[Ha]:Object.defineProperty(E,Ha,{value:[]})[Ha];for(;x.length<=S;)x.push(null);return(x[S]=x[S]||[]).push(g),E}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class cr{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Tt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xf=new cr("AnalyzeForEntryComponents"),Ms=Function;function ls(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let c=i[a];Array.isArray(c)?(s===i&&(s=i.slice(0,a)),ls(c,s)):s!==i&&s.push(c)}return s}function Di(i,s){i.forEach(a=>Array.isArray(a)?Di(a,s):s(a))}function Qo(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function jl(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function qa(i,s){const a=[];for(let c=0;c<i;c++)a.push(s);return a}function ri(i,s,a){let c=xs(i,s);return c>=0?i[1|c]=a:(c=~c,function(i,s,a,c){let d=i.length;if(d==s)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=c}}(i,c,s,a)),c}function Hl(i,s){const a=xs(i,s);if(a>=0)return i[1|a]}function xs(i,s){return function(i,s,a){let c=0,d=i.length>>a;for(;d!==c;){const f=c+(d-c>>1),g=i[f<<a];if(s===g)return f<<a;g>s?d=f:c=f+1}return~(d<<a)}(i,s,1)}const ea={},Gc="__NG_DI_FLAG__",ta="ngTempTokenPath",Id=/\n/gm,$r="__source",na=J({provide:String,useValue:J});let ql;function ra(i){const s=ql;return ql=i,s}function hv(i,s=lt.Default){if(void 0===ql)throw new Error("inject() must be called from an injection context");return null===ql?gt(i,void 0,s):ql.get(i,s&lt.Optional?null:void 0,s)}function Hn(i,s=lt.Default){return(Ft||hv)(V(i),s)}const Nf=Hn;function ia(i){const s=[];for(let a=0;a<i.length;a++){const c=V(i[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,f=lt.Default;for(let g=0;g<c.length;g++){const y=c[g],E=qc(y);"number"==typeof E?-1===E?d=y.token:f|=E:d=y}s.push(Hn(d,f))}else s.push(Hn(c))}return s}function Wl(i,s){return i[Gc]=s,i.prototype[Gc]=s,i}function qc(i){return i[Gc]}function Ff(i,s,a,c){const d=i[ta];throw s[$r]&&d.unshift(s[$r]),i.message=function(i,s,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=ie(s);if(Array.isArray(s))d=s.map(ie).join(" -> ");else if("object"==typeof s){let f=[];for(let g in s)if(s.hasOwnProperty(g)){let y=s[g];f.push(g+":"+("string"==typeof y?JSON.stringify(y):ie(y)))}d=`{${f.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace(Id,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[ta]=null,i}const sa=Wl(Co("Inject",i=>({token:i})),-1),Io=Wl(Co("Optional"),8),cs=Wl(Co("SkipSelf"),4);let xd;function oa(i){var s;return(null===(s=function(){if(void 0===xd&&(xd=null,sn.trustedTypes))try{xd=sn.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return xd}())||void 0===s?void 0:s.createHTML(i))||i}class Za{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class fm extends Za{getTypeName(){return"HTML"}}class pm extends Za{getTypeName(){return"Style"}}class yv extends Za{getTypeName(){return"Script"}}class vv extends Za{getTypeName(){return"URL"}}class gm extends Za{getTypeName(){return"ResourceURL"}}function aa(i){return i instanceof Za?i.changingThisBreaksApplicationSecurity:i}function b(i,s){const a=m(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function m(i){return i instanceof Za&&i.getTypeName()||null}function _(i){return new fm(i)}function w(i){return new pm(i)}function M(i){return new yv(i)}function L(i){return new vv(i)}function he(i){return new gm(i)}class ht{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(oa(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Ot{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=oa(s),a;const c=this.inertDocument.createElement("body");return c.innerHTML=oa(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const g=a.item(d).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&s.removeAttribute(g)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Bn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Js=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function la(i){return(i=String(i)).match(Bn)||i.match(Js)?i:"unsafe:"+i}function Ai(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Ql(...i){const s={};for(const a of i)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const jf=Ai("area,br,col,hr,img,wbr"),Ka=Ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$f=Ai("rp,rt"),Jl=Ql(jf,Ql(Ka,Ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ql($f,Ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ql($f,Ka)),Od=Ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mi=Ai("srcset"),Fw=Ql(Od,Mi,Ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Lw=Ai("script,style,template");class nA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Jl.hasOwnProperty(a))return this.sanitizedSomething=!0,!Lw.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=s.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),g=f.name,y=g.toLowerCase();if(!Fw.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let E=f.value;Od[y]&&(E=la(E)),Mi[y]&&(i=E,E=(i=String(i)).split(",").map(s=>la(s.trim())).join(", ")),this.buf.push(" ",g,'="',bv(E),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Jl.hasOwnProperty(a)&&!jf.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(bv(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Vw=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ym=/([^\#-~ |!])/g;function bv(i){return i.replace(/&/g,"&amp;").replace(Vw,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(ym,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vm;function bm(i,s){let a=null;try{vm=vm||function(i){const s=new Ot(i);return function(){try{return!!(new window.DOMParser).parseFromString(oa(""),"text/html")}catch(i){return!1}}()?new ht(s):s}(i);let c=s?String(s):"";a=vm.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=a.innerHTML,a=vm.getInertBodyElement(c)}while(c!==f);return oa((new nA).sanitizeChildren(Ev(a)||a))}finally{if(a){const c=Ev(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Ev(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var ur=(()=>((ur=ur||{})[ur.NONE=0]="NONE",ur[ur.HTML=1]="HTML",ur[ur.STYLE=2]="STYLE",ur[ur.SCRIPT=3]="SCRIPT",ur[ur.URL=4]="URL",ur[ur.RESOURCE_URL=5]="RESOURCE_URL",ur))();function wv(i){const s=function(){const i=Ue();return i&&i[12]}();return s?s.sanitize(ur.URL,i)||"":b(i,"URL")?aa(i):la(se(i))}const Hw="__ngContext__";function xi(i,s){i[Hw]=s}function Em(i){const s=function(i){return i[Hw]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function zf(i){return i.ngOriginalError}function pA(i,...s){i.error(...s)}class Nd{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),c=this._findContext(s),d=(i=s)&&i.ngErrorLogger||pA;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(s){return s?s.ngDebugContext||this._findContext(zf(s)):null}_findOriginalError(s){let a=s&&zf(s);for(;a&&zf(a);)a=zf(a);return a||null}}const Wi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(sn))();function Rv(i){return i.ownerDocument.defaultView}function Jn(i){return i instanceof Function?i():i}var ca=(()=>((ca=ca||{})[ca.Important=1]="Important",ca[ca.DashCase=2]="DashCase",ca))();function Cm(i,s){return undefined(i,s)}function Zf(i){const s=i[3];return xr(s)?s[3]:s}function Fd(i){return Im(i[13])}function Ov(i){return Im(i[4])}function Im(i){for(;null!==i&&!xr(i);)i=i[4];return i}function Qc(i,s,a,c,d){if(null!=c){let f,g=!1;xr(c)?f=c:bs(c)&&(g=!0,c=c[0]);const y=Pn(c);0===i&&null!==a?null==d?iC(s,a,y):us(s,a,y,d||null,!0):1===i&&null!==a?us(s,a,y,d||null,!0):2===i?function(i,s,a){const c=Xa(i,s);c&&function(i,s,a,c){Un(i)?i.removeChild(s,a,c):s.removeChild(a)}(i,c,s,a)}(s,y,g):3===i&&s.destroyNode(y),null!=f&&function(i,s,a,c,d){const f=a[7];f!==Pn(a)&&Qc(s,i,c,f,d);for(let y=10;y<a.length;y++){const E=a[y];To(E[1],E,i,s,c,f)}}(s,i,f,a,d)}}function Er(i,s,a){return Un(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function tC(i,s){const a=i[9],c=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,$i(d,-1)),a.splice(c,1)}function Jc(i,s){if(i.length<=10)return;const a=10+s,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&tC(d,c),s>0&&(i[a-1][4]=c[4]);const f=jl(i,10+s);!function(i,s){To(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const g=f[19];null!==g&&g.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Ld(i,s){if(!(256&s[2])){const a=s[11];Un(a)&&a.destroyNode&&To(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return Nv(i[1],i);for(;s;){let a=null;if(bs(s))a=s[13];else{const c=s[10];c&&(a=c)}if(!a){for(;s&&!s[4]&&s!==i;)bs(s)&&Nv(s[1],s),s=s[3];null===s&&(s=i),bs(s)&&Nv(s[1],s),a=s&&s[4]}s=a}}(s)}}function Nv(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof Ba)){const f=a[c+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const y=d[f[g]],E=f[g+1];try{E.call(y)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,c=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const g=a[f+1],y="function"==typeof g?g(s):Pn(s[g]),E=c[d=a[f+2]],I=a[f+3];"boolean"==typeof I?y.removeEventListener(a[f],E,I):I>=0?c[d=I]():c[d=-I].unsubscribe(),f+=2}else{const g=c[d=a[f+1]];a[f].call(g)}if(null!==c){for(let f=d+1;f<c.length;f++)c[f]();s[7]=null}}(i,s),1===s[1].type&&Un(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&xr(s[3])){a!==s[3]&&tC(a,s);const c=s[19];null!==c&&c.detachView(i)}}}function nC(i,s,a){return function(i,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===We.None||d===We.Emulated)return null}return X(c,a)}(i,s.parent,a)}function us(i,s,a,c,d){Un(i)?i.insertBefore(s,a,c,d):s.insertBefore(a,c,d)}function iC(i,s,a){Un(i)?i.appendChild(s,a):s.appendChild(a)}function sC(i,s,a,c,d){null!==c?us(i,s,a,c,d):iC(i,s,a)}function Xa(i,s){return Un(i)?i.parentNode(s):s.parentNode}function oC(i,s,a){return Lv(i,s,a)}let Lv=function(i,s,a){return 40&i.type?X(i,a):null};function Tm(i,s,a,c){const d=nC(i,c,s),f=s[11],y=oC(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(a))for(let E=0;E<a.length;E++)sC(f,d,a[E],y,!1);else sC(f,d,a,y,!1)}function Yf(i,s){if(null!==s){const a=s.type;if(3&a)return X(s,i);if(4&a)return Uv(-1,i[s.index]);if(8&a){const c=s.child;if(null!==c)return Yf(i,c);{const d=i[s.index];return xr(d)?Uv(-1,d):Pn(d)}}if(32&a)return Cm(s,i)()||Pn(i[s.index]);{const c=cC(i,s);return null!==c?Array.isArray(c)?c[0]:Yf(Zf(i[16]),c):Yf(i,s.next)}}return null}function cC(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Uv(i,s){const a=10+i+1;if(a<s.length){const c=s[a],d=c[1].firstChild;if(null!==d)return Yf(c,d)}return s[7]}function jv(i,s,a,c,d,f,g){for(;null!=a;){const y=c[a.index],E=a.type;if(g&&0===s&&(y&&xi(Pn(y),c),a.flags|=4),64!=(64&a.flags))if(8&E)jv(i,s,a.child,c,d,f,!1),Qc(s,i,d,y,f);else if(32&E){const I=Cm(a,c);let S;for(;S=I();)Qc(s,i,d,S,f);Qc(s,i,d,y,f)}else 16&E?uC(i,s,c,a,d,f):Qc(s,i,d,y,f);a=g?a.projectionNext:a.next}}function To(i,s,a,c,d,f){jv(a,c,i.firstChild,s,d,f,!1)}function uC(i,s,a,c,d,f){const g=a[16],E=g[6].projection[c.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)Qc(s,i,d,E[I],f);else jv(i,s,E,g[3],d,f,!0)}function hC(i,s,a){Un(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function $v(i,s,a){Un(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function ua(i,s,a){let c=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||i.charCodeAt(d+f)<=32)return d}a=d+1}}const Ud="ng-template";function pC(i,s,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==ua(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function gC(i){return 4===i.type&&i.value!==Ud}function SA(i,s,a){return s===(4!==i.type||a?i.value:Ud)}function DA(i,s,a){let c=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(If(i[s]))return s;return i.length}(d);let g=!1;for(let y=0;y<s.length;y++){const E=s[y];if("number"!=typeof E){if(!g)if(4&c){if(c=2|1&c,""!==E&&!SA(i,E,a)||""===E&&1===s.length){if(So(c))return!1;g=!0}}else{const I=8&c?E:s[++y];if(8&c&&null!==i.attrs){if(!pC(i.attrs,I,a)){if(So(c))return!1;g=!0}continue}const x=AA(8&c?"class":E,d,gC(i),a);if(-1===x){if(So(c))return!1;g=!0;continue}if(""!==I){let R;R=x>f?"":d[x+1].toLowerCase();const H=8&c?R:null;if(H&&-1!==ua(H,I,0)||2&c&&I!==R){if(So(c))return!1;g=!0}}}}else{if(!g&&!So(c)&&!So(E))return!1;if(g&&So(E))continue;g=!1,c=E|1&c}}return So(c)||g}function So(i){return 0==(1&i)}function AA(i,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let f=!1;for(;d<s.length;){const g=s[d];if(g===i)return d;if(3===g||6===g)f=!0;else{if(1===g||2===g){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,i)}function mC(i,s,a=!1){for(let c=0;c<s.length;c++)if(DA(i,s[c],a))return!0;return!1}function xA(i,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(i.length===c.length){for(let d=0;d<i.length;d++)if(i[d]!==c[d])continue e;return!0}}return!1}function vC(i,s){return i?":not("+s.trim()+")":s}function bC(i){let s=i[0],a=1,c=2,d="",f=!1;for(;a<i.length;){let g=i[a];if("string"==typeof g)if(2&c){const y=i[++a];d+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&c?d+="."+g:4&c&&(d+=" "+g);else""!==d&&!So(g)&&(s+=vC(f,d),d=""),c=g,f=f||!So(c);a++}return""!==d&&(s+=vC(f,d)),s}const Xt={};function Xc(i){Hv(hn(),Ue(),hi()+i,td())}function Hv(i,s,a,c){if(!c)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Ll(s,f,a)}else{const f=i.preOrderHooks;null!==f&&sd(s,f,0,a)}Va(a)}function Bd(i,s){return i<<17|s<<2}function Do(i){return i>>17&32767}function eo(i){return 2|i}function da(i){return(131068&i)>>2}function Sm(i,s){return-131069&i|s<<2}function CC(i){return 1|i}function ha(i,s){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const d=a[c],f=a[c+1];if(-1!==f){const g=i.data[f];Fl(d),g.contentQueries(2,s[f],f)}}}function Hd(i,s,a,c,d,f,g,y,E,I){const S=s.blueprint.slice();return S[0]=d,S[2]=140|c,Ii(S),S[3]=S[15]=i,S[8]=a,S[10]=g||i&&i[10],S[11]=y||i&&i[11],S[12]=E||i&&i[12]||null,S[9]=I||i&&i[9]||null,S[6]=f,S[16]=2==s.type?i[16]:S,S}function Gd(i,s,a,c,d){let f=i.data[s];if(null===f)f=function(i,s,a,c,d){const f=Fc(),g=Pl(),E=i.data[s]=function(i,s,a,c,d,f){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,a,s,c,d);return null===i.firstChild&&(i.firstChild=E),null!==f&&(g?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(i,s,a,c,d),vt.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=c,f.attrs=d;const g=function(){const i=vt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===g?-1:g.injectorIndex}return os(f,!0),f}function eu(i,s,a,c){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function np(i,s,a){bo(s);try{const c=i.viewQuery;null!==c&&Fm(1,c,a);const d=i.template;null!==d&&xm(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&ha(i,s),i.staticViewQueries&&Fm(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)to(i,s[a])}(s,f)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Vc()}}function rl(i,s,a,c){const d=s[2];if(256==(256&d))return;bo(s);const f=td();try{Ii(s),function(i){vt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&xm(i,s,a,2,c);const g=3==(3&d);if(!f)if(g){const I=i.preOrderCheckHooks;null!==I&&Ll(s,I,null)}else{const I=i.preOrderHooks;null!==I&&sd(s,I,0,null),Ef(s,0)}if(function(i){for(let s=Fd(i);null!==s;s=Ov(s)){if(!s[2])continue;const a=s[9];for(let c=0;c<a.length;c++){const d=a[c],f=d[3];0==(1024&d[2])&&$i(f,1),d[2]|=1024}}}(s),function(i){for(let s=Fd(i);null!==s;s=Ov(s))for(let a=10;a<s.length;a++){const c=s[a],d=c[1];Ht(c)&&rl(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&ha(i,s),!f)if(g){const I=i.contentCheckHooks;null!==I&&Ll(s,I)}else{const I=i.contentHooks;null!==I&&sd(s,I,1),Ef(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)Va(~d);else{const f=d,g=a[++c],y=a[++c];nd(g,f),y(2,s[f])}}}finally{Va(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let a=0;a<s.length;a++)ZA(i,s[a])}(s,y);const E=i.viewQuery;if(null!==E&&Fm(2,E,c),!f)if(g){const I=i.viewCheckHooks;null!==I&&Ll(s,I)}else{const I=i.viewHooks;null!==I&&sd(s,I,2),Ef(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,$i(s[3],-1))}finally{Vc()}}function MC(i,s,a,c){const d=s[10],f=!td(),g=_r(s);try{f&&!g&&d.begin&&d.begin(),g&&np(i,s,c),rl(i,s,a,c)}finally{f&&!g&&d.end&&d.end()}}function xm(i,s,a,c,d){const f=hi(),g=2&c;try{Va(-1),g&&s.length>20&&Hv(i,s,20,td()),a(c,d)}finally{Va(f)}}function rp(i,s,a){!Ho()||(function(i,s,a,c){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||zo(a,s),xi(c,s);const g=a.initialInputs;for(let y=d;y<f;y++){const E=i.data[y],I=lr(E);I&&qA(s,a,E);const S=fd(s,i,y,a);xi(S,s),null!==g&&zA(0,y-d,S,E,0,g),I&&(pt(a.index,s)[8]=S)}}(i,s,a,X(a,s)),128==(128&a.flags)&&function(i,s,a){const c=a.directiveStart,d=a.directiveEnd,g=a.index,y=vt.lFrame.currentDirectiveIndex;try{Va(g);for(let E=c;E<d;E++){const I=i.data[E],S=s[E];Lc(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&UC(I,S)}}finally{Va(-1),Lc(y)}}(i,s,a))}function ip(i,s,a=X){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const g=c[f+1],y=-1===g?a(s,i):i[g];i[d++]=y}}}function xC(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=tu(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function tu(i,s,a,c,d,f,g,y,E,I){const S=20+c,x=S+d,R=function(i,s){const a=[];for(let c=0;c<s;c++)a.push(c<i?null:Xt);return a}(S,x),H="function"==typeof I?I():I;return R[1]={type:i,blueprint:R,template:a,queries:null,viewQuery:y,declTNode:s,data:R.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:E,consts:H,incompleteFirstPass:!1}}function sp(i,s,a,c){const d=ab(s);null===a?d.push(c):(d.push(a),i.firstCreatePass&&hp(i).push(c,d.length-1))}function Rm(i,s,a){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(s,d):a[c]=[s,d]}return a}function Ps(i,s,a,c,d,f,g,y){const E=X(s,a);let S,I=s.inputs;!y&&null!=I&&(S=I[c])?(WC(i,a,S,c,d),Ks(s)&&function(i,s){const a=pt(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(c=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=g?g(d,s.value||"",c):d,Un(f)?f.setProperty(E,c,d):Ti(c)||(E.setProperty?E.setProperty(c,d):E[c]=d))}function ap(i,s,a,c){let d=!1;if(Ho()){const f=function(i,s,a){const c=i.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const g=c[f];mC(a,g.selectors,!1)&&(d||(d=[]),Si(zo(a,s),i,g.type),lr(g)?(jC(i,a),d.unshift(g)):d.push(g))}return d}(i,s,a),g=null===c?null:{"":-1};if(null!==f){d=!0,$C(a,i.data.length,f.length);for(let S=0;S<f.length;S++){const x=f[S];x.providersResolver&&x.providersResolver(x)}let y=!1,E=!1,I=eu(i,s,f.length,null);for(let S=0;S<f.length;S++){const x=f[S];a.mergedAttrs=ld(a.mergedAttrs,x.hostAttrs),rc(i,a,s,I,x),nc(I,x,g),null!==x.contentQueries&&(a.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(a.flags|=128);const R=x.type.prototype;!y&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),y=!0),!E&&(R.ngOnChanges||R.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),E=!0),I++}!function(i,s){const c=s.directiveEnd,d=i.data,f=s.attrs,g=[];let y=null,E=null;for(let I=s.directiveStart;I<c;I++){const S=d[I],x=S.inputs,R=null===f||gC(s)?null:lp(x,f);g.push(R),y=Rm(x,I,y),E=Rm(S.outputs,I,E)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=g,s.inputs=y,s.outputs=E}(i,a)}g&&function(i,s,a){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new $e("301",`Export of name '${s[d+1]}' not found!`);c.push(s[d],f)}}}(a,c,g)}return a.mergedAttrs=ld(a.mergedAttrs,a.attrs),d}function FC(i,s,a,c,d,f){const g=f.hostBindings;if(g){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const E=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=E&&y.push(E),y.push(c,d,g)}}function UC(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function jC(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function nc(i,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=i;lr(s)&&(a[""]=i)}}function $C(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function rc(i,s,a,c,d){i.data[c]=d;const f=d.factory||(d.factory=Es(d.type)),g=new Ba(f,lr(d),null);i.blueprint[c]=g,a[c]=g,FC(i,s,0,c,eu(i,a,d.hostVars,Xt),d)}function qA(i,s,a){const c=X(s,i),d=xC(a),f=i[10],g=up(i,Hd(i,d,null,a.onPush?64:16,c,s,f,f.createRenderer(c,a),null,null));i[s.index]=g}function fa(i,s,a,c,d,f){const g=X(i,s);!function(i,s,a,c,d,f,g){if(null==f)Un(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const y=null==g?se(f):g(f,c||"",d);Un(i)?i.setAttribute(s,d,y,a):a?s.setAttributeNS(a,d,y):s.setAttribute(d,y)}}(s[11],g,f,i.value,a,c,d)}function zA(i,s,a,c,d,f){const g=f[s];if(null!==g){const y=c.setInput;for(let E=0;E<g.length;){const I=g[E++],S=g[E++],x=g[E++];null!==y?c.setInput(a,x,I,S):a[S]=x}}}function lp(i,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return a}function Om(i,s,a,c){return new Array(i,!0,!1,s,null,0,c,a,null,null)}function ZA(i,s){const a=pt(s,i);if(Ht(a)){const c=a[1];80&a[2]?rl(c,a,c.template,a[8]):a[5]>0&&cp(a)}}function cp(i){for(let c=Fd(i);null!==c;c=Ov(c))for(let d=10;d<c.length;d++){const f=c[d];if(1024&f[2]){const g=f[1];rl(g,f,g.template,f[8])}else f[5]>0&&cp(f)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=pt(a[c],i);Ht(d)&&d[5]>0&&cp(d)}}function to(i,s){const a=pt(s,i),c=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(c,a),np(c,a,a[8])}function up(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function qd(i){for(;i;){i[2]|=64;const s=Zf(i);if(ni(i)&&!s)return i;i=s}return null}function ob(i,s,a){const c=s[10];c.begin&&c.begin();try{rl(i,s,i.template,a)}catch(d){throw zC(s,d),d}finally{c.end&&c.end()}}function qC(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],c=Em(a),d=c[1];MC(d,c,d.template,a)}}(i[8])}function Fm(i,s,a){Fl(0),s(i,a)}const dp=(()=>Promise.resolve(null))();function ab(i){return i[7]||(i[7]=[])}function hp(i){return i.cleanup||(i.cleanup=[])}function zC(i,s){const a=i[9],c=a?a.get(Nd,null):null;c&&c.handleError(s)}function WC(i,s,a,c,d){for(let f=0;f<a.length;){const g=a[f++],y=a[f++],E=s[g],I=i.data[g];null!==I.setInput?I.setInput(E,d,c,y):E[y]=d}}function il(i,s,a){const c=N(s,i);!function(i,s,a){Un(i)?i.setValue(s,a):s.textContent=a}(i[11],c,a)}function Lm(i,s,a){let c=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let g=0;g<s.length;g++){const y=s[g];"number"==typeof y?f=y:1==f?d=re(d,y):2==f&&(c=re(c,y+": "+s[++g]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}const nu=new cr("INJECTOR",-1);class fp{get(s,a=ea){if(a===ea){const c=new Error(`NullInjectorError: No provider for ${ie(s)}!`);throw c.name="NullInjectorError",c}return a}}const pp=new cr("Set Injector scope."),gp={},Vm={};let ub;function zd(){return void 0===ub&&(ub=new fp),ub}function ZC(i,s=null,a=null,c){return new mp(i,a,s||zd(),c)}class mp{constructor(s,a,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&Di(a,y=>this.processProvider(y,s,a)),Di([s],y=>this.processInjectorType(y,[],f)),this.records.set(nu,Wd(void 0,this));const g=this.records.get(pp);this.scope=null!=g?g.value:null,this.source=d||("object"==typeof s?null:ie(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=ea,c=lt.Default){this.assertNotDestroyed();const d=ra(this),f=Fn(void 0);try{if(!(c&lt.SkipSelf)){let y=this.records.get(s);if(void 0===y){const E=("function"==typeof(i=s)||"object"==typeof i&&i instanceof cr)&&wn(s);y=E&&this.injectableDefInScope(E)?Wd(db(s),gp):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(c&lt.Self?zd():this.parent).get(s,a=c&lt.Optional&&a===ea?null:a)}catch(g){if("NullInjectorError"===g.name){if((g[ta]=g[ta]||[]).unshift(ie(s)),d)throw g;return Ff(g,s,"R3InjectorError",this.source)}throw g}finally{Fn(f),ra(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(ie(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,c){if(!(s=V(s)))return!1;let d=Tr(s);const f=null==d&&s.ngModule||void 0,g=void 0===f?s:f,y=-1!==c.indexOf(g);if(void 0!==f&&(d=Tr(f)),null==d)return!1;if(null!=d.imports&&!y){let S;c.push(g);try{Di(d.imports,x=>{this.processInjectorType(x,a,c)&&(void 0===S&&(S=[]),S.push(x))})}finally{}if(void 0!==S)for(let x=0;x<S.length;x++){const{ngModule:R,providers:H}=S[x];Di(H,Q=>this.processProvider(Q,R,H||q))}}this.injectorDefTypes.add(g);const E=Es(g)||(()=>new g);this.records.set(g,Wd(E,gp));const I=d.providers;if(null!=I&&!y){const S=s;Di(I,x=>this.processProvider(x,S,I))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,c){let d=Zd(s=V(s))?s:V(s&&s.provide);const f=YC(i=s)?Wd(void 0,i.useValue):Wd(KC(i),gp);var i;if(Zd(s)||!0!==s.multi)this.records.get(d);else{let g=this.records.get(d);g||(g=Wd(void 0,gp,!0),g.factory=()=>ia(g.multi),this.records.set(d,g)),d=s,g.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===gp&&(a.value=Vm,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=V(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function db(i){const s=wn(i),a=null!==s?s.factory:Es(i);if(null!==a)return a;if(i instanceof cr)throw new Error(`Token ${ie(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const c=qa(s,"?");throw new Error(`Can't resolve all parameters for ${ie(i)}: (${c.join(", ")}).`)}const a=function(i){const s=i&&(i[ir]||i[sr]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function KC(i,s,a){let c;if(Zd(i)){const d=V(i);return Es(d)||db(d)}if(YC(i))c=()=>V(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...ia(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))c=()=>Hn(V(i.useExisting));else{const d=V(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Es(d)||db(d);c=()=>new d(...ia(i.deps))}return c}function Wd(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function YC(i){return null!==i&&"object"==typeof i&&na in i}function Zd(i){return"function"==typeof i}const hb=function(i,s,a){return function(i,s=null,a=null,c){const d=ZC(i,s,a,c);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let dr=(()=>{class i{static create(a,c){return Array.isArray(a)?hb(a,c,""):hb(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=ea,i.NULL=new fp,i.\u0275prov=Tt({token:i,providedIn:"any",factory:()=>Hn(nu)}),i.__NG_ELEMENT_ID__=-1,i})();function gM(i,s){id(Em(i)[1],Yn())}function Cb(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;s;){let d;if(lr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){c.push(d);const g=i;g.inputs=Ib(i.inputs),g.declaredInputs=Ib(i.declaredInputs),g.outputs=Ib(i.outputs);const y=d.hostBindings;y&&yM(i,y);const E=d.viewQuery,I=d.contentQueries;if(E&&lI(i,E),I&&_M(i,I),ue(i.inputs,d.inputs),ue(i.declaredInputs,d.declaredInputs),ue(i.outputs,d.outputs),lr(d)&&d.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let g=0;g<f.length;g++){const y=f[g];y&&y.ngInherit&&y(i),y===Cb&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=ld(d.hostAttrs,a=ld(a,d.hostAttrs))}}(c)}function Ib(i){return i===W?{}:i===q?[]:i}function lI(i,s){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function _M(i,s){const a=i.contentQueries;i.contentQueries=a?(c,d,f)=>{s(c,d,f),a(c,d,f)}:s}function yM(i,s){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}let $m=null;function iu(){if(!$m){const i=sn.Symbol;if(i&&i.iterator)$m=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const c=s[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&($m=c)}}}return $m}function vp(i){return!!Sb(i)&&(Array.isArray(i)||!(i instanceof Map)&&iu()in i)}function Sb(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ma(i,s,a){return i[s]=a}function Pt(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function _a(i,s,a,c){const d=Pt(i,s,a);return Pt(i,s+1,c)||d}function bp(i,s,a,c){const d=Ue();return Pt(d,Ts(),s)&&(hn(),fa(yr(),d,i,s,a,c)),bp}function zm(i,s,a,c,d,f,g,y){const E=Ue(),I=hn(),S=i+20,x=I.firstCreatePass?function(i,s,a,c,d,f,g,y,E){const I=s.consts,S=Gd(s,i,4,g||null,kn(I,y));ap(s,a,S,kn(I,E)),id(s,S);const x=S.tViews=tu(2,S,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,S),x.queries=s.queries.embeddedTView(S)),S}(S,I,E,s,a,c,d,f,g):I.data[S];os(x,!1);const R=E[11].createComment("");Tm(I,E,R,x),xi(R,E),up(E,E[S]=Om(R,E,R,x)),ns(x)&&rp(I,E,x),null!=g&&ip(E,x,y)}function hI(i){return function(i,s){return i[s]}(vt.lFrame.contextLView,20+i)}function lu(i,s=lt.Default){const a=Ue();return null===a?Hn(i,s):Df(Yn(),a,V(i),s)}function Tp(i,s,a){const c=Ue();return Pt(c,Ts(),s)&&Ps(hn(),yr(),c,i,s,c[11],a,!1),Tp}function Jm(i,s,a,c,d){const g=d?"class":"style";WC(i,a,s.inputs[g],g,c)}function Fb(i,s,a,c){const d=Ue(),f=hn(),g=20+i,y=d[11],E=d[g]=Er(y,s,vt.lFrame.currentNamespace),I=f.firstCreatePass?function(i,s,a,c,d,f,g){const y=s.consts,I=Gd(s,i,2,d,kn(y,f));return ap(s,a,I,kn(y,g)),null!==I.attrs&&Lm(I,I.attrs,!1),null!==I.mergedAttrs&&Lm(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(g,f,d,0,s,a,c):f.data[g];os(I,!0);const S=I.mergedAttrs;null!==S&&ad(y,E,S);const x=I.classes;null!==x&&$v(y,E,x);const R=I.styles;null!==R&&hC(y,E,R),64!=(64&I.flags)&&Tm(f,d,E,I),0===vt.lFrame.elementDepthCount&&xi(E,d),vt.lFrame.elementDepthCount++,ns(I)&&(rp(f,d,I),function(i,s,a){if(Ac(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const g=i.data[f];g.contentQueries&&g.contentQueries(1,a[f],f)}}}(f,I,d)),null!==c&&ip(d,I)}function Xm(){let i=Yn();Pl()?ed():(i=i.parent,os(i,!1));const s=i;vt.lFrame.elementDepthCount--;const a=hn();a.firstCreatePass&&(id(a,i),Ac(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&Jm(a,s,Ue(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&Jm(a,s,Ue(),s.stylesWithoutHost,!1)}function Lb(i,s,a,c){Fb(i,s,a,c),Xm()}function t_(){return Ue()}function Pr(i){return!!i&&"function"==typeof i.then}function si(i){return!!i&&"function"==typeof i.subscribe}const rh=si;function Sp(i,s,a,c){const d=Ue(),f=hn(),g=Yn();return function(i,s,a,c,d,f,g,y){const E=ns(c),S=i.firstCreatePass&&hp(i),x=s[8],R=ab(s);let H=!0;if(3&c.type||y){const ae=X(c,s),ze=y?y(ae):ae,Ne=R.length,Ct=y?jt=>y(Pn(jt[c.index])):c.index;if(Un(a)){let jt=null;if(!y&&E&&(jt=function(i,s,a,c){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const g=d[f];if(g===a&&d[f+1]===c){const y=s[7],E=d[f+2];return y.length>E?y[E]:null}"string"==typeof g&&(f+=2)}return null}(i,s,d,c.index)),null!==jt)(jt.__ngLastListenerFn__||jt).__ngNextListenerFn__=f,jt.__ngLastListenerFn__=f,H=!1;else{f=Bb(c,s,x,f,!1);const an=a.listen(ze,d,f);R.push(f,an),S&&S.push(d,Ct,Ne,Ne+1)}}else f=Bb(c,s,x,f,!0),ze.addEventListener(d,f,g),R.push(f),S&&S.push(d,Ct,Ne,g)}else f=Bb(c,s,x,f,!1);const Q=c.outputs;let be;if(H&&null!==Q&&(be=Q[d])){const ae=be.length;if(ae)for(let ze=0;ze<ae;ze+=2){const Xr=s[be[ze]][be[ze+1]].subscribe(f),_o=R.length;R.push(f,Xr),S&&S.push(d,c.index,_o,-(_o+1))}}}(f,d,d[11],g,i,s,!!a,c),Sp}function RI(i,s,a,c){try{return!1!==a(c)}catch(d){return zC(i,d),!1}}function Bb(i,s,a,c,d){return function f(g){if(g===Function)return c;const y=2&i.flags?pt(i.index,s):s;0==(32&s[2])&&qd(y);let E=RI(s,0,c,g),I=f.__ngNextListenerFn__;for(;I;)E=RI(s,0,I,g)&&E,I=I.__ngNextListenerFn__;return d&&!1===E&&(g.preventDefault(),g.returnValue=!1),E}}function n_(i=1){return function(i){return(vt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,vt.lFrame.contextLView))[8]}(i)}function jb(i,s){let a=null;const c=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===c?mC(i,f,!0):xA(c,f))return d}else a=d}return a}function kI(i){const s=Ue()[16][6];if(!s.projection){const c=s.projection=qa(i?i.length:1,null),d=c.slice();let f=s.child;for(;null!==f;){const g=i?jb(f,i):0;null!==g&&(d[g]?d[g].projectionNext=f:c[g]=f,d[g]=f),f=f.next}}}function r_(i,s=0,a){const c=Ue(),d=hn(),f=Gd(d,20+i,16,null,a||null);null===f.projection&&(f.projection=s),ed(),64!=(64&f.flags)&&function(i,s,a){uC(s[11],0,s,a,nC(i,a,s),oC(a.parent||s[6],a,s))}(d,c,f)}function PI(i,s,a,c,d){const f=i[a+1],g=null===s;let y=c?Do(f):da(f),E=!1;for(;0!==y&&(!1===E||g);){const S=i[y+1];sh(i[y],s)&&(E=!0,i[y+1]=c?CC(S):eo(S)),y=c?Do(S):da(S)}E&&(i[a+1]=c?eo(f):CC(f))}function sh(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&xs(i,s)>=0}function l_(i,s,a){return Ki(i,s,a,!1),l_}function uu(i,s){return Ki(i,s,null,!0),uu}function Ki(i,s,a,c){const d=Ue(),f=hn(),g=function(i){const s=vt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function(i,s,a,c){const d=i.data;if(null===d[a+1]){const f=d[hi()],g=function(i,s){return s>=i.expandoStartIndex}(i,a);(function(i,s){return 0!=(i.flags&(s?16:32))})(f,c)&&null===s&&!g&&(s=!1),s=function(i,s,a,c){const d=function(i){const s=vt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=Rp(a=d_(null,i,s,a,c),s.attrs,c),f=null);else{const g=s.directiveStylingLast;if(-1===g||i[g]!==d)if(a=d_(d,i,s,a,c),null===f){let E=function(i,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==da(c))return i[Do(c)]}(i,s,c);void 0!==E&&Array.isArray(E)&&(E=d_(null,i,s,E[1],c),E=Rp(E,s.attrs,c),function(i,s,a,c){i[Do(a?s.classBindings:s.styleBindings)]=c}(i,s,c,E))}else f=function(i,s,a){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=Rp(c,i[f].hostAttrs,a);return Rp(c,s.attrs,a)}(i,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,c),function(i,s,a,c,d,f){let g=f?s.classBindings:s.styleBindings,y=Do(g),E=da(g);i[c]=a;let S,I=!1;if(Array.isArray(a)){const x=a;S=x[1],(null===S||xs(x,S)>0)&&(I=!0)}else S=a;if(d)if(0!==E){const R=Do(i[y+1]);i[c+1]=Bd(R,y),0!==R&&(i[R+1]=Sm(i[R+1],c)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],c)}else i[c+1]=Bd(y,0),0!==y&&(i[y+1]=Sm(i[y+1],c)),y=c;else i[c+1]=Bd(E,0),0===y?y=c:i[E+1]=Sm(i[E+1],c),E=c;I&&(i[c+1]=eo(i[c+1])),PI(i,S,c,!0),PI(i,S,c,!1),function(i,s,a,c,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&xs(f,s)>=0&&(a[c+1]=CC(a[c+1]))}(s,S,i,c,f),g=Bd(y,E),f?s.classBindings=g:s.styleBindings=g}(d,f,s,a,g,c)}}(f,i,g,c),s!==Xt&&Pt(d,g,s)&&function(i,s,a,c,d,f,g,y){if(!(3&s.type))return;const E=i.data,I=E[y+1];lh(function(i){return 1==(1&i)}(I)?sc(E,s,a,d,da(I),g):void 0)||(lh(f)||function(i){return 2==(2&i)}(I)&&(f=sc(E,null,a,d,y,g)),function(i,s,a,c,d){const f=Un(i);if(s)d?f?i.addClass(a,c):a.classList.add(c):f?i.removeClass(a,c):a.classList.remove(c);else{let g=-1===c.indexOf("-")?void 0:ca.DashCase;if(null==d)f?i.removeStyle(a,c,g):a.style.removeProperty(c);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),g|=ca.Important),f?i.setStyle(a,c,d,g):a.style.setProperty(c,d,y?"important":"")}}}(c,g,N(hi(),a),d,f))}(f,f.data[hi()],d,d[11],i,d[g+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ie(aa(i)))),i}(s,a),c,g)}function d_(i,s,a,c,d){let f=null;const g=a.directiveEnd;let y=a.directiveStylingLast;for(-1===y?y=a.directiveStart:y++;y<g&&(f=s[y],c=Rp(c,f.hostAttrs,d),f!==i);)y++;return null!==i&&(a.directiveStylingLast=y),c}function Rp(i,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const g=s[f];"number"==typeof g?d=g:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ri(i,g,!!a||s[++f]))}return void 0===i?null:i}function sc(i,s,a,c,d,f){const g=null===s;let y;for(;d>0;){const E=i[d],I=Array.isArray(E),S=I?E[1]:E,x=null===S;let R=a[d+1];R===Xt&&(R=x?q:void 0);let H=x?Hl(R,c):S===c?R:void 0;if(I&&!lh(H)&&(H=Hl(E,c)),lh(H)&&(y=H,g))return y;const Q=i[d+1];d=g?Do(Q):da(Q)}if(null!==s){let E=f?s.residualClasses:s.residualStyles;null!=E&&(y=Hl(E,c))}return y}function lh(i){return void 0!==i}function du(i,s=""){const a=Ue(),c=hn(),d=i+20,f=c.firstCreatePass?Gd(c,d,1,s,null):c.data[d],g=a[d]=function(i,s){return Un(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Tm(c,a,g,f),os(f,!1)}function Op(i){return va("",i,""),Op}function va(i,s,a){const c=Ue(),d=function(i,s,a,c){return Pt(i,Ts(),a)?s+se(a)+c:Xt}(c,i,s,a);return d!==Xt&&il(c,hi(),d),va}function __(i,s,a){const c=Ue();return Pt(c,Ts(),s)&&Ps(hn(),yr(),c,i,s,c[11],a,!0),__}const hu=void 0;var zM=["en",[["a","p"],["AM","PM"],hu],[["AM","PM"],hu,hu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hu,"{1} 'at' {0}",hu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),a=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let ol={};function uh(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=dh(s);if(a)return a;const c=s.split("-")[0];if(a=dh(c),a)return a;if("en"===c)return zM;throw new Error(`Missing locale data for the locale "${i}".`)}function iE(i){return uh(i)[kt.PluralCase]}function dh(i){return i in ol||(ol[i]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[i]),ol[i]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const E_="en-US";let jp=E_;function C_(i){mt(i,"Expected localeId to be defined"),"string"==typeof i&&(jp=i.toLowerCase().replace(/_/g,"-"))}function zr(i,s,a,c,d){if(i=V(i),Array.isArray(i))for(let f=0;f<i.length;f++)zr(i[f],s,a,c,d);else{const f=hn(),g=Ue();let y=Zd(i)?i:V(i.provide),E=KC(i);const I=Yn(),S=1048575&I.providerIndexes,x=I.directiveStart,R=I.providerIndexes>>20;if(Zd(i)||!i.multi){const H=new Ba(E,d,lu),Q=Sr(y,s,d?S:S+R,x);-1===Q?(Si(zo(I,g),f,y),cc(f,i,s.length),s.push(y),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(H),g.push(H)):(a[Q]=H,g[Q]=H)}else{const H=Sr(y,s,S+R,x),Q=Sr(y,s,S,S+R),be=H>=0&&a[H],ae=Q>=0&&a[Q];if(d&&!ae||!d&&!be){Si(zo(I,g),f,y);const ze=function(i,s,a,c,d){const f=new Ba(i,a,lu);return f.multi=[],f.index=s,f.componentProviders=0,uT(f,d,c&&!a),f}(d?uc:ux,a.length,d,c,E);!d&&ae&&(a[Q].providerFactory=ze),cc(f,i,s.length,0),s.push(y),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(ze),g.push(ze)}else cc(f,i,H>-1?H:Q,uT(a[d?Q:H],E,!d&&c));!d&&c&&ae&&a[Q].componentProviders++}}}function cc(i,s,a,c){const d=Zd(s);if(d||function(i){return!!i.useClass}(s)){const g=(s.useClass||s).prototype.ngOnDestroy;if(g){const y=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const E=y.indexOf(a);-1===E?y.push(a,[c,g]):y[E+1].push(c,g)}else y.push(a,g)}}}function uT(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Sr(i,s,a,c){for(let d=a;d<c;d++)if(s[d]===i)return d;return-1}function ux(i,s,a,c){return wr(this.multi,[])}function uc(i,s,a,c){const d=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,y=fd(a,a[1],this.providerFactory.index,c);f=y.slice(0,g),wr(d,f);for(let E=g;E<y.length;E++)f.push(y[E])}else f=[],wr(d,f);return f}function wr(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function x_(i,s=[]){return a=>{a.providersResolver=(c,d)=>function(i,s,a){const c=hn();if(c.firstCreatePass){const d=lr(i);zr(a,c.data,c.blueprint,d,!0),zr(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class Eh{}const zp="ngComponent";class Et{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${ie(i)}. Did you add it to @NgModule.entryComponents?`);return s[zp]=i,s}(s)}}let oo=(()=>{class i{}return i.NULL=new Et,i})();function ul(...i){}function hc(i,s){return new ao(X(i,s))}const CE=function(){return hc(Yn(),Ue())};let ao=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=CE,i})();function IE(i){return i instanceof ao?i.nativeElement:i}class mu{}let Wp=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>er(),i})();const er=function(){const i=Ue(),a=pt(Yn().index,i);return function(i){return i[11]}(bs(a)?a:i)};let _u=(()=>{class i{}return i.\u0275prov=Tt({token:i,providedIn:"root",factory:()=>null}),i})();class pT{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const wh=new pT("12.2.15");class Zp{constructor(){}supports(s){return vp(s)}create(s){return new gx(s)}}const Yi=(i,s)=>s;class gx{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Yi}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,f=null;for(;a||c;){const g=!c||a&&a.currentIndex<gT(c,d,f)?a:c,y=gT(g,d,f),E=g.currentIndex;if(g===c)d--,c=c._nextRemoved;else if(a=a._next,null==g.previousIndex)d++;else{f||(f=[]);const I=y-d,S=E-d;if(I!=S){for(let R=0;R<I;R++){const H=R<f.length?f[R]:f[R]=0,Q=H+R;S<=Q&&Q<I&&(f[R]=H+1)}f[g.previousIndex]=S-I}}y!==E&&s(g,y,E)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!vp(s))throw new Error(`Error trying to diff '${ie(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,g,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],g=this._trackByFn(y,f),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,f,g,y)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,g,y),c=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[iu()]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,y=>{g=this._trackByFn(d,y),null!==a&&Object.is(a.trackById,g)?(c&&(a=this._verifyReinsertion(a,y,g,d)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,g,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new mx(a,c),f,d),s}_verifyReinsertion(s,a,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new TE),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class mx{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _x{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class TE{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new _x,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gT(i,s,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class mT{constructor(){}supports(s){return s instanceof Map||Sb(s)}create(){return new yx}}class yx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Sb(s)))throw new Error(`Error trying to diff '${ie(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,g=d._next;return f&&(f._next=g),g&&(g._prev=f),d._next=null,d._prev=null,d}const c=new vx(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class vx{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ch(){return new yu([new Zp])}let yu=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Ch()),deps:[[i,new cs,new Io]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=Tt({token:i,providedIn:"root",factory:Ch}),i})();function _T(){return new Kp([new mT])}let Kp=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||_T()),deps:[[i,new cs,new Io]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=Tt({token:i,providedIn:"root",factory:_T}),i})();function Yp(i,s,a,c,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&c.push(Pn(f)),xr(f))for(let y=10;y<f.length;y++){const E=f[y],I=E[1].firstChild;null!==I&&Yp(E[1],E,I,c)}const g=a.type;if(8&g)Yp(i,s,a.child,c);else if(32&g){const y=Cm(a,s);let E;for(;E=y();)c.push(E)}else if(16&g){const y=cC(s,a);if(Array.isArray(y))c.push(...y);else{const E=Zf(s[16]);Yp(E[1],E,y,c,!0)}}a=d?a.projectionNext:a.next}return c}class Us{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Yp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(xr(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Jc(s,c),jl(a,c))}this._attachedToViewContainer=!1}Ld(this._lView[1],this._lView)}onDestroy(s){sp(this._lView[1],this._lView,null,s)}markForCheck(){qd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ob(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){Nl(!0);try{ob(i,s,a)}finally{Nl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,To(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class yT extends Us{constructor(s){super(s),this._view=s}detectChanges(){qC(this._view)}checkNoChanges(){!function(i){Nl(!0);try{qC(i)}finally{Nl(!1)}}(this._view)}get context(){return null}}const R_=function(i){return function(i,s,a){if(Ks(i)&&!a){const c=pt(i.index,s);return new Us(c,c)}return 47&i.type?new Us(s[16],s):null}(Yn(),Ue(),16==(16&i))};let DE=(()=>{class i{}return i.__NG_ELEMENT_ID__=R_,i})();const Sh=[new mT],vT=new yu([new Zp]),Qp=new Kp(Sh),Jp=function(){return Xp(Yn(),Ue())};let Dh=(()=>{class i{}return i.__NG_ELEMENT_ID__=Jp,i})();const bx=Dh,wT=class extends bx{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(s){const a=this._declarationTContainer.tViews,c=Hd(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(c[19]=f.createEmbeddedView(a)),np(a,c,s),new Us(c)}};function Xp(i,s){return 4&i.type?new wT(s,i,hc(i,s)):null}class Ea{}class IT{}const Ah=function(){return RE(Yn(),Ue())};let wa=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ah,i})();const vu=wa,xE=class extends vu{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return hc(this._hostTNode,this._hostLView)}get injector(){return new Ul(this._hostTNode,this._hostLView)}get parentInjector(){const s=Bc(this._hostTNode,this._hostLView);if(cd(s)){const a=ja(s,this._hostLView),c=Eo(s);return new Ul(a[1].data[c+8],a)}return new Ul(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=bu(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,c){const d=s.createEmbeddedView(a||{});return this.insert(d,c),d}createComponent(s,a,c,d,f){const g=c||this.parentInjector;if(!f&&null==s.ngModule&&g){const E=g.get(Ea,null);E&&(f=E)}const y=s.create(g,d,void 0,f);return this.insert(y.hostView,a),y}insert(s,a){const c=s._lView,d=c[1];if(xr(c[3])){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const x=c[3],R=new xE(x,x[6],x[3]);R.detach(R.indexOf(s))}}const f=this._adjustIndex(a),g=this._lContainer;!function(i,s,a,c){const d=10+c,f=a.length;c>0&&(a[d-1][4]=s),c<f-10?(s[4]=a[d],Qo(a,10+c,s)):(a.push(s),s[4]=null),s[3]=a;const g=s[17];null!==g&&a!==g&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(g,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(d,c,g,f);const y=Uv(f,g),E=c[11],I=Xa(E,g[7]);return null!==I&&function(i,s,a,c,d,f){c[0]=d,c[6]=s,To(i,c,a,1,d,f)}(d,g[6],E,c,I,y),s.attachToViewContainerRef(),Qo(k_(g),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=bu(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Jc(this._lContainer,a);c&&(jl(k_(this._lContainer),a),Ld(c[1],c))}detach(s){const a=this._adjustIndex(s,-1),c=Jc(this._lContainer,a);return c&&null!=jl(k_(this._lContainer),a)?new Us(c):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function bu(i){return i[8]}function k_(i){return i[8]||(i[8]=[])}function RE(i,s){let a;const c=s[i.index];if(xr(c))a=c;else{let d;if(8&i.type)d=Pn(c);else{const f=s[11];d=f.createComment("");const g=X(i,s);us(f,Xa(f,g),d,function(i,s){return Un(i)?i.nextSibling(s):s.nextSibling}(f,g),!1)}s[i.index]=a=Om(c,s,d,i),up(s,a)}return new xE(a,i,s)}const po={};class gl extends oo{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=un(s);return new HE(a,this.ngModule)}}function BE(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const $T=new cr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Wi});class HE extends Eh{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(bC).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return BE(this.componentDef.inputs)}get outputs(){return BE(this.componentDef.outputs)}create(s,a,c,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(a,c,d)=>{const f=i.get(a,po,d);return f!==po||c===po?f:s.get(a,c,d)}}}(s,d.injector):s,g=f.get(mu,Cs),y=f.get(_u,null),E=g.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=c?function(i,s,a){if(Un(i))return i.selectRootElement(s,a===We.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(E,c,this.componentDef.encapsulation):Er(g.createRenderer(null,this.componentDef),I,function(i){const s=i.toLowerCase();return"svg"===s?Ys:"math"===s?"http://www.w3.org/1998/MathML/":null}(I)),x=this.componentDef.onPush?576:528,R=function(i,s){return{components:[],scheduler:i||Wi,clean:dp,playerHandler:s||null,flags:0}}(),H=tu(0,null,null,1,0,null,null,null,null,null),Q=Hd(null,H,R,x,null,null,g,E,y,f);let be,ae;bo(Q);try{const ze=function(i,s,a,c,d,f){const g=a[1];a[20]=i;const E=Gd(g,20,2,"#host",null),I=E.mergedAttrs=s.hostAttrs;null!==I&&(Lm(E,I,!0),null!==i&&(ad(d,i,I),null!==E.classes&&$v(d,i,E.classes),null!==E.styles&&hC(d,i,E.styles)));const S=c.createRenderer(i,s),x=Hd(a,xC(s),null,s.onPush?64:16,a[20],E,c,S,f||null,null);return g.firstCreatePass&&(Si(zo(E,a),g,s.type),jC(g,E),$C(E,a.length,1)),up(a,x),a[20]=x}(S,this.componentDef,Q,g,E);if(S)if(c)ad(E,S,["ng-version",wh.full]);else{const{attrs:Ne,classes:Ct}=function(i){const s=[],a=[];let c=1,d=2;for(;c<i.length;){let f=i[c];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++c]):8===d&&a.push(f);else{if(!So(d))break;d=f}c++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ne&&ad(E,S,Ne),Ct&&Ct.length>0&&$v(E,S,Ct.join(" "))}if(ae=Ge(H,20),void 0!==a){const Ne=ae.projection=[];for(let Ct=0;Ct<this.ngContentSelectors.length;Ct++){const jt=a[Ct];Ne.push(null!=jt?Array.from(jt):null)}}be=function(i,s,a,c,d){const f=a[1],g=function(i,s,a){const c=Yn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),rc(i,c,s,eu(i,s,1,null),a));const d=fd(s,i,c.directiveStart,c);xi(d,s);const f=X(c,s);return f&&xi(f,s),d}(f,a,s);if(c.components.push(g),i[8]=g,d&&d.forEach(E=>E(g,s)),s.contentQueries){const E=Yn();s.contentQueries(1,g,E.directiveStart)}const y=Yn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Va(y.index),FC(a[1],y,0,y.directiveStart,y.directiveEnd,s),UC(s,g)),g}(ze,this.componentDef,Q,R,[gM]),np(H,Q,null)}finally{Vc()}return new jh(this.componentType,be,hc(ae,Q),Q,ae)}}class jh extends class{}{constructor(s,a,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new yT(d),this.componentType=s}get injector(){return new Ul(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Su=new Map;class GE extends Ea{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gl(this);const c=Lt(s),d=s[oe]||null;d&&C_(d),this._bootstrapComponents=Jn(c.bootstrap),this._r3Injector=ZC(s,a,[{provide:Ea,useValue:this},{provide:oo,useValue:this.componentFactoryResolver}],ie(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=dr.THROW_IF_NOT_FOUND,c=lt.Default){return s===dr||s===Ea||s===nu?this:this._r3Injector.get(s,a,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class qE extends IT{constructor(s){super(),this.moduleType=s,null!==Lt(s)&&function(i){const s=new Set;!function a(c){const d=Lt(c,!0),f=d.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ie(s)} vs ${ie(s.name)}`)}(f,Su.get(f),c),Su.set(f,c));const g=Jn(d.imports);for(const y of g)s.has(y)||(s.add(y),a(y))}(i)}(s)}create(s){return new GE(this.moduleType,s)}}function zE(i,s,a,c){return function(i,s,a,c,d,f){const g=s+a;return Pt(i,g,d)?ma(i,g+1,f?c.call(f,d):c(d)):ko(i,g+1)}(Ue(),Rr(),i,s,a,c)}function Qi(i,s,a,c,d){return function(i,s,a,c,d,f,g){const y=s+a;return _a(i,y,d,f)?ma(i,y+2,g?c.call(g,d,f):c(d,f)):ko(i,y+2)}(Ue(),Rr(),i,s,a,c,d)}function cg(i,s,a,c,d,f,g){return function(i,s,a,c,d,f,g,y,E){const I=s+a;return function(i,s,a,c,d,f){const g=_a(i,s,a,c);return _a(i,s+2,d,f)||g}(i,I,d,f,g,y)?ma(i,I+4,E?c.call(E,d,f,g,y):c(d,f,g,y)):ko(i,I+4)}(Ue(),Rr(),i,s,a,c,d,f,g)}function ZE(i,s,a,c){return function(i,s,a,c,d,f){let g=s+a,y=!1;for(let E=0;E<d.length;E++)Pt(i,g++,d[E])&&(y=!0);return y?ma(i,g,c.apply(f,d)):ko(i,g)}(Ue(),Rr(),i,s,a,c)}function ko(i,s){const a=i[s];return a===Xt?void 0:a}function QE(i){return s=>{setTimeout(i,void 0,s)}}const Oo=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){var d,f,g;let y=s,E=a||(()=>null),I=c;if(s&&"object"==typeof s){const x=s;y=null===(d=x.next)||void 0===d?void 0:d.bind(x),E=null===(f=x.error)||void 0===f?void 0:f.bind(x),I=null===(g=x.complete)||void 0===g?void 0:g.bind(x)}this.__isAsync&&(E=QE(E),y&&(y=QE(y)),I&&(I=QE(I)));const S=super.subscribe({next:y,error:E,complete:I});return s instanceof j.w&&s.add(S),S}};function mc(){return this._results[iu()]()}class Au{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=iu(),c=Au.prototype;c[a]||(c[a]=mc)}get changes(){return this._changes||(this._changes=new Oo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=ls(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],f=s[c];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ug{constructor(s){this.queryList=s,this.matches=null}clone(){return new ug(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mu{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<c;f++){const g=a.getByIndex(f);d.push(this.queries[g.indexInDeclarationView].clone())}return new Mu(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==W_(s,a).matches&&this.queries[a].setDirty()}}class dg{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class hg{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==a?a.push(f):a=[f])}return null!==a?new hg(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class JE{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new JE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,a,eS(a,f)),this.matchTNodeWithReadOption(s,a,wo(a,s,f,!1,!1))}else c===Dh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,wo(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===ao||d===wa||d===Dh&&4&a.type)this.addMatch(a.index,-2);else{const f=wo(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function eS(i,s){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function tS(i,s,a,c){return-1===a?function(i,s){return 11&i.type?hc(i,s):4&i.type?Xp(i,s):null}(s,i):-2===a?function(i,s,a){return a===ao?hc(s,i):a===Dh?Xp(s,i):a===wa?RE(s,i):void 0}(i,s,c):fd(i,i[1],a,s)}function e0(i,s,a,c){const d=s[19].queries[c];if(null===d.matches){const f=i.data,g=a.matches,y=[];for(let E=0;E<g.length;E+=2){const I=g[E];y.push(I<0?null:tS(s,f[I],g[E+1],a.metadata.read))}d.matches=y}return d.matches}function q_(i,s,a,c){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const g=e0(i,s,d,a);for(let y=0;y<f.length;y+=2){const E=f[y];if(E>0)c.push(g[y/2]);else{const I=f[y+1],S=s[-E];for(let x=10;x<S.length;x++){const R=S[x];R[17]===R[3]&&q_(R[1],R,I,c)}if(null!==S[9]){const x=S[9];for(let R=0;R<x.length;R++){const H=x[R];q_(H[1],H,I,c)}}}}}return c}function z_(i){const s=Ue(),a=hn(),c=Qg();Fl(c+1);const d=W_(a,c);if(i.dirty&&_r(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?q_(a,s,c,[]):e0(a,s,d,c);i.reset(f,IE),i.notifyOnChanges()}return!0}return!1}function nS(i,s,a){const c=hn();c.firstCreatePass&&(xu(c,new dg(i,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),sS(c,Ue(),s)}function t0(i,s,a,c){const d=hn();if(d.firstCreatePass){const f=Yn();xu(d,new dg(s,a,c),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}sS(d,Ue(),a)}function rS(){return i=Ue(),s=Qg(),i[19].queries[s].queryList;var i,s}function sS(i,s,a){const c=new Au(4==(4&a));sp(i,s,c,c.destroy),null===s[19]&&(s[19]=new Mu),s[19].queries.push(new ug(c))}function xu(i,s,a){null===i.queries&&(i.queries=new hg),i.queries.track(new JE(s,a))}function W_(i,s){return i.queries.getByIndex(s)}const yc=new cr("Application Initializer");let $s=(()=>{class i{constructor(a){this.appInits=a,this.resolve=ul,this.reject=ul,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Pr(f))a.push(f);else if(rh(f)){const g=new Promise((y,E)=>{f.subscribe({complete:y,error:E})});a.push(g)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Hn(yc,8))},i.\u0275prov=Tt({token:i,factory:i.\u0275fac}),i})();const J_=new cr("AppId"),Kh={provide:J_,useFactory:function(){return`${X_()}${X_()}${X_()}`},deps:[]};function X_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ku=new cr("Platform Initializer"),SS=new cr("Platform ID"),DS=new cr("appBootstrapListener");let ey=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Tt({token:i,factory:i.\u0275fac}),i})();const Yh=new cr("LocaleId"),ty=new cr("DefaultCurrencyCode");class gR{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const ny=function(i){return new qE(i)},xS=ny,yR=function(i){return Promise.resolve(ny(i))},ry=function(i){const s=ny(i),c=Jn(Lt(i).declarations).reduce((d,f)=>{const g=un(f);return g&&d.push(new HE(g)),d},[]);return new gR(s,c)},C0=ry,I0=function(i){return Promise.resolve(ry(i))};let Cg=(()=>{class i{constructor(){this.compileModuleSync=xS,this.compileModuleAsync=yR,this.compileModuleAndAllComponentsSync=C0,this.compileModuleAndAllComponentsAsync=I0}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Tt({token:i,factory:i.\u0275fac}),i})();const S0=(()=>Promise.resolve(0))();function iy(i){"undefined"==typeof Zone?S0.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Ji{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oo(!1),this.onMicrotaskEmpty=new Oo(!1),this.onStable=new Oo(!1),this.onError=new Oo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=sn.requestAnimationFrame,s=sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(sn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,A0(i),i.isCheckStableRunning=!0,Ig(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),A0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,f,g,y)=>{try{return sy(i),a.invokeTask(d,f,g,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),oy(i)}},onInvoke:(a,c,d,f,g,y,E)=>{try{return sy(i),a.invoke(d,f,g,y,E)}finally{i.shouldCoalesceRunChangeDetection&&s(),oy(i)}},onHasTask:(a,c,d,f)=>{a.hasTask(d,f),c===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,A0(i),Ig(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,c,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ji.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ji.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+d,s,bR,ul,ul);try{return f.runTask(g,a,c)}finally{f.cancelTask(g)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const bR={};function Ig(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function A0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function sy(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function oy(i){i._nesting--,Ig(i)}class M0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oo,this.onMicrotaskEmpty=new Oo,this.onStable=new Oo,this.onError=new Oo}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}let Ou=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ji.assertNotInAngularZone(),iy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())iy(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Hn(Ji))},i.\u0275prov=Tt({token:i,factory:i.\u0275fac}),i})(),x0=(()=>{class i{constructor(){this._applications=new Map,Tg.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return Tg.findTestabilityInTree(this,a,c)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Tt({token:i,factory:i.\u0275fac}),i})();class R0{addToWindow(s){}findTestabilityInTree(s,a,c){return null}}function wR(i){Tg=i}let Tg=new R0,Sa=!0,ay=!1;function k0(){return ay=!0,Sa}function O0(){if(ay)throw new Error("Cannot enable prod mode after platform setup.");Sa=!1}let Po;const ly=new cr("AllowMultipleToken");class LS{constructor(s,a){this.name=s,this.token=a}}function VS(i,s,a=[]){const c=`Platform: ${s}`,d=new cr(c);return(f=[])=>{let g=cy();if(!g||g.injector.get(ly,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const y=a.concat(f).concat({provide:d,useValue:!0},{provide:pp,useValue:"platform"});!function(i){if(Po&&!Po.destroyed&&!Po.injector.get(ly,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Po=i.get(uy);const s=i.get(ku,null);s&&s.forEach(a=>a())}(dr.create({providers:y,name:c}))}return function(i){const s=cy();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function cy(){return Po&&!Po.destroyed?Po:null}let uy=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const y=function(i,s){let a;return a="noop"===i?new M0:("zone.js"===i?void 0:i)||new Ji({enableLongStackTrace:k0(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),E=[{provide:Ji,useValue:y}];return y.run(()=>{const I=dr.create({providers:E,parent:this.injector,name:a.moduleType.name}),S=a.create(I),x=S.injector.get(Nd,null);if(!x)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const R=y.onError.subscribe({next:H=>{x.handleError(H)}});S.onDestroy(()=>{V0(this._modules,S),R.unsubscribe()})}),function(i,s,a){try{const c=a();return Pr(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(x,y,()=>{const R=S.injector.get($s);return R.runInitializers(),R.donePromise.then(()=>(C_(S.injector.get(Yh,E_)||E_),this._moduleDoBootstrap(S),S))})})}bootstrapModule(a,c=[]){const d=L0({},c);return function(i,s,a){const c=new qE(a);return Promise.resolve(c)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const c=a.injector.get(Qh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${ie(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Hn(dr))},i.\u0275prov=Tt({token:i,factory:i.\u0275fac}),i})();function L0(i,s){return Array.isArray(s)?s.reduce(L0,i):Object.assign(Object.assign({},i),s)}let Qh=(()=>{class i{constructor(a,c,d,f,g){this._zone=a,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new O.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new O.y(I=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ji.assertNotInAngularZone(),iy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ji.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{S.unsubscribe(),x.unsubscribe()}});this.isStable=(0,le.T)(y,E.pipe((0,fe.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof Eh?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Ea),y=d.create(dr.NULL,[],c||d.selector,f),E=y.location.nativeElement,I=y.injector.get(Ou,null),S=I&&y.injector.get(x0);return I&&S&&S.registerApplication(E,I),y.onDestroy(()=>{this.detachView(y.hostView),V0(this.components,y),S&&S.unregisterApplication(E)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;V0(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(DS,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Hn(Ji),Hn(dr),Hn(Nd),Hn(oo),Hn($s))},i.\u0275prov=Tt({token:i,factory:i.\u0275fac}),i})();function V0(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}class hy{}class jS{}const j0={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let $0=(()=>{class i{constructor(a,c){this._compiler=a,this._config=c||j0}load(a){return this.loadAndCompile(a)}loadAndCompile(a){let[c,d]=a.split("#");return void 0===d&&(d="default"),k(8255)(c).then(f=>f[d]).then(f=>fy(f,c,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(a){let[c,d]=a.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),k(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(g=>g[d+f]).then(g=>fy(g,c,d))}}return i.\u0275fac=function(a){return new(a||i)(Hn(Cg),Hn(jS,8))},i.\u0275prov=Tt({token:i,factory:i.\u0275fac}),i})();function fy(i,s,a){if(!i)throw new Error(`Cannot find '${a}' in '${s}'`);return i}const vy=function(i){return null},Vi=VS(null,"core",[{provide:SS,useValue:"unknown"},{provide:uy,deps:[dr]},{provide:x0,deps:[]},{provide:ey,deps:[]}]),QS=[{provide:Qh,useClass:Qh,deps:[Ji,dr,Nd,oo,$s]},{provide:$T,deps:[Ji],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:$s,useClass:$s,deps:[[new Io,yc]]},{provide:Cg,useClass:Cg,deps:[]},Kh,{provide:yu,useFactory:function(){return vT},deps:[]},{provide:Kp,useFactory:function(){return Qp},deps:[]},{provide:Yh,useFactory:function(i){return C_(i=i||"undefined"!=typeof $localize&&$localize.locale||E_),i},deps:[[new sa(Yh),new Io,new cs]]},{provide:ty,useValue:"USD"}];let z0=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Hn(Qh))},i.\u0275mod=ge({type:i}),i.\u0275inj=cn({providers:QS}),i})()},8939:(dt,Pe,k)=>{"use strict";k.d(Pe,{hO:()=>ne,xv:()=>re,Dh:()=>ie,GT:()=>J,cc:()=>Re,on:()=>F,pX:()=>fe});var u=k(7716),j=k(7841),O=k(3104);dt=k.hmd(dt);const le=["ngOnDestroy"],fe=(se,_e,pe,Fe={})=>new Proxy(se,{get:(ot,At)=>pe.runOutsideAngular(()=>{var zt;if(se[At])return(null===(zt=null==Fe?void 0:Fe.spy)||void 0===zt?void 0:zt.get)&&Fe.spy.get(At,se[At]),se[At];if(le.indexOf(At)>-1)return()=>{};const ye=_e.toPromise().then(Qt=>{const de=Qt&&Qt[At];return"function"==typeof de?de.bind(Qt):de&&de.then?de.then(we=>pe.run(()=>we)):pe.run(()=>de)});return new Proxy(()=>{},{get:(Qt,de)=>ye[de],apply:(Qt,de,we)=>ye.then(Ce=>{var Se;const Be=Ce&&Ce(...we);return(null===(Se=null==Fe?void 0:Fe.spy)||void 0===Se?void 0:Se.apply)&&Fe.spy.apply(At,we,Be),Be})})})}),J=(se,_e)=>{_e.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(Fe=>{Object.defineProperty(se.prototype,Fe,Object.getOwnPropertyDescriptor(pe.prototype||pe,Fe))})})};class ue{constructor(_e){return _e}}const ie=new u.OlP("angularfire2.app.options"),re=new u.OlP("angularfire2.app.name");function F(se,_e,pe){const ot="object"==typeof pe&&pe||{};ot.name=ot.name||"string"==typeof pe&&pe||"[DEFAULT]";const zt=j.Z.apps.filter(ye=>ye&&ye.name===ot.name)[0]||_e.runOutsideAngular(()=>j.Z.initializeApp(se,ot));try{JSON.stringify(se)!==JSON.stringify(zt.options)&&$("error",`${zt.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ye){}return new ue(zt)}const $=(se,..._e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[se](..._e)},V={provide:ue,useFactory:F,deps:[ie,u.R0b,[new u.FiY,re]]};let ne=(()=>{class se{constructor(pe){j.Z.registerVersion("angularfire",O.q4.full,"core"),j.Z.registerVersion("angularfire",O.q4.full,"app-compat"),j.Z.registerVersion("angular",u.q4F.full,pe.toString())}static initializeApp(pe,Fe){return{ngModule:se,providers:[{provide:ie,useValue:pe},{provide:re,useValue:Fe}]}}}return se.\u0275fac=function(pe){return new(pe||se)(u.LFG(u.Lbi))},se.\u0275mod=u.oAB({type:se}),se.\u0275inj=u.cJS({providers:[V]}),se})();function Re(se,_e,pe,Fe,ot){const[,At,zt]=globalThis.\u0275AngularfireInstanceCache.find(ye=>ye[0]===se)||[];if(At)return function(se,_e){try{return se.toString()===_e.toString()}catch(pe){return se===_e}}(ot,zt)||(Ee("error",`${_e} was already initialized on the ${pe} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:ot,was:zt})),At;{const ye=Fe();return globalThis.\u0275AngularfireInstanceCache.push([se,ye,ot]),ye}}const xe=!!dt.hot,Ee=(se,..._e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[se](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3104:(dt,Pe,k)=>{"use strict";k.d(Pe,{q4:()=>Ku,iC:()=>Cs,fc:()=>Un,HU:()=>Pa,vb:()=>Zg,JM:()=>Oc,nk:()=>di,u3:()=>Xu});var u=k(7716),j=k(2329),O=k(8239),le=k(8026),fe=k(3854),J=k(3910),ue=k(5422);k(3328);const re="@firebase/remote-config",F="0.3.4",Re=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ln{constructor(N,X,Ie,Ge){this.client=N,this.storage=X,this.storageCache=Ie,this.logger=Ge}isCachedDataFresh(N,X){if(!X)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ie=Date.now()-X,Ge=Ie<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Ge}.`),Ge}fetch(N){var X=this;return(0,O.Z)(function*(){const[Ie,Ge]=yield Promise.all([X.storage.getLastSuccessfulFetchTimestampMillis(),X.storage.getLastSuccessfulFetchResponse()]);if(Ge&&X.isCachedDataFresh(N.cacheMaxAgeMillis,Ie))return Ge;N.eTag=Ge&&Ge.eTag;const st=yield X.client.fetch(N),pt=[X.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===st.status&&pt.push(X.storage.setLastSuccessfulFetchResponse(st)),yield Promise.all(pt),st})()}}function xn(P=navigator){return P.languages&&P.languages[0]||P.language}class Dt{constructor(N,X,Ie,Ge,st,pt){this.firebaseInstallations=N,this.sdkVersion=X,this.namespace=Ie,this.projectId=Ge,this.apiKey=st,this.appId=pt}fetch(N){var X=this;return(0,O.Z)(function*(){const[Ie,Ge]=yield Promise.all([X.firebaseInstallations.getId(),X.firebaseInstallations.getToken()]),pt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${X.projectId}/namespaces/${X.namespace}:fetch?key=${X.apiKey}`,_r={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Ht={sdk_version:X.sdkVersion,app_instance_id:Ie,app_instance_id_token:Ge,app_id:X.appId,language_code:xn()},Kn={method:"POST",headers:_r,body:JSON.stringify(Ht)},kn=fetch(pt,Kn),Ii=new Promise((Is,Ho)=>{N.signal.addEventListener(()=>{const kl=new Error("The operation was aborted.");kl.name="AbortError",Ho(kl)})});let $i;try{yield Promise.race([kn,Ii]),$i=yield kn}catch(Is){let Ho="fetch-client-network";throw"AbortError"===Is.name&&(Ho="fetch-timeout"),Re.create(Ho,{originalErrorMessage:Is.message})}let vt=$i.status;const Rl=$i.headers.get("ETag")||void 0;let Na,Fa;if(200===$i.status){let Is;try{Is=yield $i.json()}catch(Ho){throw Re.create("fetch-client-parse",{originalErrorMessage:Ho.message})}Na=Is.entries,Fa=Is.state}if("INSTANCE_STATE_UNSPECIFIED"===Fa?vt=500:"NO_CHANGE"===Fa?vt=304:("NO_TEMPLATE"===Fa||"EMPTY_CONFIG"===Fa)&&(Na={}),304!==vt&&200!==vt)throw Re.create("fetch-status",{httpStatus:vt});return{status:vt,eTag:Rl,config:Na}})()}}class Tn{constructor(N,X){this.client=N,this.storage=X}fetch(N){var X=this;return(0,O.Z)(function*(){const Ie=(yield X.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return X.attemptFetch(N,Ie)})()}attemptFetch(N,{throttleEndTimeMillis:X,backoffCount:Ie}){var Ge=this;return(0,O.Z)(function*(){yield function(P,N){return new Promise((X,Ie)=>{const Ge=Math.max(N-Date.now(),0),st=setTimeout(X,Ge);P.addEventListener(()=>{clearTimeout(st),Ie(Re.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,X);try{const st=yield Ge.client.fetch(N);return yield Ge.storage.deleteThrottleMetadata(),st}catch(st){if(!function(P){if(!(P instanceof fe.ZR&&P.customData))return!1;const N=Number(P.customData.httpStatus);return 429===N||500===N||503===N||504===N}(st))throw st;const pt={throttleEndTimeMillis:Date.now()+(0,fe.$s)(Ie),backoffCount:Ie+1};return yield Ge.storage.setThrottleMetadata(pt),Ge.attemptFetch(N,pt)}})()}}class Tt{constructor(N,X,Ie,Ge,st){this.app=N,this._client=X,this._storageCache=Ie,this._storage=Ge,this._logger=st,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tn(P,N){const X=P.target.error||void 0;return Re.create(N,{originalErrorMessage:X&&X.message})}const cn="app_namespace_store";class Wn{constructor(N,X,Ie,Ge=function(){return new Promise((P,N)=>{try{const X=indexedDB.open("firebase_remote_config",1);X.onerror=Ie=>{N(tn(Ie,"storage-open"))},X.onsuccess=Ie=>{P(Ie.target.result)},X.onupgradeneeded=Ie=>{const Ge=Ie.target.result;switch(Ie.oldVersion){case 0:Ge.createObjectStore(cn,{keyPath:"compositeKey"})}}}catch(X){N(Re.create("storage-open",{originalErrorMessage:X}))}})}()){this.appId=N,this.appName=X,this.namespace=Ie,this.openDbPromise=Ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var X=this;return(0,O.Z)(function*(){const Ie=yield X.openDbPromise;return new Promise((Ge,st)=>{const _r=Ie.transaction([cn],"readonly").objectStore(cn),Ht=X.createCompositeKey(N);try{const Kn=_r.get(Ht);Kn.onerror=kn=>{st(tn(kn,"storage-get"))},Kn.onsuccess=kn=>{const Ii=kn.target.result;Ge(Ii?Ii.value:void 0)}}catch(Kn){st(Re.create("storage-get",{originalErrorMessage:Kn&&Kn.message}))}})})()}set(N,X){var Ie=this;return(0,O.Z)(function*(){const Ge=yield Ie.openDbPromise;return new Promise((st,pt)=>{const Ht=Ge.transaction([cn],"readwrite").objectStore(cn),Kn=Ie.createCompositeKey(N);try{const kn=Ht.put({compositeKey:Kn,value:X});kn.onerror=Ii=>{pt(tn(Ii,"storage-set"))},kn.onsuccess=()=>{st()}}catch(kn){pt(Re.create("storage-set",{originalErrorMessage:kn&&kn.message}))}})})()}delete(N){var X=this;return(0,O.Z)(function*(){const Ie=yield X.openDbPromise;return new Promise((Ge,st)=>{const _r=Ie.transaction([cn],"readwrite").objectStore(cn),Ht=X.createCompositeKey(N);try{const Kn=_r.delete(Ht);Kn.onerror=kn=>{st(tn(kn,"storage-delete"))},Kn.onsuccess=()=>{Ge()}}catch(Kn){st(Re.create("storage-delete",{originalErrorMessage:Kn&&Kn.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Tr{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,O.Z)(function*(){const X=N.storage.getLastFetchStatus(),Ie=N.storage.getLastSuccessfulFetchTimestampMillis(),Ge=N.storage.getActiveConfig(),st=yield X;st&&(N.lastFetchStatus=st);const pt=yield Ie;pt&&(N.lastSuccessfulFetchTimestampMillis=pt);const _r=yield Ge;_r&&(N.activeConfig=_r)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Ar(){return lt.apply(this,arguments)}function lt(){return(lt=(0,O.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(P){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new J.wA("remote-config",function(N,{instanceIdentifier:X}){const Ie=N.getProvider("app").getImmediate(),Ge=N.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Re.create("registration-window");if(!(0,fe.hl)())throw Re.create("indexed-db-unavailable");const{projectId:st,apiKey:pt,appId:_r}=Ie.options;if(!st)throw Re.create("registration-project-id");if(!pt)throw Re.create("registration-api-key");if(!_r)throw Re.create("registration-app-id");const Ht=new Wn(_r,Ie.name,X=X||"firebase"),Kn=new Tr(Ht),kn=new ue.Yd(re);kn.logLevel=ue.in.ERROR;const Ii=new Dt(Ge,le.SDK_VERSION,X,st,pt,_r),$i=new Tn(Ii,Ht),vt=new ln($i,Ht,Kn,kn),Rl=new Tt(Ie,vt,Kn,Ht,kn);return function(P){const N=(0,fe.m9)(P);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Rl),Rl},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(re,F),(0,le.registerVersion)(re,F,"esm2017");var Ft=k(6676);const Zn="/firebase-messaging-sw.js",Fn="/firebase-cloud-messaging-push-scope",gt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zt="google.c.a.c_id",$t="google.c.a.c_l",Ln="google.c.a.ts",on="google.c.a.e";var tt=(()=>{return(P=tt||(tt={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",tt;var P})();function or(P){const N=new Uint8Array(P);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wi(P){const X=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ie=atob(X),Ge=new Uint8Array(Ie.length);for(let st=0;st<Ie.length;++st)Ge[st]=Ie.charCodeAt(st);return Ge}const gr="fcm_token_details_db",dn="fcm_token_object_Store";function ei(P){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(st=>st.name).includes(gr))return null;let N=null;return(yield(0,Ft.openDb)(gr,5,function(){var Ie=(0,O.Z)(function*(Ge){var st;if(Ge.oldVersion<2||!Ge.objectStoreNames.contains(dn))return;const pt=Ge.transaction.objectStore(dn),_r=yield pt.index("fcmSenderId").get(P);if(yield pt.clear(),_r)if(2===Ge.oldVersion){const Ht=_r;if(!Ht.auth||!Ht.p256dh||!Ht.endpoint)return;N={token:Ht.fcmToken,createTime:null!==(st=Ht.createTime)&&void 0!==st?st:Date.now(),subscriptionOptions:{auth:Ht.auth,p256dh:Ht.p256dh,endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:"string"==typeof Ht.vapidKey?Ht.vapidKey:or(Ht.vapidKey)}}}else if(3===Ge.oldVersion){const Ht=_r;N={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:or(Ht.auth),p256dh:or(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:or(Ht.vapidKey)}}}else if(4===Ge.oldVersion){const Ht=_r;N={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:or(Ht.auth),p256dh:or(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:or(Ht.vapidKey)}}}});return function(Ge){return Ie.apply(this,arguments)}}())).close(),yield(0,Ft.deleteDb)(gr),yield(0,Ft.deleteDb)("fcm_vapid_details_db"),yield(0,Ft.deleteDb)("undefined"),q(N)?N:null})).apply(this,arguments)}function q(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:N}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const ce="firebase-messaging-store";let nt=null;function oe(){return nt||(nt=(0,Ft.openDb)("firebase-messaging-database",1,P=>{switch(P.oldVersion){case 0:P.createObjectStore(ce)}})),nt}function me(P){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,O.Z)(function*(P){const N=G(P),Ie=yield(yield oe()).transaction(ce).objectStore(ce).get(N);if(Ie)return Ie;{const Ge=yield ei(P.appConfig.senderId);if(Ge)return yield Je(P,Ge),Ge}})).apply(this,arguments)}function Je(P,N){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,O.Z)(function*(P,N){const X=G(P),Ge=(yield oe()).transaction(ce,"readwrite");return yield Ge.objectStore(ce).put(N,X),yield Ge.complete,N})).apply(this,arguments)}function Ye(P){return ee.apply(this,arguments)}function ee(){return(ee=(0,O.Z)(function*(P){const N=G(P),Ie=(yield oe()).transaction(ce,"readwrite");yield Ie.objectStore(ce).delete(N),yield Ie.complete})).apply(this,arguments)}function G({appConfig:P}){return P.appId}const ge=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ke(P,N){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,O.Z)(function*(P,N){const X=yield Lt(P),Ie=$n(N),Ge={method:"POST",headers:X,body:JSON.stringify(Ie)};let st;try{st=yield(yield fetch(On(P.appConfig),Ge)).json()}catch(pt){throw ge.create("token-subscribe-failed",{errorInfo:pt})}if(st.error)throw ge.create("token-subscribe-failed",{errorInfo:st.error.message});if(!st.token)throw ge.create("token-subscribe-no-token");return st.token})).apply(this,arguments)}function Bt(P,N){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,O.Z)(function*(P,N){const X=yield Lt(P),Ie=$n(N.subscriptionOptions),Ge={method:"PATCH",headers:X,body:JSON.stringify(Ie)};let st;try{st=yield(yield fetch(`${On(P.appConfig)}/${N.token}`,Ge)).json()}catch(pt){throw ge.create("token-update-failed",{errorInfo:pt})}if(st.error)throw ge.create("token-update-failed",{errorInfo:st.error.message});if(!st.token)throw ge.create("token-update-no-token");return st.token})).apply(this,arguments)}function un(P,N){return pn.apply(this,arguments)}function pn(){return(pn=(0,O.Z)(function*(P,N){const Ie={method:"DELETE",headers:yield Lt(P)};try{const st=yield(yield fetch(`${On(P.appConfig)}/${N}`,Ie)).json();if(st.error)throw ge.create("token-unsubscribe-failed",{errorInfo:st.error.message})}catch(Ge){throw ge.create("token-unsubscribe-failed",{errorInfo:Ge})}})).apply(this,arguments)}function On({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function Lt(P){return ti.apply(this,arguments)}function ti(){return(ti=(0,O.Z)(function*({appConfig:P,installations:N}){const X=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${X}`})})).apply(this,arguments)}function $n({p256dh:P,auth:N,endpoint:X,vapidKey:Ie}){const Ge={web:{endpoint:X,auth:N,p256dh:P}};return Ie!==gt&&(Ge.web.applicationPubKey=Ie),Ge}const Xe=6048e5;function Jt(P){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,O.Z)(function*(P){const N=yield Sn(P.swRegistration,P.vapidKey),X={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:N.endpoint,auth:or(N.getKey("auth")),p256dh:or(N.getKey("p256dh"))},Ie=yield me(P.firebaseDependencies);if(Ie){if(Vn(Ie.subscriptionOptions,X))return Date.now()>=Ie.createTime+Xe?te(P,{token:Ie.token,createTime:Date.now(),subscriptionOptions:X}):Ie.token;try{yield un(P.firebaseDependencies,Ie.token)}catch(Ge){console.warn(Ge)}return Le(P.firebaseDependencies,X)}return Le(P.firebaseDependencies,X)})).apply(this,arguments)}function yn(P){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,O.Z)(function*(P){const N=yield me(P.firebaseDependencies);N&&(yield un(P.firebaseDependencies,N.token),yield Ye(P.firebaseDependencies));const X=yield P.swRegistration.pushManager.getSubscription();return!X||X.unsubscribe()})).apply(this,arguments)}function te(P,N){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,O.Z)(function*(P,N){try{const X=yield Bt(P.firebaseDependencies,N),Ie=Object.assign(Object.assign({},N),{token:X,createTime:Date.now()});return yield Je(P.firebaseDependencies,Ie),X}catch(X){throw yield yn(P),X}})).apply(this,arguments)}function Le(P,N){return ft.apply(this,arguments)}function ft(){return(ft=(0,O.Z)(function*(P,N){const Ie={token:yield Ke(P,N),createTime:Date.now(),subscriptionOptions:N};return yield Je(P,Ie),Ie.token})).apply(this,arguments)}function Sn(P,N){return rt.apply(this,arguments)}function rt(){return(rt=(0,O.Z)(function*(P,N){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wi(N)})})).apply(this,arguments)}function Vn(P,N){return N.vapidKey===P.vapidKey&&N.endpoint===P.endpoint&&N.auth===P.auth&&N.p256dh===P.p256dh}function Rn(P){const N={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function(P,N){if(!N.notification)return;P.notification={};const X=N.notification.title;X&&(P.notification.title=X);const Ie=N.notification.body;Ie&&(P.notification.body=Ie);const Ge=N.notification.image;Ge&&(P.notification.image=Ge)}(N,P),function(P,N){!N.data||(P.data=N.data)}(N,P),function(P,N){if(!N.fcmOptions)return;P.fcmOptions={};const X=N.fcmOptions.link;X&&(P.fcmOptions.link=X);const Ie=N.fcmOptions.analytics_label;Ie&&(P.fcmOptions.analyticsLabel=Ie)}(N,P),N}function es(P){return"object"==typeof P&&!!P&&Zt in P}function yo(P,N){const X=[];for(let Ie=0;Ie<P.length;Ie++)X.push(P.charAt(Ie)),Ie<N.length&&X.push(N.charAt(Ie));return X.join("")}function gn(P){return ge.create("missing-app-config-values",{valueName:P})}yo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),yo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Il{constructor(N,X,Ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ge=function(P){if(!P||!P.options)throw gn("App Configuration Object");if(!P.name)throw gn("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:X}=P;for(const Ie of N)if(!X[Ie])throw gn(Ie);return{appName:P.name,projectId:X.projectId,apiKey:X.apiKey,appId:X.appId,senderId:X.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Ge,installations:X,analyticsProvider:Ie}}_delete(){return Promise.resolve()}}function Gu(P){return ci.apply(this,arguments)}function ci(){return(ci=(0,O.Z)(function*(P){try{P.swRegistration=yield navigator.serviceWorker.register(Zn,{scope:Fn}),P.swRegistration.update().catch(()=>{})}catch(N){throw ge.create("failed-service-worker-registration",{browserErrorMessage:N.message})}})).apply(this,arguments)}function Dc(P,N){return ts.apply(this,arguments)}function ts(){return(ts=(0,O.Z)(function*(P,N){if(!N&&!P.swRegistration&&(yield Gu(P)),N||!P.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw ge.create("invalid-sw-registration");P.swRegistration=N}})).apply(this,arguments)}function jo(P,N){return jr.apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(P,N){N?P.vapidKey=N:P.vapidKey||(P.vapidKey=gt)})).apply(this,arguments)}function Ra(){return(Ra=(0,O.Z)(function*(P,N){if(!navigator)throw ge.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ge.create("permission-blocked");return yield jo(P,null==N?void 0:N.vapidKey),yield Dc(P,null==N?void 0:N.serviceWorkerRegistration),Jt(P)})).apply(this,arguments)}function bs(P,N,X){return xr.apply(this,arguments)}function xr(){return(xr=(0,O.Z)(function*(P,N,X){const Ie=Ac(N);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(Ie,{message_id:X[Zt],message_name:X[$t],message_time:X[Ln],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ac(P){switch(P){case tt.NOTIFICATION_CLICKED:return"notification_open";case tt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ns(){return(ns=(0,O.Z)(function*(P,N){const X=N.data;if(!X.isFirebaseMessaging)return;P.onMessageHandler&&X.messageType===tt.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Rn(X)):P.onMessageHandler.next(Rn(X)));const Ie=X.data;es(Ie)&&"1"===Ie[on]&&(yield bs(P,X.messageType,Ie))})).apply(this,arguments)}const lr="@firebase/messaging";function Mc(){return qu.apply(this,arguments)}function qu(){return(qu=(0,O.Z)(function*(){return"undefined"!=typeof window&&(0,fe.hl)()&&(yield(0,fe.eu)())&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new J.wA("messaging",P=>{const N=new Il(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",X=>function(P,N){return ns.apply(this,arguments)}(N,X)),N},"PUBLIC")),(0,le._registerComponent)(new J.wA("messaging-internal",P=>{const N=P.getProvider("messaging").getImmediate();return{getToken:Ie=>function(P,N){return Ra.apply(this,arguments)}(N,Ie)}},"PRIVATE")),(0,le.registerVersion)(lr,"0.9.6"),(0,le.registerVersion)(lr,"0.9.6","esm2017");var Wg=k(9554),Sl=k(7771),Zy=k(3637),Dl=k(7574),is=k(3342),ss=k(6136),Oa=k(3101);const Ku=new u.GfV("7.2.0"),xc="__angularfire_symbol__analyticsIsSupportedValue",Es="__angularfire_symbol__analyticsIsSupported",ui="__angularfire_symbol__remoteConfigIsSupported",$o="__angularfire_symbol__messagingIsSupported";globalThis[Es]||(globalThis[Es]=(0,Wg.Gb)().then(P=>globalThis[xc]=P)),globalThis[$o]||(globalThis[$o]=Mc().then(P=>globalThis.__angularfire_symbol__messagingIsSupportedValue=P)),globalThis[ui]||(globalThis[ui]=Ar().then(P=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=P));const di={async:()=>globalThis[Es],sync:()=>{const P=globalThis[xc];if(void 0===P)throw new Error((P=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${P} in the constructor, first ensure that ${P} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${P})\`.`)("Analytics"));return P}};function Oc(P,N,X){if(N){if(1===N.length)return N[0];const st=N.filter(pt=>pt.app===X);if(1===st.length)return st[0]}return X.container.getProvider(P).getImmediate({optional:!0})}const Zg=(P,N)=>{const X=N?[N]:(0,j.C6)(),Ie=[];return X.forEach(Ge=>{Ge.container.getProvider(P).instances.forEach(pt=>{Ie.includes(pt)||Ie.push(pt)})}),Ie};function mr(){}class Ys{constructor(N,X=Sl.N){this.zone=N,this.delegate=X}now(){return this.delegate.now()}schedule(N,X,Ie){const Ge=this.zone;return this.delegate.schedule(function(pt){Ge.runGuarded(()=>{N.apply(this,[pt])})},X,Ie)}}class Pc{constructor(N){this.zone=N,this.task=null}call(N,X){const Ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mr,{},mr,mr)),X.pipe((0,is.b)({next:Ie,complete:Ie,error:Ie})).subscribe(N).add(Ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pa=(()=>{class P{constructor(X){this.ngZone=X,this.outsideAngular=X.runOutsideAngular(()=>new Ys(Zone.current)),this.insideAngular=X.run(()=>new Ys(Zone.current,Zy.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(X){return new(X||P)(u.LFG(u.R0b))},P.\u0275prov=u.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function vo(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function Ml(P){return vo().ngZone.runOutsideAngular(()=>P())}function ws(P){return vo().ngZone.run(()=>P())}function Un(P){return P.pipe((0,ss.QV)(vo().outsideAngular))}function Cs(P){return vo(),function(P){return function(X){return(X=X.lift(new Pc(P.ngZone))).pipe((0,Oa.R)(P.outsideAngular),(0,ss.QV)(P.insideAngular))}}(vo())(P)}const Pn=(P,N)=>{const X=void 0;return function(){return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),ws(()=>P.apply(X,arguments))}},Xu=(P,N)=>function(){let X;for(let Ge=0;Ge<arguments.length;Ge++)"function"==typeof arguments[Ge]&&(N&&(X||(X=ws(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mr,{},mr,mr)))),arguments[Ge]=Pn(arguments[Ge],X));const Ie=Ml(()=>P.apply(this,arguments));if(!N){if(Ie instanceof Dl.y){const Ge=vo();return Ie.pipe((0,Oa.R)(Ge.outsideAngular),(0,ss.QV)(Ge.insideAngular))}return ws(()=>Ie)}return Ie instanceof Dl.y?Ie.pipe(Cs):Ie instanceof Promise?ws(()=>new Promise((Ge,st)=>Ie.then(pt=>ws(()=>Ge(pt)),pt=>ws(()=>st(pt))))):"function"==typeof Ie&&X?function(){return setTimeout(()=>{X&&"scheduled"===X.state&&X.invoke()},10),Ie.apply(this,arguments)}:ws(()=>Ie)}},7379:(dt,Pe,k)=>{"use strict";k.d(Pe,{$:()=>Rl,A:()=>$,E:()=>te,G:()=>rt,I:()=>rs,K:()=>Qe,L:()=>Dl,M:()=>Ku,N:()=>xc,P:()=>br,Q:()=>Es,R:()=>xf,T:()=>Oa,U:()=>$o,V:()=>Rc,W:()=>Zg,X:()=>N,Y:()=>Ie,Z:()=>st,_:()=>Kn,a:()=>iv,a0:()=>Fa,a1:()=>Ho,a2:()=>Ol,a3:()=>hn,a4:()=>Yn,a5:()=>La,a6:()=>os,a7:()=>ed,a8:()=>Sw,a9:()=>Rr,aA:()=>Td,aB:()=>Qs,aC:()=>yn,aG:()=>Ti,aJ:()=>ui,aa:()=>Ky,ab:()=>Ss,ae:()=>Yy,af:()=>yf,ag:()=>Qg,aj:()=>vo,ak:()=>Xy,am:()=>id,an:()=>qo,ao:()=>On,ap:()=>de,aq:()=>pn,ar:()=>Bt,as:()=>pe,at:()=>Vf,au:()=>Wl,av:()=>Fe,aw:()=>ye,ax:()=>Ce,ay:()=>Ye,az:()=>Hn,b:()=>rv,c:()=>qa,d:()=>am,e:()=>bd,f:()=>$c,g:()=>ta,h:()=>Pf,i:()=>ov,j:()=>lm,k:()=>Rd,l:()=>kw,m:()=>Za,o:()=>ie,r:()=>cv,s:()=>eA,t:()=>Va,u:()=>Ga,z:()=>Re});var u=k(8239),j=k(3854),O=k(8026),le=k(4762),fe=k(5422),J=k(3910);const ie={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$e=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),se=new fe.Yd("@firebase/auth");function _e(b,...m){se.logLevel<=fe.in.ERROR&&se.error(`Auth (${O.SDK_VERSION}): ${b}`,...m)}function pe(b,...m){throw zt(b,...m)}function Fe(b,...m){return zt(b,...m)}function ot(b,m,_){const w=Object.assign(Object.assign({},$e()),{[m]:_});return new j.LL("auth","Firebase",w).create(m,{appName:b.name})}function At(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&pe(b,"argument-error"),ot(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zt(b,...m){if("string"!=typeof b){const _=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return xe.create(b,...m)}function ye(b,m,..._){if(!b)throw zt(m,..._)}function Qt(b){const m="INTERNAL ASSERTION FAILED: "+b;throw _e(m),new Error(m)}function de(b,m){b||Qt(m)}const we=new Map;function Ce(b){de(b instanceof Function,"Expected a class definition");let m=we.get(b);return m?(de(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,we.set(b,m),m)}function ve(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function It(){return"http:"===ln()||"https:"===ln()}function ln(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class mt{constructor(m,_){this.shortDelay=m,this.longDelay=_,de(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,j.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function xt(b,m){de(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Tn{static initialize(m,_,w){this.fetchImpl=m,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Qt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Qt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Qt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Br={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zn=new mt(3e4,6e4);function Tt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function tn(b,m,_,w){return cn.apply(this,arguments)}function cn(){return(cn=(0,u.Z)(function*(b,m,_,w,M={}){return wn(b,M,(0,u.Z)(function*(){let L={},he={};w&&("GET"===m?he=w:L={body:JSON.stringify(w)});const je=(0,j.xO)(Object.assign({key:b.config.apiKey},he)).slice(1),ht=yield b._getAdditionalHeaders();return ht["Content-Type"]="application/json",b.languageCode&&(ht["X-Firebase-Locale"]=b.languageCode),Tn.fetch()(Tr(b,b.config.apiHost,_,je),Object.assign({method:m,headers:ht,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function wn(b,m,_){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(b,m,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},Br),m);try{const M=new ir(b),L=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const he=yield L.json();if("needConfirmation"in he)throw Nn(b,"account-exists-with-different-credential",he);if(L.ok&&!("errorMessage"in he))return he;{const je=L.ok?he.errorMessage:he.error.message,[ht,Ot]=je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ht)throw Nn(b,"credential-already-in-use",he);if("EMAIL_EXISTS"===ht)throw Nn(b,"email-already-in-use",he);const Vt=w[ht]||ht.toLowerCase().replace(/[_\s]+/g,"-");if(Ot)throw ot(b,Vt,Ot);pe(b,Vt)}}catch(M){if(M instanceof j.ZR)throw M;pe(b,"network-request-failed")}})).apply(this,arguments)}function Qn(b,m,_,w){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(b,m,_,w,M={}){const L=yield tn(b,m,_,w,M);return"mfaPendingCredential"in L&&pe(b,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Tr(b,m,_,w){const M=`${m}${_}?${w}`;return b.config.emulator?xt(b.config,M):`${b.config.apiScheme}://${M}`}class ir{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(Fe(this.auth,"timeout")),zn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nn(b,m,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const M=Fe(b,m,w);return M.customData._tokenResponse=_,M}function Ar(){return(Ar=(0,u.Z)(function*(b,m){return tn(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function lt(b,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(b,m){return tn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Zn(b,m){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(b,m){return tn(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function gt(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function $t(){return($t=(0,u.Z)(function*(b,m=!1){const _=(0,j.m9)(b),w=yield _.getIdToken(m),M=on(w);ye(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const L="object"==typeof M.firebase?M.firebase:void 0,he=null==L?void 0:L.sign_in_provider;return{claims:M,token:w,authTime:gt(Ln(M.auth_time)),issuedAtTime:gt(Ln(M.iat)),expirationTime:gt(Ln(M.exp)),signInProvider:he||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function Ln(b){return 1e3*Number(b)}function on(b){const[m,_,w]=b.split(".");if(void 0===m||void 0===_||void 0===w)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(_);return M?JSON.parse(M):(_e("Failed to decode base64 JWT payload"),null)}catch(M){return _e("Caught error parsing JWT payload as JSON",M),null}}function tt(b,m){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(w){throw w instanceof j.ZR&&wi(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function wi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class gr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),w)}iteration(){var m=this;return(0,u.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class sn{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=gt(this.lastLoginAt),this.creationTime=gt(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dn(b){return ei.apply(this,arguments)}function ei(){return(ei=(0,u.Z)(function*(b){var m;const _=b.auth,w=yield b.getIdToken(),M=yield tt(b,Zn(_,{idToken:w}));ye(null==M?void 0:M.users.length,_,"internal-error");const L=M.users[0];b._notifyReloadListener(L);const he=(null===(m=L.providerUserInfo)||void 0===m?void 0:m.length)?ke(L.providerUserInfo):[],je=K(b.providerData,he),Vt=!!b.isAnonymous&&!(b.email&&L.passwordHash||(null==je?void 0:je.length)),Bn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:je,metadata:new sn(L.createdAt,L.lastLoginAt),isAnonymous:Vt};Object.assign(b,Bn)})).apply(this,arguments)}function q(){return(q=(0,u.Z)(function*(b){const m=(0,j.m9)(b);yield dn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function K(b,m){return[...b.filter(w=>!m.some(M=>M.providerId===w.providerId)),...m]}function ke(b){return b.map(m=>{var{providerId:_}=m,w=(0,le._T)(m,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function nt(){return(nt=(0,u.Z)(function*(b,m){const _=yield wn(b,{},(0,u.Z)(function*(){const w=(0,j.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:L}=b.config,he=Tr(b,M,"/v1/token",`key=${L}`),je=yield b._getAdditionalHeaders();return je["Content-Type"]="application/x-www-form-urlencoded",Tn.fetch()(he,{method:"POST",headers:je,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ye(m.idToken,"internal-error"),ye(void 0!==m.idToken,"internal-error"),ye(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(b){const m=on(b);return ye(m,"internal-error"),ye(void 0!==m.exp,"internal-error"),ye(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var w=this;return(0,u.Z)(function*(){return ye(!w.accessToken||w.refreshToken,m,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var w=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:L,expiresIn:he}=yield function(b,m){return nt.apply(this,arguments)}(m,_);w.updateTokensAndExpiration(M,L,Number(he))})()}updateTokensAndExpiration(m,_,w){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,_){const{refreshToken:w,accessToken:M,expirationTime:L}=_,he=new oe;return w&&(ye("string"==typeof w,"internal-error",{appName:m}),he.refreshToken=w),M&&(ye("string"==typeof M,"internal-error",{appName:m}),he.accessToken=M),L&&(ye("number"==typeof L,"internal-error",{appName:m}),he.expirationTime=L),he}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new oe,this.toJSON())}_performRefresh(){return Qt("not implemented")}}function me(b,m){ye("string"==typeof b||void 0===b,"internal-error",{appName:m})}class Ve{constructor(m){var{uid:_,auth:w,stsTokenManager:M}=m,L=(0,le._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new gr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.metadata=new sn(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,u.Z)(function*(){const w=yield tt(_,_.stsTokenManager.getToken(_.auth,m));return ye(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(m){return function(b){return $t.apply(this,arguments)}(this,m)}reload(){return function(b){return q.apply(this,arguments)}(this)}_assign(m){this!==m&&(ye(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Ve(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var w=this;return(0,u.Z)(function*(){let M=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield dn(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,u.Z)(function*(){const _=yield m.getIdToken();return yield tt(m,function(b,m){return Ar.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var w,M,L,he,je,ht,Ot,Vt;const Bn=null!==(w=_.displayName)&&void 0!==w?w:void 0,qi=null!==(M=_.email)&&void 0!==M?M:void 0,Js=null!==(L=_.phoneNumber)&&void 0!==L?L:void 0,la=null!==(he=_.photoURL)&&void 0!==he?he:void 0,Bf=null!==(je=_.tenantId)&&void 0!==je?je:void 0,Ai=null!==(ht=_._redirectEventId)&&void 0!==ht?ht:void 0,Ql=null!==(Ot=_.createdAt)&&void 0!==Ot?Ot:void 0,jf=null!==(Vt=_.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:Ka,emailVerified:$f,isAnonymous:mm,providerData:Hf,stsTokenManager:_m}=_;ye(Ka&&_m,m,"internal-error");const Jl=oe.fromJSON(this.name,_m);ye("string"==typeof Ka,m,"internal-error"),me(Bn,m.name),me(qi,m.name),ye("boolean"==typeof $f,m,"internal-error"),ye("boolean"==typeof mm,m,"internal-error"),me(Js,m.name),me(la,m.name),me(Bf,m.name),me(Ai,m.name),me(Ql,m.name),me(jf,m.name);const Od=new Ve({uid:Ka,auth:m,email:qi,emailVerified:$f,displayName:Bn,isAnonymous:mm,photoURL:la,phoneNumber:Js,tenantId:Bf,stsTokenManager:Jl,createdAt:Ql,lastLoginAt:jf});return Hf&&Array.isArray(Hf)&&(Od.providerData=Hf.map(Mi=>Object.assign({},Mi))),Ai&&(Od._redirectEventId=Ai),Od}static _fromIdTokenResponse(m,_,w=!1){return(0,u.Z)(function*(){const M=new oe;M.updateFromServerResponse(_);const L=new Ve({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:w});return yield dn(L),L})()}}const Qe=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,w){var M=this;return(0,u.Z)(function*(){M.storage[_]=w})()}_get(_){var w=this;return(0,u.Z)(function*(){const M=w.storage[_];return void 0===M?null:M})()}_remove(_){var w=this;return(0,u.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function Ye(b,m,_){return`firebase:${b}:${m}:${_}`}class ee{constructor(m,_,w){this.persistence=m,this.auth=_,this.userKey=w;const{config:M,name:L}=this.auth;this.fullUserKey=Ye(this.userKey,M.apiKey,L),this.fullPersistenceKey=Ye("persistence",M.apiKey,L),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Ve._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,u.Z)(function*(){if(_.persistence===m)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,w="authUser"){return(0,u.Z)(function*(){if(!_.length)return new ee(Ce(Qe),m,w);const M=(yield Promise.all(_.map(function(){var Ot=(0,u.Z)(function*(Vt){if(yield Vt._isAvailable())return Vt});return function(Vt){return Ot.apply(this,arguments)}}()))).filter(Ot=>Ot);let L=M[0]||Ce(Qe);const he=Ye(w,m.config.apiKey,m.name);let je=null;for(const Ot of _)try{const Vt=yield Ot._get(he);if(Vt){const Bn=Ve._fromJSON(m,Vt);Ot!==L&&(je=Bn),L=Ot;break}}catch(Vt){}const ht=M.filter(Ot=>Ot._shouldAllowMigration);return L._shouldAllowMigration&&ht.length?(L=ht[0],je&&(yield L._set(he,je.toJSON())),yield Promise.all(_.map(function(){var Ot=(0,u.Z)(function*(Vt){if(Vt!==L)try{yield Vt._remove(he)}catch(Bn){}});return function(Vt){return Ot.apply(this,arguments)}}())),new ee(L,m,w)):new ee(L,m,w)})()}}function G(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Mt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(z(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Wt(m))return"Blackberry";if(un(m))return"Webos";if(ge(m))return"Safari";if((m.includes("chrome/")||Ke(m))&&!m.includes("edge/"))return"Chrome";if(Bt(m))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function z(b=(0,j.z$)()){return/firefox\//i.test(b)}function ge(b=(0,j.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ke(b=(0,j.z$)()){return/crios\//i.test(b)}function Mt(b=(0,j.z$)()){return/iemobile/i.test(b)}function Bt(b=(0,j.z$)()){return/android/i.test(b)}function Wt(b=(0,j.z$)()){return/blackberry/i.test(b)}function un(b=(0,j.z$)()){return/webos/i.test(b)}function pn(b=(0,j.z$)()){return/iphone|ipad|ipod/i.test(b)}function On(b=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function $n(b=(0,j.z$)()){return pn(b)||Bt(b)||un(b)||Wt(b)||/windows phone/i.test(b)||Mt(b)}function Jt(b,m=[]){let _;switch(b){case"Browser":_=G((0,j.z$)());break;case"Worker":_=`${G((0,j.z$)())}-${b}`;break;default:_=b}const w=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${O.SDK_VERSION}/${w}`}class Cn{constructor(m,_){this.app=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ci(this),this.idTokenSubscription=new Ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(m,_){var w=this;return _&&(this._popupRedirectResolver=Ce(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,L;if(!w._deleted&&(w.persistenceManager=yield ee.create(w,m),!w._deleted)){if(null===(M=w._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(he){}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(L=w.currentUser)||void 0===L?void 0:L.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,u.Z)(function*(){var w;let M=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const L=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,he=null==M?void 0:M._redirectEventId,je=yield _.tryRedirectSignIn(m);(!L||L===he)&&(null==je?void 0:je.user)&&(M=je.user)}return M?M._redirectEventId?(ye(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)):_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,u.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(M){yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,u.Z)(function*(){try{yield dn(m)}catch(w){if("auth/network-request-failed"!==w.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,u.Z)(function*(){const w=m?(0,j.m9)(m):null;return w&&ye(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,u.Z)(function*(){if(!_._deleted)return m&&ye(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,u.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(Ce(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new j.LL("auth","Firebase",m())}onAuthStateChanged(m,_,w){return this.registerStateListener(this.authStateSubscription,m,_,w)}onIdTokenChanged(m,_,w){return this.registerStateListener(this.idTokenSubscription,m,_,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var w=this;return(0,u.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const w=m&&Ce(m)||_._popupRedirectResolver;ye(w,_,"argument-error"),_.redirectPersistenceManager=yield ee.create(_,[Ce(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,u.Z)(function*(){var w,M;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,u.Z)(function*(){if(m===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,w,M){if(this._deleted)return()=>{};const L="function"==typeof _?_:_.next.bind(_),he=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(he,this,"internal-error"),he.then(()=>L(this.currentUser)),"function"==typeof _?m.addObserver(_,w,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Jt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,u.Z)(function*(){const _={"X-Client-Version":m.clientVersion};return m.app.options.appId&&(_["X-Firebase-gmpid"]=m.app.options.appId),_})()}}function yn(b){return(0,j.m9)(b)}class Ci{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,j.ne)(_=>this.observer=_)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function te(b,m,_){const w=yn(b);ye(w._canInitEmulator,w,"emulator-config-failed"),ye(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),L=Ae(m),{host:he,port:je}=function(b){const m=Ae(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const L=M[1];return{host:L,port:ft(w.substr(L.length+1))}}{const[L,he]=w.split(":");return{host:L,port:ft(he)}}}(m);w.config.emulator={url:`${L}//${he}${null===je?"":`:${je}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:he,port:je,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Ae(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function ft(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class rt{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Qt("not implemented")}_getIdTokenResponse(m){return Qt("not implemented")}_linkToIdToken(m,_){return Qt("not implemented")}_getReauthenticationResolver(m){return Qt("not implemented")}}function Vn(b,m){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(b,m){return tn(b,"POST","/v1/accounts:resetPassword",Tt(b,m))})).apply(this,arguments)}function ys(b,m){return vs.apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(b,m){return tn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Mr(b,m){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(b,m){return tn(b,"POST","/v1/accounts:update",Tt(b,m))})).apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(b,m){return Qn(b,"POST","/v1/accounts:signInWithPassword",Tt(b,m))})).apply(this,arguments)}function gn(b,m){return Il.apply(this,arguments)}function Il(){return(Il=(0,u.Z)(function*(b,m){return tn(b,"POST","/v1/accounts:sendOobCode",Tt(b,m))})).apply(this,arguments)}function Gu(b,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(b,m){return gn(b,m)})).apply(this,arguments)}function Dc(b,m){return ts.apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(b,m){return gn(b,m)})).apply(this,arguments)}function jo(b,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,u.Z)(function*(b,m){return gn(b,m)})).apply(this,arguments)}function ar(b,m){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(b,m){return gn(b,m)})).apply(this,arguments)}function xr(){return(xr=(0,u.Z)(function*(b,m){return Qn(b,"POST","/v1/accounts:signInWithEmailLink",Tt(b,m))})).apply(this,arguments)}function Ks(){return(Ks=(0,u.Z)(function*(b,m){return Qn(b,"POST","/v1/accounts:signInWithEmailLink",Tt(b,m))})).apply(this,arguments)}class ns extends rt{constructor(m,_,w,M=null){super("password",w),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new ns(m,_,"password")}static _fromEmailAndCode(m,_,w=null){return new ns(m,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function(b,m){return li.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(b,m){return xr.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:pe(m,"internal-error")}})()}_linkToIdToken(m,_){var w=this;return(0,u.Z)(function*(){switch(w.signInMethod){case"password":return ys(m,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(b,m){return Ks.apply(this,arguments)}(m,{idToken:_,email:w._email,oobCode:w._password});default:pe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function lr(b,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(b,m){return Qn(b,"POST","/v1/accounts:signInWithIdp",Tt(b,m))})).apply(this,arguments)}class rs extends rt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new rs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):pe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:M}=_,L=(0,le._T)(_,["providerId","signInMethod"]);if(!w||!M)return null;const he=new rs(w,M);return he.idToken=L.idToken||void 0,he.accessToken=L.accessToken||void 0,he.secret=L.secret,he.nonce=L.nonce,he.pendingToken=L.pendingToken||null,he}_getIdTokenResponse(m){return lr(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,lr(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,lr(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,j.xO)(_)}return m}}function mf(b,m){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,u.Z)(function*(b,m){return tn(b,"POST","/v1/accounts:sendVerificationCode",Tt(b,m))})).apply(this,arguments)}function zu(){return(zu=(0,u.Z)(function*(b,m){return Qn(b,"POST","/v1/accounts:signInWithPhoneNumber",Tt(b,m))})).apply(this,arguments)}function Zu(){return(Zu=(0,u.Z)(function*(b,m){const _=yield Qn(b,"POST","/v1/accounts:signInWithPhoneNumber",Tt(b,m));if(_.temporaryProof)throw Nn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const qy={USER_NOT_FOUND:"user-not-found"};function Tl(){return(Tl=(0,u.Z)(function*(b,m){return Qn(b,"POST","/v1/accounts:signInWithPhoneNumber",Tt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),qy)})).apply(this,arguments)}class ka extends rt{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new ka({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new ka({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function(b,m){return zu.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function(b,m){return Zu.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(b,m){return Tl.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:w,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:w,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:L}=m;return w||_||M||L?new ka({verificationId:_,verificationCode:w,phoneNumber:M,temporaryProof:L}):null}}class Sl{constructor(m){var _,w,M,L,he,je;const ht=(0,j.zd)((0,j.pd)(m)),Ot=null!==(_=ht.apiKey)&&void 0!==_?_:null,Vt=null!==(w=ht.oobCode)&&void 0!==w?w:null,Bn=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=ht.mode)&&void 0!==M?M:null);ye(Ot&&Vt&&Bn,"argument-error"),this.apiKey=Ot,this.operation=Bn,this.code=Vt,this.continueUrl=null!==(L=ht.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(he=ht.languageCode)&&void 0!==he?he:null,this.tenantId=null!==(je=ht.tenantId)&&void 0!==je?je:null}static parseLink(m){const _=function(b){const m=(0,j.zd)((0,j.pd)(b)).link,_=m?(0,j.zd)((0,j.pd)(m)).deep_link_id:null,w=(0,j.zd)((0,j.pd)(b)).deep_link_id;return(w?(0,j.zd)((0,j.pd)(w)).link:null)||w||_||m||b}(m);try{return new Sl(_)}catch(w){return null}}}let Dl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return ns._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const M=Sl.parseLink(w);return ye(M,"argument-error"),ns._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class is{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ss extends is{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Oa extends ss{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return ye("providerId"in _&&"signInMethod"in _,"argument-error"),rs._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ye(m.idToken||m.accessToken,"argument-error"),rs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Oa.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Oa.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:L,nonce:he,providerId:je}=m;if(!w&&!M&&!_&&!L||!je)return null;try{return new Oa(je)._credential({idToken:_,accessToken:w,nonce:he,pendingToken:L})}catch(ht){return null}}}let Ku=(()=>{class b extends ss{constructor(){super("facebook.com")}static credential(_){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(w){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),xc=(()=>{class b extends ss{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:M}=_;if(!w&&!M)return null;try{return b.credential(w,M)}catch(L){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Es=(()=>{class b extends ss{constructor(){super("github.com")}static credential(_){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(w){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ui extends rt{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return lr(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,lr(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,lr(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:M,pendingToken:L}=_;return w&&M&&L&&w===M?new ui(w,L):null}static _create(m,_){return new ui(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $o extends is{constructor(m){ye(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return $o.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return $o.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=ui.fromJSON(m);return ye(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:w}=m;if(!_||!w)return null;try{return ui._create(w,_)}catch(M){return null}}}let Rc=(()=>{class b extends ss{constructor(){super("twitter.com")}static credential(_,w){return rs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=_;if(!w||!M)return null;try{return b.credential(w,M)}catch(L){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Qu(b,m){return kc.apply(this,arguments)}function kc(){return(kc=(0,u.Z)(function*(b,m){return Qn(b,"POST","/v1/accounts:signUp",Tt(b,m))})).apply(this,arguments)}class di{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,w,M=!1){return(0,u.Z)(function*(){const L=yield Ve._fromIdTokenResponse(m,w,M),he=Oc(w);return new di({user:L,providerId:he,_tokenResponse:w,operationType:_})})()}static _forOperation(m,_,w){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const M=Oc(w);return new di({user:m,providerId:M,_tokenResponse:w,operationType:_})})()}}function Oc(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Zg(b){return mr.apply(this,arguments)}function mr(){return(mr=(0,u.Z)(function*(b){var m;const _=yn(b);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new di({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Qu(_,{returnSecureToken:!0}),M=yield di._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ys extends j.ZR{constructor(m,_,w,M){var L;super(_.code,_.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,Ys.prototype),this.customData={appName:m.name,tenantId:null!==(L=m.tenantId)&&void 0!==L?L:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,_,w,M){return new Ys(m,_,w,M)}}function Pc(b,m,_,w){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Ys._fromErrorAndOperation(b,L,m,w):L})}function Pa(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function vo(b,m){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,u.Z)(function*(b,m){const _=(0,j.m9)(b);yield xl(!0,_,m);const{providerUserInfo:w}=yield lt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=Pa(w||[]);return _.providerData=_.providerData.filter(L=>M.has(L.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function ws(b,m){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(b,m,_=!1){const w=yield tt(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return di._forOperation(b,"link",w)})).apply(this,arguments)}function xl(b,m,_){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,u.Z)(function*(b,m,_){yield dn(m);const M=!1===b?"provider-already-linked":"no-such-provider";ye(Pa(m.providerData).has(_)===b,m.auth,M)})).apply(this,arguments)}function Ju(b,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(b,m,_=!1){const{auth:w}=b,M="reauthenticate";try{const L=yield tt(b,Pc(w,M,m,b),_);ye(L.idToken,w,"internal-error");const he=on(L.idToken);ye(he,w,"internal-error");const{sub:je}=he;return ye(b.uid===je,w,"user-mismatch"),di._forOperation(b,M,L)}catch(L){throw"auth/user-not-found"===(null==L?void 0:L.code)&&pe(w,"user-mismatch"),L}})).apply(this,arguments)}function Xu(b,m){return P.apply(this,arguments)}function P(){return(P=(0,u.Z)(function*(b,m,_=!1){const w="signIn",M=yield Pc(b,w,m),L=yield di._fromIdTokenResponse(b,w,M);return _||(yield b._updateCurrentUser(L.user)),L})).apply(this,arguments)}function N(b,m){return X.apply(this,arguments)}function X(){return(X=(0,u.Z)(function*(b,m){return Xu(yn(b),m)})).apply(this,arguments)}function Ie(b,m){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(b,m){const _=(0,j.m9)(b);return yield xl(!1,_,m.providerId),ws(_,m)})).apply(this,arguments)}function st(b,m){return pt.apply(this,arguments)}function pt(){return(pt=(0,u.Z)(function*(b,m){return Ju((0,j.m9)(b),m)})).apply(this,arguments)}function _r(b,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,u.Z)(function*(b,m){return Qn(b,"POST","/v1/accounts:signInWithCustomToken",Tt(b,m))})).apply(this,arguments)}function Kn(b,m){return kn.apply(this,arguments)}function kn(){return(kn=(0,u.Z)(function*(b,m){const _=yn(b),w=yield _r(_,{token:m,returnSecureToken:!0}),M=yield di._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ii{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?$i._fromServerResponse(m,_):pe(m,"internal-error")}}class $i extends Ii{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new $i(_)}}function vt(b,m,_){var w;ye((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),ye(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ye(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(ye(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Rl(b,m,_){return Na.apply(this,arguments)}function Na(){return(Na=(0,u.Z)(function*(b,m,_){const w=(0,j.m9)(b),M={requestType:"PASSWORD_RESET",email:m};_&&vt(w,M,_),yield Dc(w,M)})).apply(this,arguments)}function Fa(b,m,_){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(b,m,_){yield Vn((0,j.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Ho(b,m){return kl.apply(this,arguments)}function kl(){return(kl=(0,u.Z)(function*(b,m){yield Mr((0,j.m9)(b),{oobCode:m})})).apply(this,arguments)}function Ol(b,m){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,u.Z)(function*(b,m){const _=(0,j.m9)(b),w=yield Vn(_,{oobCode:m}),M=w.requestType;switch(ye(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(w.mfaInfo,_,"internal-error");default:ye(w.email,_,"internal-error")}let L=null;return w.mfaInfo&&(L=Ii._fromServerResponse(yn(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:L},operation:M}})).apply(this,arguments)}function hn(b,m){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,u.Z)(function*(b,m){const{data:_}=yield Ol((0,j.m9)(b),m);return _.email})).apply(this,arguments)}function Yn(b,m,_){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,u.Z)(function*(b,m,_){const w=yn(b),M=yield Qu(w,{returnSecureToken:!0,email:m,password:_}),L=yield di._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(L.user),L})).apply(this,arguments)}function La(b,m,_){return N((0,j.m9)(b),Dl.credential(m,_))}function os(b,m,_){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,u.Z)(function*(b,m,_){const w=(0,j.m9)(b),M={requestType:"EMAIL_SIGNIN",email:m};ye(_.handleCodeInApp,w,"argument-error"),_&&vt(w,M,_),yield jo(w,M)})).apply(this,arguments)}function ed(b,m){const _=Sl.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function Sw(b,m,_){return _f.apply(this,arguments)}function _f(){return(_f=(0,u.Z)(function*(b,m,_){const w=(0,j.m9)(b),M=Dl.credentialWithLink(m,_||ve());return ye(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),N(w,M)})).apply(this,arguments)}function td(b,m){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,u.Z)(function*(b,m){return tn(b,"POST","/v1/accounts:createAuthUri",Tt(b,m))})).apply(this,arguments)}function Rr(b,m){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(b,m){const w={identifier:m,continueUri:It()?ve():"http://localhost"},{signinMethods:M}=yield td((0,j.m9)(b),w);return M||[]})).apply(this,arguments)}function Ky(b,m){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(b,m){const _=(0,j.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&vt(_.auth,M,m);const{email:L}=yield Gu(_.auth,M);L!==b.email&&(yield b.reload())})).apply(this,arguments)}function Ss(b,m,_){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,u.Z)(function*(b,m,_){const w=(0,j.m9)(b),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&vt(w.auth,L,_);const{email:he}=yield ar(w.auth,L);he!==b.email&&(yield b.reload())})).apply(this,arguments)}function Yg(b,m){return nd.apply(this,arguments)}function nd(){return(nd=(0,u.Z)(function*(b,m){return tn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Yy(b,m){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,u.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const w=(0,j.m9)(b),L={idToken:yield w.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},he=yield tt(w,Yg(w.auth,L));w.displayName=he.displayName||null,w.photoURL=he.photoUrl||null;const je=w.providerData.find(({providerId:ht})=>"password"===ht);je&&(je.displayName=w.displayName,je.photoURL=w.photoURL),yield w._updateTokensIfNecessary(he)})).apply(this,arguments)}function yf(b,m){return Fl((0,j.m9)(b),m,null)}function Qg(b,m){return Fl((0,j.m9)(b),null,m)}function Fl(b,m,_){return rd.apply(this,arguments)}function rd(){return(rd=(0,u.Z)(function*(b,m,_){const{auth:w}=b,L={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(L.email=m),_&&(L.password=_);const he=yield tt(b,ys(w,L));yield b._updateTokensIfNecessary(he,!0)})).apply(this,arguments)}class bo{constructor(m,_,w={}){this.isNewUser=m,this.providerId=_,this.profile=w}}class vf extends bo{constructor(m,_,w,M){super(m,_,w),this.username=M}}class Qy extends bo{constructor(m,_){super(m,"facebook.com",_)}}class Xg extends vf{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Jy extends bo{constructor(m,_){super(m,"google.com",_)}}class Vc extends vf{constructor(m,_,w){super(m,"twitter.com",_,w)}}function Xy(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(b){var m,_;if(!b)return null;const{providerId:w}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},L=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&(null==b?void 0:b.idToken)){const he=null===(_=null===(m=on(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(he)return new bo(L,"anonymous"!==he&&"custom"!==he?he:null)}if(!w)return null;switch(w){case"facebook.com":return new Qy(L,M);case"github.com":return new Xg(L,M);case"google.com":return new Jy(L,M);case"twitter.com":return new Vc(L,M,b.screenName||null);case"custom":case"anonymous":return new bo(L,null);default:return new bo(L,w,M)}}(_)}function Va(b,m,_,w){return(0,j.m9)(b).onAuthStateChanged(m,_,w)}class Ua{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new Ua("enroll",m)}static _fromMfaPendingCredential(m){return new Ua("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,w;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ua._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(w=m.multiFactorSession)||void 0===w?void 0:w.idToken)return Ua._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Go{constructor(m,_,w){this.session=m,this.hints=_,this.signInResolver=w}static _fromError(m,_){const w=yn(m),M=_.customData._serverResponse,L=(M.mfaInfo||[]).map(je=>Ii._fromServerResponse(w,je));ye(M.mfaPendingCredential,w,"internal-error");const he=Ua._fromMfaPendingCredential(M.mfaPendingCredential);return new Go(he,L,function(){var je=(0,u.Z)(function*(ht){const Ot=yield ht._process(w,he);delete M.mfaInfo,delete M.mfaPendingCredential;const Vt=Object.assign(Object.assign({},M),{idToken:Ot.idToken,refreshToken:Ot.refreshToken});switch(_.operationType){case"signIn":const Bn=yield di._fromIdTokenResponse(w,_.operationType,Vt);return yield w._updateCurrentUser(Bn.user),Bn;case"reauthenticate":return ye(_.user,w,"internal-error"),di._forOperation(_.user,_.operationType,Vt);default:pe(w,"internal-error")}});return function(ht){return je.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,u.Z)(function*(){return _.signInResolver(m)})()}}function id(b,m){var _;const w=(0,j.m9)(b),M=m;return ye(m.customData.operationType,w,"argument-error"),ye(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Go._fromError(w,M)}function Ll(b,m){return tn(b,"POST","/v2/accounts/mfaEnrollment:start",Tt(b,m))}class od{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Ii._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new od(m)}getSession(){var m=this;return(0,u.Z)(function*(){return Ua._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var w=this;return(0,u.Z)(function*(){const M=m,L=yield w.getSession(),he=yield tt(w.user,M._process(w.user.auth,L,_));return yield w.user._updateTokensIfNecessary(he),w.user.reload()})()}unenroll(m){var _=this;return(0,u.Z)(function*(){const w="string"==typeof m?m:m.uid,M=yield _.user.getIdToken(),L=yield tt(_.user,function(b,m){return tn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Tt(b,m))}(_.user.auth,{idToken:M,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:he})=>he!==w),yield _.user._updateTokensIfNecessary(L);try{yield _.user.reload()}catch(he){if("auth/user-token-expired"!==he.code)throw he}})()}}const wf=new WeakMap;function qo(b){const m=(0,j.m9)(b);return wf.has(m)||wf.set(m,od._fromUser(m)),wf.get(m)}const Ba="__sak";class tv{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ba,"1"),this.storage.removeItem(Ba),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const rv=(()=>{class b extends tv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,j.z$)();return ge(b)||pn(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=$n(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),L=this.localCache[w];M!==L&&_(w,L,M)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((je,ht,Ot)=>{this.notifyListeners(je,Ot)});const M=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const je=this.storage.getItem(M);if(_.newValue!==je)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!w)return}const L=()=>{const je=this.storage.getItem(M);!w&&this.localCache[M]===je||this.notifyListeners(M,je)},he=this.storage.getItem(M);(0,j.w1)()&&10===document.documentMode&&he!==_.newValue&&_.newValue!==_.oldValue?setTimeout(L,10):L()}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var M=()=>super._set,L=this;return(0,u.Z)(function*(){yield M().call(L,_,w),L.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,M=this;return(0,u.Z)(function*(){const L=yield w().call(M,_);return M.localCache[_]=JSON.stringify(L),L})()}_remove(_){var w=()=>super._remove,M=this;return(0,u.Z)(function*(){yield w().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),iv=(()=>{class b extends tv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let If=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(L=>L.isListeningto(_));if(w)return w;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,u.Z)(function*(){const M=_,{eventId:L,eventType:he,data:je}=M.data,ht=w.handlersMap[he];if(!(null==ht?void 0:ht.size))return;M.ports[0].postMessage({status:"ack",eventId:L,eventType:he});const Ot=Array.from(ht).map(function(){var Bn=(0,u.Z)(function*(qi){return qi(M.origin,je)});return function(qi){return Bn.apply(this,arguments)}}()),Vt=yield function(b){return Promise.all(b.map(function(){var m=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return m.apply(this,arguments)}}()))}(Ot);M.ports[0].postMessage({status:"done",eventId:L,eventType:he,response:Vt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ti(b="",m=10){let _="";for(let w=0;w<m;w++)_+=Math.floor(10*Math.random());return b+_}class ld{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,w=50){var M=this;return(0,u.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let he,je;return new Promise((ht,Ot)=>{const Vt=Ti("",20);L.port1.start();const Bn=setTimeout(()=>{Ot(new Error("unsupported_event"))},w);je={messageChannel:L,onMessage(qi){const Js=qi;if(Js.data.eventId===Vt)switch(Js.data.status){case"ack":clearTimeout(Bn),he=setTimeout(()=>{Ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(he),ht(Js.data.response);break;default:clearTimeout(Bn),clearTimeout(he),Ot(new Error("invalid_response"))}}},M.handlers.add(je),L.port1.addEventListener("message",je.onMessage),M.target.postMessage({eventType:m,eventId:Vt,data:_},[L.port2])}).finally(()=>{je&&M.removeMessageHandler(je)})})()}}function vr(){return window}function Eo(){return void 0!==vr().WorkerGlobalScope&&"function"==typeof vr().importScripts}function ja(){return(ja=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const xw="firebaseLocalStorageDb",dd="firebaseLocalStorage",sv="fbase_key";class hd{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function zo(b,m){return b.transaction([dd],m?"readwrite":"readonly").objectStore(dd)}function Vl(){const b=indexedDB.open(xw,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(dd,{keyPath:sv})}catch(M){_(M)}}),b.addEventListener("success",(0,u.Z)(function*(){const w=b.result;w.objectStoreNames.contains(dd)?m(w):(w.close(),yield function(){const b=indexedDB.deleteDatabase(xw);return new hd(b).toPromise()}(),m(yield Vl()))}))})}function Bc(b,m,_){return Si.apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(b,m,_){const w=zo(b,!0).put({[sv]:m,value:_});return new hd(w).toPromise()})).apply(this,arguments)}function $a(){return($a=(0,u.Z)(function*(b,m){const _=zo(b,!1).get(m),w=yield new hd(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Sf(b,m){const _=zo(b,!0).delete(m);return new hd(_).toPromise()}const ov=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield Vl()),_.db})()}_withRetries(_){var w=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const L=yield w._openDb();return yield _(L)}catch(L){if(M++>3)throw L;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return Eo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=If._getInstance(Eo()?self:null),_.receiver._subscribe("keyChanged",function(){var w=(0,u.Z)(function*(M,L){return{keyProcessed:(yield _._poll()).includes(L.key)}});return function(M,L){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,u.Z)(function*(M,L){return["keyChanged"]});return function(M,L){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var w,M;if(_.activeServiceWorker=yield function(){return ja.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new ld(_.activeServiceWorker);const L=yield _.sender._send("ping",{},800);!L||(null===(w=L[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=L[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,u.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Vl();return yield Bc(_,Ba,"1"),yield Sf(_,Ba),!0}catch(_){}return!1})()}_withPendingWrite(_){var w=this;return(0,u.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(L=>Bc(L,_,w)),M.localCache[_]=w,M.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,u.Z)(function*(){const M=yield w._withRetries(L=>function(b,m){return $a.apply(this,arguments)}(L,_));return w.localCache[_]=M,M})()}_remove(_){var w=this;return(0,u.Z)(function*(){return w._withPendingWrite((0,u.Z)(function*(){return yield w._withRetries(M=>Sf(M,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const w=yield _._withRetries(he=>{const je=zo(he,!1).getAll();return new hd(je).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const M=[],L=new Set;for(const{fbase_key:he,value:je}of w)L.add(he),JSON.stringify(_.localCache[he])!==JSON.stringify(je)&&(_.notifyListeners(he,je),M.push(he));for(const he of Object.keys(_.localCache))_.localCache[he]&&!L.has(he)&&(_.notifyListeners(he,null),M.push(he));return M})()}notifyListeners(_,w){this.localCache[_]=w;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function wo(b,m){return tn(b,"POST","/v2/accounts/mfaSignIn:start",Tt(b,m))}function Mf(){return(Mf=(0,u.Z)(function*(b){return(yield tn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ul(b){return new Promise((m,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=m,w.onerror=M=>{const L=Fe("internal-error");L.customData=M,_(L)},w.type="text/javascript",w.charset="UTF-8",function(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(w)})}function pd(b){return`__${b}${Math.floor(1e6*Math.random())}`}const As=1e12;class Ha{constructor(m){this.auth=m,this.counter=As,this._widgets=new Map}render(m,_){const w=this.counter;return this._widgets.set(w,new Zo(m,this.auth.name,_||{})),this.counter++,w}reset(m){var _;const w=m||As;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(m){var _;return(null===(_=this._widgets.get(m||As))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,u.Z)(function*(){var w;return null===(w=_._widgets.get(m||As))||void 0===w||w.execute(),""})()}}class Zo{constructor(m,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;ye(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}();const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bl=pd("rcb"),Co=new mt(3e4,6e4);class sm{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!vr().grecaptcha}load(m,_=""){return ye((b=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(vr().grecaptcha):new Promise((w,M)=>{const L=vr().setTimeout(()=>{M(Fe(m,"network-request-failed"))},Co.get());vr()[Bl]=()=>{vr().clearTimeout(L),delete vr()[Bl];const je=vr().grecaptcha;if(!je)return void M(Fe(m,"internal-error"));const ht=je.render;je.render=(Ot,Vt)=>{const Bn=ht(Ot,Vt);return this.counter++,Bn},this.hostLanguage=_,w(je)},Ul(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Bl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(L),M(Fe(m,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!vr().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class av{load(m){return(0,u.Z)(function*(){return new Ha(m)})()}clearedOneInstance(){}}const md="recaptcha",cr={theme:"light",type:"image"};class xf{constructor(m,_=Object.assign({},cr),w){this.parameters=_,this.type=md,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(w),this.isInvisible="invisible"===this.parameters.size,ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;ye(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new av:new sm,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(_)||new Promise(L=>{const he=je=>{!je||(m.tokenChangeListeners.delete(he),L(je))};m.tokenChangeListeners.add(he),m.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof m)m(_);else if("string"==typeof m){const w=vr()[m];"function"==typeof w&&w(_)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){ye(It()&&!Eo(),m.auth,"internal-error"),yield function(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function(b){return Mf.apply(this,arguments)}(m.auth);ye(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rf{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=ka._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function eA(b,m,_){return kf.apply(this,arguments)}function kf(){return(kf=(0,u.Z)(function*(b,m,_){const w=yn(b),M=yield Of(w,m,(0,j.m9)(_));return new Rf(M,L=>N(w,L))})).apply(this,arguments)}function kw(b,m,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(b,m,_){const w=(0,j.m9)(b);yield xl(!1,w,"phone");const M=yield Of(w.auth,m,(0,j.m9)(_));return new Rf(M,L=>Ie(w,L))})).apply(this,arguments)}function cv(b,m,_){return _d.apply(this,arguments)}function _d(){return(_d=(0,u.Z)(function*(b,m,_){const w=(0,j.m9)(b),M=yield Of(w.auth,m,(0,j.m9)(_));return new Rf(M,L=>st(w,L))})).apply(this,arguments)}function Of(b,m,_){return yd.apply(this,arguments)}function yd(){return(yd=(0,u.Z)(function*(b,m,_){var w;const M=yield _.verify();try{let L;if(ye("string"==typeof M,b,"argument-error"),ye(_.type===md,b,"argument-error"),L="string"==typeof m?{phoneNumber:m}:m,"session"in L){const he=L.session;if("phoneNumber"in L)return ye("enroll"===he.type,b,"internal-error"),(yield Ll(b,{idToken:he.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ye("signin"===he.type,b,"internal-error");const je=(null===(w=L.multiFactorHint)||void 0===w?void 0:w.uid)||L.multiFactorUid;return ye(je,b,"missing-multi-factor-info"),(yield wo(b,{mfaPendingCredential:he.credential,mfaEnrollmentId:je,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:he}=yield mf(b,{phoneNumber:L.phoneNumber,recaptchaToken:M});return he}}finally{_._reset()}})).apply(this,arguments)}function Ga(b,m){return vd.apply(this,arguments)}function vd(){return(vd=(0,u.Z)(function*(b,m){yield ws((0,j.m9)(b),m)})).apply(this,arguments)}let br=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=yn(_)}verifyPhoneNumber(_,w){return Of(this.auth,_,(0,j.m9)(w))}static credential(_,w){return ka._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:M}=_;return w&&M?ka._fromTokenResponse(w,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ms(b,m){return m?Ce(m):(ye(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Yo extends rt{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return lr(m,this._buildIdpRequest())}_linkToIdToken(m,_){return lr(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return lr(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Ow(b){return Xu(b.auth,new Yo(b),b.bypassAuthState)}function om(b){const{auth:m,user:_}=b;return ye(_,m,"internal-error"),Ju(_,new Yo(b),b.bypassAuthState)}function ls(b){return Di.apply(this,arguments)}function Di(){return(Di=(0,u.Z)(function*(b){const{auth:m,user:_}=b;return ye(_,m,"internal-error"),ws(_,new Yo(b),b.bypassAuthState)})).apply(this,arguments)}class Qo{constructor(m,_,w,M,L=!1){this.auth=m,this.resolver=w,this.user=M,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,u.Z)(function*(w,M){m.pendingPromise={resolve:w,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(L){m.reject(L)}});return function(w,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,u.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:L,tenantId:he,error:je,type:ht}=m;if(je)return void _.reject(je);const Ot={auth:_.auth,requestUri:w,sessionId:M,tenantId:he||void 0,postBody:L||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ht)(Ot))}catch(Vt){_.reject(Vt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Ow;case"linkViaPopup":case"linkViaRedirect":return ls;case"reauthViaPopup":case"reauthViaRedirect":return om;default:pe(this.auth,"internal-error")}}resolve(m){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){de(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jl=new mt(2e3,1e4);function qa(b,m,_){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(b,m,_){const w=yn(b);At(b,m,is);const M=Ms(w,_);return new $l(w,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function bd(b,m,_){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,u.Z)(function*(b,m,_){const w=(0,j.m9)(b);At(w.auth,m,is);const M=Ms(w.auth,_);return new $l(w.auth,"reauthViaPopup",m,M,w).executeNotNull()})).apply(this,arguments)}function am(b,m,_){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(b,m,_){const w=(0,j.m9)(b);At(w.auth,m,is);const M=Ms(w.auth,_);return new $l(w.auth,"linkViaPopup",m,M,w).executeNotNull()})).apply(this,arguments)}let $l=(()=>{class b extends Qo{constructor(_,w,M,L,he){super(_,w,L,he),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const w=yield _.execute();return ye(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,u.Z)(function*(){de(1===_.filter.length,"Popup operations only handle one event");const w=Ti();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Fe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,M;this.pollId=(null===(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,jl.get())};_()}}return b.currentPopupAction=null,b})();const Hl=new Map;class xs extends Qo{constructor(m,_,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,u.Z)(function*(){let w=Hl.get(_.auth._key());if(!w){try{const L=(yield function(b,m){return Rs.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;w=()=>Promise.resolve(L)}catch(M){w=()=>Promise.reject(M)}Hl.set(_.auth._key(),w)}return _.bypassAuthState||Hl.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,w=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(w,m);if("unknown"!==m.type){if(m.eventId){const M=yield w.auth._redirectUserForId(m.eventId);if(M)return w.user=M,_().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Rs(){return(Rs=(0,u.Z)(function*(b,m){const _=Gl(m),w=Xo(b);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(_));return yield w._remove(_),M})).apply(this,arguments)}function wd(b,m){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,u.Z)(function*(b,m){return Xo(b)._set(Gl(m),"true")})).apply(this,arguments)}function Qs(){Hl.clear()}function Xo(b){return Ce(b._redirectPersistence)}function Gl(b){return Ye("pendingRedirect",b.config.apiKey,b.name)}function $c(b,m,_){return function(b,m,_){return Wa.apply(this,arguments)}(b,m,_)}function Wa(){return(Wa=(0,u.Z)(function*(b,m,_){const w=yn(b);At(b,m,is);const M=Ms(w,_);return yield wd(M,w),M._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function Pf(b,m,_){return function(b,m,_){return Gc.apply(this,arguments)}(b,m,_)}function Gc(){return(Gc=(0,u.Z)(function*(b,m,_){const w=(0,j.m9)(b);At(w.auth,m,is);const M=Ms(w.auth,_);yield wd(M,w.auth);const L=yield ql(w);return M._openRedirect(w.auth,m,"reauthViaRedirect",L)})).apply(this,arguments)}function ta(b,m,_){return function(b,m,_){return Id.apply(this,arguments)}(b,m,_)}function Id(){return(Id=(0,u.Z)(function*(b,m,_){const w=(0,j.m9)(b);At(w.auth,m,is);const M=Ms(w.auth,_);yield xl(!1,w,m.providerId),yield wd(M,w.auth);const L=yield ql(w);return M._openRedirect(w.auth,m,"linkViaRedirect",L)})).apply(this,arguments)}function lm(b,m){return $r.apply(this,arguments)}function $r(){return($r=(0,u.Z)(function*(b,m){return yield yn(b)._initializationPromise,Td(b,m,!1)})).apply(this,arguments)}function Td(b,m){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(b,m,_=!1){const w=yn(b),M=Ms(w,m),he=yield new xs(w,M,_).execute();return he&&!_&&(delete he.user._redirectEventId,yield w._persistUserIfCurrent(he.user),yield w._setRedirectUser(null,m)),he})).apply(this,arguments)}function ql(b){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(b){const m=Ti(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Hn{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(_=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nf(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var w;if(m.error&&!Nf(m)){const M=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(Fe(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const w=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zl(m))}saveEventToCache(m){this.cachedEventUids.add(zl(m)),this.lastProcessedEventTime=Date.now()}}function zl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function Nf({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Wl(b){return qc.apply(this,arguments)}function qc(){return(qc=(0,u.Z)(function*(b,m={}){return tn(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Ff=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cm=/^https?/;function sa(){return(sa=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Wl(b);for(const _ of m)try{if(Io(_))return}catch(w){}pe(b,"unauthorized-domain")})).apply(this,arguments)}function Io(b){const m=ve(),{protocol:_,hostname:w}=new URL(m);if(b.startsWith("chrome-extension://")){const he=new URL(b);return""===he.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&he.hostname===w}if(!cm.test(_))return!1;if(Ff.test(b))return w===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Sd=new mt(3e4,6e4);function cs(){const b=vr().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let ks=null;function zc(b){return ks=ks||function(b){return new Promise((m,_)=>{var w,M,L;function he(){cs(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{cs(),_(Fe(b,"network-request-failed"))},timeout:Sd.get()})}if(null===(M=null===(w=vr().gapi)||void 0===w?void 0:w.iframes)||void 0===M?void 0:M.Iframe)m(gapi.iframes.getContext());else{if(!(null===(L=vr().gapi)||void 0===L?void 0:L.load)){const je=pd("iframefcb");return vr()[je]=()=>{gapi.load?he():_(Fe(b,"network-request-failed"))},Ul(`https://apis.google.com/js/api.js?onload=${je}`).catch(ht=>_(ht))}he()}}).catch(m=>{throw ks=null,m})}(b),ks}const Zl=new mt(5e3,15e3),gv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zc(b){const m=b.config;ye(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?xt(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:m.apiKey,appName:b.name,v:O.SDK_VERSION},M=Kl.get(b.config.apiHost);M&&(w.eid=M);const L=b._getFrameworks();return L.length&&(w.fw=L.join(",")),`${_}?${(0,j.xO)(w).slice(1)}`}function Dd(){return(Dd=(0,u.Z)(function*(b){const m=yield zc(b),_=vr().gapi;return ye(_,b,"internal-error"),m.open({where:document.body,url:Zc(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gv,dontclear:!0},w=>new Promise(function(){var M=(0,u.Z)(function*(L,he){yield w.restyle({setHideOnLeave:!1});const je=Fe(b,"network-request-failed"),ht=vr().setTimeout(()=>{he(je)},Zl.get());function Ot(){vr().clearTimeout(ht),L(w)}w.ping(Ot).then(Ot,()=>{he(je)})});return function(L,he){return M.apply(this,arguments)}}()))})).apply(this,arguments)}const um={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Lf{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Vf(b,m,_,w,M,L){ye(b.config.authDomain,b,"auth-domain-config-required"),ye(b.config.apiKey,b,"invalid-api-key");const he={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:O.SDK_VERSION,eventId:M};if(m instanceof is){m.setDefaultLanguage(b.languageCode),he.providerId=m.providerId||"",(0,j.xb)(m.getCustomParameters())||(he.customParameters=JSON.stringify(m.getCustomParameters()));for(const[ht,Ot]of Object.entries(L||{}))he[ht]=Ot}if(m instanceof ss){const ht=m.getScopes().filter(Ot=>""!==Ot);ht.length>0&&(he.scopes=ht.join(","))}b.tenantId&&(he.tid=b.tenantId);const je=he;for(const ht of Object.keys(je))void 0===je[ht]&&delete je[ht];return`${function({config:b}){return b.emulator?xt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,j.xO)(je).slice(1)}`}const Yl="webStorageSupport",Rd=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iv,this._completeRedirectFn=Td}_openPopup(m,_,w,M){var L=this;return(0,u.Z)(function*(){var he;de(null===(he=L.eventManagers[m._key()])||void 0===he?void 0:he.manager,"_initialize() not called before _openPopup()");const je=Vf(m,_,w,ve(),M);return function(b,m,_,w=500,M=600){const L=Math.max((window.screen.availHeight-M)/2,0).toString(),he=Math.max((window.screen.availWidth-w)/2,0).toString();let je="";const ht=Object.assign(Object.assign({},um),{width:w.toString(),height:M.toString(),top:L,left:he}),Ot=(0,j.z$)().toLowerCase();_&&(je=Ke(Ot)?"_blank":_),z(Ot)&&(m=m||"http://localhost",ht.scrollbars="yes");const Vt=Object.entries(ht).reduce((qi,[Js,la])=>`${qi}${Js}=${la},`,"");if(function(b=(0,j.z$)()){var m;return pn(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Ot)&&"_self"!==je)return function(b,m){const _=document.createElement("a");_.href=b,_.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(m||"",je),new Lf(null);const Bn=window.open(m||"",je,Vt);ye(Bn,b,"popup-blocked");try{Bn.focus()}catch(qi){}return new Lf(Bn)}(m,je,Ti())})()}_openRedirect(m,_,w,M){var L=this;return(0,u.Z)(function*(){return yield L._originValidation(m),b=Vf(m,_,w,ve(),M),vr().location.href=b,new Promise(()=>{});var b})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:L}=this.eventManagers[_];return M?Promise.resolve(M):(de(L,"If manager is not set, promise should be"),L)}const w=this.initAndGetManager(m);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(m){var _=this;return(0,u.Z)(function*(){const w=yield function(b){return Dd.apply(this,arguments)}(m),M=new Hn(m);return w.register("authEvent",L=>(ye(null==L?void 0:L.authEvent,m,"invalid-auth-event"),{status:M.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=w,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Yl,{type:Yl},M=>{var L;const he=null===(L=null==M?void 0:M[0])||void 0===L?void 0:L[Yl];void 0!==he&&_(!!he),pe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(b){return sa.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return $n()||ge()||pn()}};class Kc extends class{constructor(m){this.factorId=m}_process(m,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,w);case"signin":return this._finalizeSignIn(m,_.credential);default:return Qt("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Kc(m)}_finalizeEnroll(m,_,w){return function(b,m){return tn(b,"POST","/v2/accounts/mfaEnrollment:finalize",Tt(b,m))}(m,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function(b,m){return tn(b,"POST","/v2/accounts/mfaSignIn:finalize",Tt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Za=(()=>{class b{constructor(){}static assertion(_){return Kc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var b,fm="@firebase/auth";class yv{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(w=>{var M;m((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}b="Browser",(0,O._registerComponent)(new J.wA("auth",(m,{options:_})=>{const w=m.getProvider("app").getImmediate(),{apiKey:M,authDomain:L}=w.options;return(he=>{ye(M&&!M.includes(":"),"invalid-api-key",{appName:he.name}),ye(!(null==L?void 0:L.includes(":")),"argument-error",{appName:he.name});const je={apiKey:M,authDomain:L,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jt(b)},ht=new Cn(he,je);return function(b,m){const _=(null==m?void 0:m.persistence)||[],w=(Array.isArray(_)?_:[_]).map(Ce);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(w,null==m?void 0:m.popupRedirectResolver)}(ht,_),ht})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,w)=>{m.getProvider("auth-internal").initialize()})),(0,O._registerComponent)(new J.wA("auth-internal",m=>{const _=yn(m.getProvider("auth").getImmediate());return new yv(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,O.registerVersion)(fm,"0.19.5",void 0),(0,O.registerVersion)(fm,"0.19.5","esm2017")},3854:(dt,Pe,k)=>{"use strict";k.d(Pe,{BH:()=>ne,LL:()=>ve,ZR:()=>Be,zI:()=>we,US:()=>J,tV:()=>re,$s:()=>gr,r3:()=>Tt,Sg:()=>Re,ne:()=>sr,vZ:()=>rr,ZB:()=>$,pd:()=>ir,m9:()=>ei,z$:()=>$e,jU:()=>se,ru:()=>_e,d:()=>Fe,xb:()=>cn,w1:()=>ot,hl:()=>Qt,uI:()=>xe,UG:()=>Ee,b$:()=>pe,G6:()=>ye,Mn:()=>At,xO:()=>Wn,zd:()=>Tr,eu:()=>de});const le=function(W){const q=[];let K=0;for(let ke=0;ke<W.length;ke++){let ce=W.charCodeAt(ke);ce<128?q[K++]=ce:ce<2048?(q[K++]=ce>>6|192,q[K++]=63&ce|128):55296==(64512&ce)&&ke+1<W.length&&56320==(64512&W.charCodeAt(ke+1))?(ce=65536+((1023&ce)<<10)+(1023&W.charCodeAt(++ke)),q[K++]=ce>>18|240,q[K++]=ce>>12&63|128,q[K++]=ce>>6&63|128,q[K++]=63&ce|128):(q[K++]=ce>>12|224,q[K++]=ce>>6&63|128,q[K++]=63&ce|128)}return q},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,q){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,ke=[];for(let ce=0;ce<W.length;ce+=3){const nt=W[ce],oe=ce+1<W.length,me=oe?W[ce+1]:0,Ve=ce+2<W.length,Je=Ve?W[ce+2]:0;let ee=(15&me)<<2|Je>>6,G=63&Je;Ve||(G=64,oe||(ee=64)),ke.push(K[nt>>2],K[(3&nt)<<4|me>>4],K[ee],K[G])}return ke.join("")},encodeString(W,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(W):this.encodeByteArray(le(W),q)},decodeString(W,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(W):function(W){const q=[];let K=0,ke=0;for(;K<W.length;){const ce=W[K++];if(ce<128)q[ke++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const nt=W[K++];q[ke++]=String.fromCharCode((31&ce)<<6|63&nt)}else if(ce>239&&ce<365){const Ve=((7&ce)<<18|(63&W[K++])<<12|(63&W[K++])<<6|63&W[K++])-65536;q[ke++]=String.fromCharCode(55296+(Ve>>10)),q[ke++]=String.fromCharCode(56320+(1023&Ve))}else{const nt=W[K++],oe=W[K++];q[ke++]=String.fromCharCode((15&ce)<<12|(63&nt)<<6|63&oe)}}return q.join("")}(this.decodeStringToByteArray(W,q))},decodeStringToByteArray(W,q){this.init_();const K=q?this.charToByteMapWebSafe_:this.charToByteMap_,ke=[];for(let ce=0;ce<W.length;){const nt=K[W.charAt(ce++)],me=ce<W.length?K[W.charAt(ce)]:0;++ce;const Je=ce<W.length?K[W.charAt(ce)]:64;++ce;const Ye=ce<W.length?K[W.charAt(ce)]:64;if(++ce,null==nt||null==me||null==Je||null==Ye)throw Error();ke.push(nt<<2|me>>4),64!==Je&&(ke.push(me<<4&240|Je>>2),64!==Ye&&ke.push(Je<<6&192|Ye))}return ke},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},ie=function(W){return function(W){const q=le(W);return J.encodeByteArray(q,!0)}(W).replace(/\./g,"")},re=function(W){try{return J.decodeString(W,!0)}catch(q){console.error("base64Decode failed: ",q)}return null};function $(W,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return q}for(const K in q)!q.hasOwnProperty(K)||!V(K)||(W[K]=$(W[K],q[K]));return W}function V(W){return"__proto__"!==W}class ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((q,K)=>{this.resolve=q,this.reject=K})}wrapCallback(q){return(K,ke)=>{K?this.reject(K):this.resolve(ke),"function"==typeof q&&(this.promise.catch(()=>{}),1===q.length?q(K):q(K,ke))}}}function Re(W,q){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ke=q||"demo-project",ce=W.iat||0,nt=W.sub||W.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const oe=Object.assign({iss:`https://securetoken.google.com/${ke}`,aud:ke,iat:ce,exp:ce+3600,auth_time:ce,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ie(JSON.stringify({alg:"none",type:"JWT"})),ie(JSON.stringify(oe)),""].join(".")}function $e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function se(){return"object"==typeof self&&self.self===self}function _e(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function pe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){return $e().indexOf("Electron/")>=0}function ot(){const W=$e();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function At(){return $e().indexOf("MSAppHost/")>=0}function ye(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qt(){return"object"==typeof indexedDB}function de(){return new Promise((W,q)=>{try{let K=!0;const ke="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(ke);ce.onsuccess=()=>{ce.result.close(),K||self.indexedDB.deleteDatabase(ke),W(!0)},ce.onupgradeneeded=()=>{K=!1},ce.onerror=()=>{var nt;q((null===(nt=ce.error)||void 0===nt?void 0:nt.message)||"")}}catch(K){q(K)}})}function we(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Be extends Error{constructor(q,K,ke){super(K),this.code=q,this.customData=ke,this.name="FirebaseError",Object.setPrototypeOf(this,Be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ve.prototype.create)}}class ve{constructor(q,K,ke){this.service=q,this.serviceName=K,this.errors=ke}create(q,...K){const ke=K[0]||{},ce=`${this.service}/${q}`,nt=this.errors[q],oe=nt?function(W,q){return W.replace(ln,(K,ke)=>{const ce=q[ke];return null!=ce?String(ce):`<${ke}?>`})}(nt,ke):"Error";return new Be(ce,`${this.serviceName}: ${oe} (${ce}).`,ke)}}const ln=/\{\$([^}]+)}/g;function Tt(W,q){return Object.prototype.hasOwnProperty.call(W,q)}function cn(W){for(const q in W)if(Object.prototype.hasOwnProperty.call(W,q))return!1;return!0}function rr(W,q){if(W===q)return!0;const K=Object.keys(W),ke=Object.keys(q);for(const ce of K){if(!ke.includes(ce))return!1;const nt=W[ce],oe=q[ce];if(Qn(nt)&&Qn(oe)){if(!rr(nt,oe))return!1}else if(nt!==oe)return!1}for(const ce of ke)if(!K.includes(ce))return!1;return!0}function Qn(W){return null!==W&&"object"==typeof W}function Wn(W){const q=[];for(const[K,ke]of Object.entries(W))Array.isArray(ke)?ke.forEach(ce=>{q.push(encodeURIComponent(K)+"="+encodeURIComponent(ce))}):q.push(encodeURIComponent(K)+"="+encodeURIComponent(ke));return q.length?"&"+q.join("&"):""}function Tr(W){const q={};return W.replace(/^\?/,"").split("&").forEach(ke=>{if(ke){const[ce,nt]=ke.split("=");q[decodeURIComponent(ce)]=decodeURIComponent(nt)}}),q}function ir(W){const q=W.indexOf("?");if(!q)return"";const K=W.indexOf("#",q);return W.substring(q,K>0?K:void 0)}function sr(W,q){const K=new Ar(W,q);return K.subscribe.bind(K)}class Ar{constructor(q,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{q(this)}).catch(ke=>{this.error(ke)})}next(q){this.forEachObserver(K=>{K.next(q)})}error(q){this.forEachObserver(K=>{K.error(q)}),this.close(q)}complete(){this.forEachObserver(q=>{q.complete()}),this.close()}subscribe(q,K,ke){let ce;if(void 0===q&&void 0===K&&void 0===ke)throw new Error("Missing Observer.");ce=function(W,q){if("object"!=typeof W||null===W)return!1;for(const K of["next","error","complete"])if(K in W&&"function"==typeof W[K])return!0;return!1}(q)?q:{next:q,error:K,complete:ke},void 0===ce.next&&(ce.next=Zn),void 0===ce.error&&(ce.error=Zn),void 0===ce.complete&&(ce.complete=Zn);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch(oe){}}),this.observers.push(ce),nt}unsubscribeOne(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(q){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,q)}sendOne(q,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[q])try{K(this.observers[q])}catch(ke){"undefined"!=typeof console&&console.error&&console.error(ke)}})}close(q){this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zn(){}function gr(W,q=1e3,K=2){const ke=q*Math.pow(K,W),ce=Math.round(.5*ke*(Math.random()-.5)*2);return Math.min(144e5,ke+ce)}function ei(W){return W&&W._delegate?W._delegate:W}},9554:(dt,Pe,k)=>{"use strict";k.d(Pe,{Gb:()=>gr,Kz:()=>K,Iv:()=>ei});var u=k(8239),j=k(8026),O=k(5422),le=k(3854),fe=k(3910);k(3328);const ue="analytics",ie="firebase_id",$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",V="https://www.googletagmanager.com/gtag/js",ne=new O.Yd("@firebase/analytics");function Re(oe){return Promise.all(oe.map(me=>me.catch(Ve=>Ve)))}function $e(oe,me){const Ve=document.createElement("script");Ve.src=`${V}?l=${oe}&id=${me}`,Ve.async=!0,document.head.appendChild(Ve)}function Ee(oe,me,Ve,Je,Qe,Ye){return se.apply(this,arguments)}function se(){return(se=(0,u.Z)(function*(oe,me,Ve,Je,Qe,Ye){const ee=Je[Qe];try{if(ee)yield me[ee];else{const z=(yield Re(Ve)).find(ge=>ge.measurementId===Qe);z&&(yield me[z.appId])}}catch(G){ne.error(G)}oe("config",Qe,Ye)})).apply(this,arguments)}function _e(oe,me,Ve,Je,Qe){return pe.apply(this,arguments)}function pe(){return(pe=(0,u.Z)(function*(oe,me,Ve,Je,Qe){try{let Ye=[];if(Qe&&Qe.send_to){let ee=Qe.send_to;Array.isArray(ee)||(ee=[ee]);const G=yield Re(Ve);for(const z of ee){const ge=G.find(Mt=>Mt.measurementId===z),Ke=ge&&me[ge.appId];if(!Ke){Ye=[];break}Ye.push(Ke)}}0===Ye.length&&(Ye=Object.values(me)),yield Promise.all(Ye),oe("event",Je,Qe||{})}catch(Ye){ne.error(Ye)}})).apply(this,arguments)}function At(){const oe=window.document.getElementsByTagName("script");for(const me of Object.values(oe))if(me.src&&me.src.includes(V))return me;return null}const ye=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ce=new class{constructor(me={},Ve=1e3){this.throttleMetadata=me,this.intervalMillis=Ve}getThrottleMetadata(me){return this.throttleMetadata[me]}setThrottleMetadata(me,Ve){this.throttleMetadata[me]=Ve}deleteThrottleMetadata(me){delete this.throttleMetadata[me]}};function Se(oe){return new Headers({Accept:"application/json","x-goog-api-key":oe})}function Be(oe){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(oe){var me;const{appId:Ve,apiKey:Je}=oe,Qe={method:"GET",headers:Se(Je)},Ye=$.replace("{app-id}",Ve),ee=yield fetch(Ye,Qe);if(200!==ee.status&&304!==ee.status){let G="";try{const z=yield ee.json();(null===(me=z.error)||void 0===me?void 0:me.message)&&(G=z.error.message)}catch(z){}throw ye.create("config-fetch-failed",{httpStatus:ee.status,responseMessage:G})}return ee.json()})).apply(this,arguments)}function It(oe){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(oe,me=Ce,Ve){const{appId:Je,apiKey:Qe,measurementId:Ye}=oe.options;if(!Je)throw ye.create("no-app-id");if(!Qe){if(Ye)return{measurementId:Ye,appId:Je};throw ye.create("no-api-key")}const ee=me.getThrottleMetadata(Je)||{backoffCount:0,throttleEndTimeMillis:Date.now()},G=new Tn;return setTimeout((0,u.Z)(function*(){G.abort()}),void 0!==Ve?Ve:6e4),xn({appId:Je,apiKey:Qe,measurementId:Ye},ee,G,me)})).apply(this,arguments)}function xn(oe,me,Ve){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(oe,{throttleEndTimeMillis:me,backoffCount:Ve},Je,Qe=Ce){const{appId:Ye,measurementId:ee}=oe;try{yield mt(Je,me)}catch(G){if(ee)return ne.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ee} provided in the "measurementId" field in the local Firebase config. [${G.message}]`),{appId:Ye,measurementId:ee};throw G}try{const G=yield Be(oe);return Qe.deleteThrottleMetadata(Ye),G}catch(G){if(!xt(G)){if(Qe.deleteThrottleMetadata(Ye),ee)return ne.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ee} provided in the "measurementId" field in the local Firebase config. [${G.message}]`),{appId:Ye,measurementId:ee};throw G}const z=503===Number(G.customData.httpStatus)?(0,le.$s)(Ve,Qe.intervalMillis,30):(0,le.$s)(Ve,Qe.intervalMillis),ge={throttleEndTimeMillis:Date.now()+z,backoffCount:Ve+1};return Qe.setThrottleMetadata(Ye,ge),ne.debug(`Calling attemptFetch again in ${z} millis`),xn(oe,ge,Je,Qe)}})).apply(this,arguments)}function mt(oe,me){return new Promise((Ve,Je)=>{const Qe=Math.max(me-Date.now(),0),Ye=setTimeout(Ve,Qe);oe.addEventListener(()=>{clearTimeout(Ye),Je(ye.create("fetch-throttle",{throttleEndTimeMillis:me}))})})}function xt(oe){if(!(oe instanceof le.ZR&&oe.customData))return!1;const me=Number(oe.customData.httpStatus);return 429===me||500===me||503===me||504===me}class Tn{constructor(){this.listeners=[]}addEventListener(me){this.listeners.push(me)}abort(){this.listeners.forEach(me=>me())}}function Br(){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(){if(!(0,le.hl)())return ne.warn(ye.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(oe){return ne.warn(ye.create("indexeddb-unavailable",{errorInfo:oe}).message),!1}return!0})).apply(this,arguments)}function tn(){return(tn=(0,u.Z)(function*(oe,me,Ve,Je,Qe,Ye,ee){var G;const z=It(oe);z.then(Wt=>{Ve[Wt.measurementId]=Wt.appId,oe.options.measurementId&&Wt.measurementId!==oe.options.measurementId&&ne.warn(`The measurement ID in the local Firebase config (${oe.options.measurementId}) does not match the measurement ID fetched from the server (${Wt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wt=>ne.error(Wt)),me.push(z);const ge=Br().then(Wt=>{if(Wt)return Je.getId()}),[Ke,Mt]=yield Promise.all([z,ge]);At()||$e(Ye,Ke.measurementId),Qe("js",new Date);const Bt=null!==(G=null==ee?void 0:ee.config)&&void 0!==G?G:{};return Bt.origin="firebase",Bt.update=!0,null!=Mt&&(Bt[ie]=Mt),Qe("config",Ke.measurementId,Bt),Ke.measurementId})).apply(this,arguments)}class cn{constructor(me){this.app=me}_delete(){return delete wn[this.app.options.appId],Promise.resolve()}}let wn={},rr=[];const Qn={};let ir,Nn,Wn="dataLayer",sr=!1;function Ft(oe,me,Ve){!function(){const oe=[];if((0,le.ru)()&&oe.push("This is a browser extension environment."),(0,le.zI)()||oe.push("Cookies are not available."),oe.length>0){const me=oe.map((Je,Qe)=>`(${Qe+1}) ${Je}`).join(" "),Ve=ye.create("invalid-analytics-context",{errorInfo:me});ne.warn(Ve.message)}}();const Je=oe.options.appId;if(!Je)throw ye.create("no-app-id");if(!oe.options.apiKey){if(!oe.options.measurementId)throw ye.create("no-api-key");ne.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${oe.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wn[Je])throw ye.create("already-exists",{id:Je});if(!sr){!function(oe){let me=[];Array.isArray(window[oe])?me=window[oe]:window[oe]=me}(Wn);const{wrappedGtag:Ye,gtagCore:ee}=function(oe,me,Ve,Je,Qe){let Ye=function(...ee){window[Je].push(arguments)};return window[Qe]&&"function"==typeof window[Qe]&&(Ye=window[Qe]),window[Qe]=function(oe,me,Ve,Je){function Ye(){return(Ye=(0,u.Z)(function*(ee,G,z){try{"event"===ee?yield _e(oe,me,Ve,G,z):"config"===ee?yield Ee(oe,me,Ve,Je,G,z):oe("set",G)}catch(ge){ne.error(ge)}})).apply(this,arguments)}return function(ee,G,z){return Ye.apply(this,arguments)}}(Ye,oe,me,Ve),{gtagCore:Ye,wrappedGtag:window[Qe]}}(wn,rr,Qn,Wn,"gtag");Nn=Ye,ir=ee,sr=!0}return wn[Je]=function(oe,me,Ve,Je,Qe,Ye,ee){return tn.apply(this,arguments)}(oe,rr,Qn,me,ir,Wn,Ve),new cn(oe)}function Fn(){return(Fn=(0,u.Z)(function*(oe,me,Ve,Je,Qe){if(Qe&&Qe.global)oe("event",Ve,Je);else{const Ye=yield me;oe("event",Ve,Object.assign(Object.assign({},Je),{send_to:Ye}))}})).apply(this,arguments)}function $t(){return($t=(0,u.Z)(function*(oe,me,Ve,Je){if(Je&&Je.global)return oe("set",{user_id:Ve}),Promise.resolve();oe("config",yield me,{update:!0,user_id:Ve})})).apply(this,arguments)}function gr(){return sn.apply(this,arguments)}function sn(){return(sn=(0,u.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(oe){return!1}})).apply(this,arguments)}function ei(oe,me,Ve){oe=(0,le.m9)(oe),function(oe,me,Ve,Je){return $t.apply(this,arguments)}(Nn,wn[oe.app.options.appId],me,Ve).catch(Je=>ne.error(Je))}function K(oe,me,Ve,Je){oe=(0,le.m9)(oe),function(oe,me,Ve,Je,Qe){return Fn.apply(this,arguments)}(Nn,wn[oe.app.options.appId],me,Ve,Je).catch(Qe=>ne.error(Qe))}const ke="@firebase/analytics";(0,j._registerComponent)(new fe.wA(ue,(me,{options:Ve})=>Ft(me.getProvider("app").getImmediate(),me.getProvider("installations-internal").getImmediate(),Ve),"PUBLIC")),(0,j._registerComponent)(new fe.wA("analytics-internal",function(me){try{const Ve=me.getProvider(ue).getImmediate();return{logEvent:(Je,Qe,Ye)=>K(Ve,Je,Qe,Ye)}}catch(Ve){throw ye.create("interop-component-reg-failed",{reason:Ve})}},"PRIVATE")),(0,j.registerVersion)(ke,"0.7.5"),(0,j.registerVersion)(ke,"0.7.5","esm2017")},2329:(dt,Pe,k)=>{"use strict";k.d(Pe,{Mq:()=>u.getApp,C6:()=>u.getApps,KN:()=>u.registerVersion});var u=k(8026);(0,u.registerVersion)("firebase","9.6.3","app")},7841:(dt,Pe,k)=>{"use strict";k.d(Pe,{Z:()=>u.Z});var u=k(3394);u.Z.registerVersion("firebase","9.6.3","app-compat")},4828:(dt,Pe,k)=>{"use strict";k.r(Pe);var u=k(8239),j=k(3394),O=k(7379),le=k(3854),ue=(k(8026),k(5422),k(3910));function ie(){return window}function $(){return($=(0,u.Z)(function*(ee,G,z){var ge;const{BuildInfo:Ke}=ie();(0,O.ap)(G.sessionId,"AuthEvent did not contain a session ID");const Mt=yield se(G.sessionId),Bt={};return(0,O.aq)()?Bt.ibi=Ke.packageName:(0,O.ar)()?Bt.apn=Ke.packageName:(0,O.as)(ee,"operation-not-supported-in-this-environment"),Ke.displayName&&(Bt.appDisplayName=Ke.displayName),Bt.sessionId=Mt,(0,O.at)(ee,z,G.type,void 0,null!==(ge=G.eventId)&&void 0!==ge?ge:void 0,Bt)})).apply(this,arguments)}function ne(){return(ne=(0,u.Z)(function*(ee){const{BuildInfo:G}=ie(),z={};(0,O.aq)()?z.iosBundleId=G.packageName:(0,O.ar)()?z.androidPackageName=G.packageName:(0,O.as)(ee,"operation-not-supported-in-this-environment"),yield(0,O.au)(ee,z)})).apply(this,arguments)}function xe(){return(xe=(0,u.Z)(function*(ee,G,z){const{cordova:ge}=ie();let Ke=()=>{};try{yield new Promise((Mt,Bt)=>{let Wt=null;function un(){var Lt;Mt();const ti=null===(Lt=ge.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof ti&&ti(),"function"==typeof(null==z?void 0:z.close)&&z.close()}function pn(){Wt||(Wt=window.setTimeout(()=>{Bt((0,O.av)(ee,"redirect-cancelled-by-user"))},2e3))}function On(){"visible"===(null==document?void 0:document.visibilityState)&&pn()}G.addPassiveListener(un),document.addEventListener("resume",pn,!1),(0,O.ar)()&&document.addEventListener("visibilitychange",On,!1),Ke=()=>{G.removePassiveListener(un),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",On,!1),Wt&&window.clearTimeout(Wt)}})}finally{Ke()}})).apply(this,arguments)}function se(ee){return _e.apply(this,arguments)}function _e(){return(_e=(0,u.Z)(function*(ee){const G=pe(ee),z=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(z)).map(Ke=>Ke.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pe(ee){if((0,O.ap)(/[0-9a-zA-Z]+/.test(ee),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ee);const G=new ArrayBuffer(ee.length),z=new Uint8Array(G);for(let ge=0;ge<ee.length;ge++)z[ge]=ee.charCodeAt(ge);return z}class ot extends O.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(z=>z(G)),super.onEvent(G)}initialized(){var G=this;return(0,u.Z)(function*(){yield G.initPromise})()}}function ye(ee){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(ee){const G=yield Ce()._get(Se(ee));return G&&(yield Ce()._remove(Se(ee))),G})).apply(this,arguments)}function we(){const ee=[],G="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let z=0;z<20;z++){const ge=Math.floor(Math.random()*G.length);ee.push(G.charAt(ge))}return ee.join("")}function Ce(){return(0,O.ax)(O.b)}function Se(ee){return(0,O.ay)("authEvent",ee.config.apiKey,ee.name)}function It(ee){if(!(null==ee?void 0:ee.includes("?")))return{};const[G,...z]=ee.split("?");return(0,le.zd)(z.join("?"))}function mt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,O.av)("no-auth-event")}}function Tt(){var ee;return(null===(ee=null==self?void 0:self.location)||void 0===ee?void 0:ee.protocol)||null}function cn(ee=(0,le.z$)()){return!("file:"!==Tt()&&"ionic:"!==Tt()||!ee.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tr(){try{const ee=self.localStorage,G=O.aG();if(ee)return ee.setItem(G,"1"),ee.removeItem(G),!function(ee=(0,le.z$)()){return(0,le.w1)()&&11===(null==document?void 0:document.documentMode)||function(ee=(0,le.z$)()){return/Edge\/\d+/.test(ee)}(ee)}()||(0,le.hl)()}catch(ee){return ir()&&(0,le.hl)()}return!1}function ir(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nn(){return("http:"===Tt()||"https:"===Tt()||(0,le.ru)()||cn())&&!((0,le.b$)()||(0,le.UG)())&&Tr()&&!ir()}function sr(){return cn()&&"undefined"!=typeof document}function lt(){return(lt=(0,u.Z)(function*(){return!!sr()&&new Promise(ee=>{const G=setTimeout(()=>{ee(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),ee(!0)})})})).apply(this,arguments)}const Ft={LOCAL:"local",NONE:"none",SESSION:"session"},Zn=O.aw,Fn="persistence";function yt(ee){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(ee){yield ee._initializationPromise;const G=Ln(),z=O.ay(Fn,ee.config.apiKey,ee.name);(null==G?void 0:G.sessionStorage)&&G.sessionStorage.setItem(z,ee._getPersistence())})).apply(this,arguments)}function Ln(){return"undefined"!=typeof window?window:null}const on=O.aw;class We{constructor(){this.browserResolver=O.ax(O.k),this.cordovaResolver=O.ax(class{constructor(){this._redirectPersistence=O.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=O.aA}_initialize(G){var z=this;return(0,u.Z)(function*(){const ge=G._key();let Ke=z.eventManagers.get(ge);return Ke||(Ke=new ot(G),z.eventManagers.set(ge,Ke),z.attachCallbackListeners(G,Ke)),Ke})()}_openPopup(G){(0,O.as)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,z,ge,Ke){var Mt=this;return(0,u.Z)(function*(){!function(ee){var G,z,ge,Ke,Mt,Bt,Wt,un,pn,On;const Lt=ie();(0,O.aw)("function"==typeof(null===(G=null==Lt?void 0:Lt.universalLinks)||void 0===G?void 0:G.subscribe),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,O.aw)(void 0!==(null===(z=null==Lt?void 0:Lt.BuildInfo)||void 0===z?void 0:z.packageName),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,O.aw)("function"==typeof(null===(Mt=null===(Ke=null===(ge=null==Lt?void 0:Lt.cordova)||void 0===ge?void 0:ge.plugins)||void 0===Ke?void 0:Ke.browsertab)||void 0===Mt?void 0:Mt.openUrl),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(un=null===(Wt=null===(Bt=null==Lt?void 0:Lt.cordova)||void 0===Bt?void 0:Bt.plugins)||void 0===Wt?void 0:Wt.browsertab)||void 0===un?void 0:un.isAvailable),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,O.aw)("function"==typeof(null===(On=null===(pn=null==Lt?void 0:Lt.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===On?void 0:On.open),ee,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const Bt=yield Mt._initialize(G);yield Bt.initialized(),Bt.resetRedirect(),(0,O.aB)(),yield Mt._originValidation(G);const Wt=function(ee,G,z=null){return{type:G,eventId:z,urlResponse:null,sessionId:we(),postBody:null,tenantId:ee.tenantId,error:(0,O.av)(ee,"no-auth-event")}}(G,ge,Ke);yield function(ee,G){return Ce()._set(Se(ee),G)}(G,Wt);const un=yield function(ee,G,z){return $.apply(this,arguments)}(G,Wt,z),pn=yield function(ee){const{cordova:G}=ie();return new Promise(z=>{G.plugins.browsertab.isAvailable(ge=>{let Ke=null;ge?G.plugins.browsertab.openUrl(ee):Ke=G.InAppBrowser.open(ee,(0,O.ao)()?"_blank":"_system","location=yes"),z(Ke)})})}(un);return function(ee,G,z){return xe.apply(this,arguments)}(G,Bt,pn)})()}_isIframeWebStorageSupported(G,z){throw new Error("Method not implemented.")}_originValidation(G){const z=G._key();return this.originValidationPromises[z]||(this.originValidationPromises[z]=function(ee){return ne.apply(this,arguments)}(G)),this.originValidationPromises[z]}attachCallbackListeners(G,z){const{universalLinks:ge,handleOpenURL:Ke,BuildInfo:Mt}=ie(),Bt=setTimeout((0,u.Z)(function*(){yield ye(G),z.onEvent(mt())}),500),Wt=function(){var On=(0,u.Z)(function*(Lt){clearTimeout(Bt);const ti=yield ye(G);let $n=null;ti&&(null==Lt?void 0:Lt.url)&&($n=function(ee,G){var z,ge;const Ke=function(ee){const G=It(ee),z=G.link?decodeURIComponent(G.link):void 0,ge=It(z).link,Ke=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return It(Ke).link||Ke||ge||z||ee}(G);if(Ke.includes("/__/auth/callback")){const Mt=It(Ke),Bt=Mt.firebaseError?function(ee){try{return JSON.parse(ee)}catch(G){return null}}(decodeURIComponent(Mt.firebaseError)):null,Wt=null===(ge=null===(z=null==Bt?void 0:Bt.code)||void 0===z?void 0:z.split("auth/"))||void 0===ge?void 0:ge[1],un=Wt?(0,O.av)(Wt):null;return un?{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,error:un,urlResponse:null,sessionId:null,postBody:null}:{type:ee.type,eventId:ee.eventId,tenantId:ee.tenantId,sessionId:ee.sessionId,urlResponse:Ke,postBody:null}}return null}(ti,Lt.url)),z.onEvent($n||mt())});return function(ti){return On.apply(this,arguments)}}();void 0!==ge&&"function"==typeof ge.subscribe&&ge.subscribe(null,Wt);const un=Ke,pn=`${Mt.packageName.toLowerCase()}://`;ie().handleOpenURL=function(){var On=(0,u.Z)(function*(Lt){if(Lt.toLowerCase().startsWith(pn)&&Wt({url:Lt}),"function"==typeof un)try{un(Lt)}catch(ti){console.error(ti)}});return function(Lt){return On.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O.a,this._completeRedirectFn=O.aA}_initialize(G){var z=this;return(0,u.Z)(function*(){return yield z.selectUnderlyingResolver(),z.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,z,ge,Ke){var Mt=this;return(0,u.Z)(function*(){return yield Mt.selectUnderlyingResolver(),Mt.assertedUnderlyingResolver._openPopup(G,z,ge,Ke)})()}_openRedirect(G,z,ge,Ke){var Mt=this;return(0,u.Z)(function*(){return yield Mt.selectUnderlyingResolver(),Mt.assertedUnderlyingResolver._openRedirect(G,z,ge,Ke)})()}_isIframeWebStorageSupported(G,z){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,z)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return sr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return on(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,u.Z)(function*(){if(G.underlyingResolver)return;const z=yield function(){return lt.apply(this,arguments)}();G.underlyingResolver=z?G.cordovaResolver:G.browserResolver})()}}function tt(ee){return ee.unwrap()}function wi(ee){return sn(ee)}function sn(ee){const{_tokenResponse:G}=ee instanceof le.ZR?ee.customData:ee;if(!G)return null;if(!(ee instanceof le.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return O.P.credentialFromResult(ee);const z=G.providerId;if(!z||z===O.o.PASSWORD)return null;let ge;switch(z){case O.o.GOOGLE:ge=O.N;break;case O.o.FACEBOOK:ge=O.M;break;case O.o.GITHUB:ge=O.Q;break;case O.o.TWITTER:ge=O.V;break;default:const{oauthIdToken:Ke,oauthAccessToken:Mt,oauthTokenSecret:Bt,pendingToken:Wt,nonce:un}=G;return Mt||Bt||Ke||Wt?Wt?z.startsWith("saml.")?O.aJ._create(z,Wt):O.I._fromParams({providerId:z,signInMethod:z,pendingToken:Wt,idToken:Ke,accessToken:Mt}):new O.T(z).credential({idToken:Ke,accessToken:Mt,rawNonce:un}):null}return ee instanceof le.ZR?ge.credentialFromError(ee):ge.credentialFromResult(ee)}function dn(ee,G){return G.catch(z=>{throw z instanceof le.ZR&&function(ee,G){var z;const ge=null===(z=G.customData)||void 0===z?void 0:z._tokenResponse;if("auth/multi-factor-auth-required"===G.code)G.resolver=new q(ee,O.am(ee,G));else if(ge){const Ke=sn(G),Mt=G;Ke&&(Mt.credential=Ke,Mt.tenantId=ge.tenantId||void 0,Mt.email=ge.email||void 0,Mt.phoneNumber=ge.phoneNumber||void 0)}}(ee,z),z}).then(z=>{const Ke=z.user;return{operationType:z.operationType,credential:wi(z),additionalUserInfo:O.ak(z),user:K.getOrCreate(Ke)}})}function ei(ee,G){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(ee,G){const z=yield G;return{verificationId:z.verificationId,confirm:ge=>dn(ee,z.confirm(ge))}})).apply(this,arguments)}class q{constructor(G,z){this.resolver=z,this.auth=G.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return dn(tt(this.auth),this.resolver.resolveSignIn(G))}}class K{constructor(G){this._delegate=G,this.multiFactor=O.an(G)}static getOrCreate(G){return K.USER_MAP.has(G)||K.USER_MAP.set(G,new K(G)),K.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var z=this;return(0,u.Z)(function*(){return dn(z.auth,O.Y(z._delegate,G))})()}linkWithPhoneNumber(G,z){var ge=this;return(0,u.Z)(function*(){return ei(ge.auth,O.l(ge._delegate,G,z))})()}linkWithPopup(G){var z=this;return(0,u.Z)(function*(){return dn(z.auth,O.d(z._delegate,G,We))})()}linkWithRedirect(G){var z=this;return(0,u.Z)(function*(){return yield yt(O.aC(z.auth)),O.g(z._delegate,G,We)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var z=this;return(0,u.Z)(function*(){return dn(z.auth,O.Z(z._delegate,G))})()}reauthenticateWithPhoneNumber(G,z){return ei(this.auth,O.r(this._delegate,G,z))}reauthenticateWithPopup(G){return dn(this.auth,O.e(this._delegate,G,We))}reauthenticateWithRedirect(G){var z=this;return(0,u.Z)(function*(){return yield yt(O.aC(z.auth)),O.h(z._delegate,G,We)})()}sendEmailVerification(G){return O.aa(this._delegate,G)}unlink(G){var z=this;return(0,u.Z)(function*(){return yield O.aj(z._delegate,G),z})()}updateEmail(G){return O.af(this._delegate,G)}updatePassword(G){return O.ag(this._delegate,G)}updatePhoneNumber(G){return O.u(this._delegate,G)}updateProfile(G){return O.ae(this._delegate,G)}verifyBeforeUpdateEmail(G,z){return O.ab(this._delegate,G,z)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}K.USER_MAP=new WeakMap;const ke=O.aw;let ce=(()=>{class ee{constructor(z,ge){if(this.app=z,ge.isInitialized())return this._delegate=ge.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ke}=z.options;ke(Ke,"invalid-api-key",{appName:z.name}),ke(Ke,"invalid-api-key",{appName:z.name});const Mt="undefined"!=typeof window?We:void 0;this._delegate=ge.initialize({options:{persistence:oe(Ke,z.name),popupRedirectResolver:Mt}}),this._delegate._updateErrorMap(O.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?K.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(z){this._delegate.languageCode=z}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(z){this._delegate.tenantId=z}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(z,ge){O.E(this._delegate,z,ge)}applyActionCode(z){return O.a1(this._delegate,z)}checkActionCode(z){return O.a2(this._delegate,z)}confirmPasswordReset(z,ge){return O.a0(this._delegate,z,ge)}createUserWithEmailAndPassword(z,ge){var Ke=this;return(0,u.Z)(function*(){return dn(Ke._delegate,O.a4(Ke._delegate,z,ge))})()}fetchProvidersForEmail(z){return this.fetchSignInMethodsForEmail(z)}fetchSignInMethodsForEmail(z){return O.a9(this._delegate,z)}isSignInWithEmailLink(z){return O.a7(this._delegate,z)}getRedirectResult(){var z=this;return(0,u.Z)(function*(){ke(Nn(),z._delegate,"operation-not-supported-in-this-environment");const ge=yield O.j(z._delegate,We);return ge?dn(z._delegate,Promise.resolve(ge)):{credential:null,user:null}})()}addFrameworkForLogging(z){!function(ee,G){(0,O.aC)(ee)._logFramework(G)}(this._delegate,z)}onAuthStateChanged(z,ge,Ke){const{next:Mt,error:Bt,complete:Wt}=nt(z,ge,Ke);return this._delegate.onAuthStateChanged(Mt,Bt,Wt)}onIdTokenChanged(z,ge,Ke){const{next:Mt,error:Bt,complete:Wt}=nt(z,ge,Ke);return this._delegate.onIdTokenChanged(Mt,Bt,Wt)}sendSignInLinkToEmail(z,ge){return O.a6(this._delegate,z,ge)}sendPasswordResetEmail(z,ge){return O.$(this._delegate,z,ge||void 0)}setPersistence(z){var ge=this;return(0,u.Z)(function*(){let Ke;switch(function(ee,G){Zn(Object.values(Ft).includes(G),ee,"invalid-persistence-type"),(0,le.b$)()?Zn(G!==Ft.SESSION,ee,"unsupported-persistence-type"):(0,le.UG)()?Zn(G===Ft.NONE,ee,"unsupported-persistence-type"):ir()?Zn(G===Ft.NONE||G===Ft.LOCAL&&(0,le.hl)(),ee,"unsupported-persistence-type"):Zn(G===Ft.NONE||Tr(),ee,"unsupported-persistence-type")}(ge._delegate,z),z){case Ft.SESSION:Ke=O.a;break;case Ft.LOCAL:Ke=(yield O.ax(O.i)._isAvailable())?O.i:O.b;break;case Ft.NONE:Ke=O.K;break;default:return O.as("argument-error",{appName:ge._delegate.name})}return ge._delegate.setPersistence(Ke)})()}signInAndRetrieveDataWithCredential(z){return this.signInWithCredential(z)}signInAnonymously(){return dn(this._delegate,O.W(this._delegate))}signInWithCredential(z){return dn(this._delegate,O.X(this._delegate,z))}signInWithCustomToken(z){return dn(this._delegate,O._(this._delegate,z))}signInWithEmailAndPassword(z,ge){return dn(this._delegate,O.a5(this._delegate,z,ge))}signInWithEmailLink(z,ge){return dn(this._delegate,O.a8(this._delegate,z,ge))}signInWithPhoneNumber(z,ge){return ei(this._delegate,O.s(this._delegate,z,ge))}signInWithPopup(z){var ge=this;return(0,u.Z)(function*(){return ke(Nn(),ge._delegate,"operation-not-supported-in-this-environment"),dn(ge._delegate,O.c(ge._delegate,z,We))})()}signInWithRedirect(z){var ge=this;return(0,u.Z)(function*(){return ke(Nn(),ge._delegate,"operation-not-supported-in-this-environment"),yield yt(ge._delegate),O.f(ge._delegate,z,We)})()}updateCurrentUser(z){return this._delegate.updateCurrentUser(z)}verifyPasswordResetCode(z){return O.a3(this._delegate,z)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ee.Persistence=Ft,ee})();function nt(ee,G,z){let ge=ee;"function"!=typeof ee&&({next:ge,error:G,complete:z}=ee);const Ke=ge;return{next:Bt=>Ke(Bt&&K.getOrCreate(Bt)),error:G,complete:z}}function oe(ee,G){const z=function(ee,G){const z=Ln();if(!(null==z?void 0:z.sessionStorage))return[];const ge=O.ay(Fn,ee,G);switch(z.sessionStorage.getItem(ge)){case Ft.NONE:return[O.K];case Ft.LOCAL:return[O.i,O.a];case Ft.SESSION:return[O.a];default:return[]}}(ee,G);if("undefined"!=typeof self&&!z.includes(O.i)&&z.push(O.i),"undefined"!=typeof window)for(const ge of[O.b,O.a])z.includes(ge)||z.push(ge);return z.includes(O.K)||z.push(O.K),z}class me{constructor(){this.providerId="phone",this._delegate=new O.P(tt(j.Z.auth()))}static credential(G,z){return O.P.credential(G,z)}verifyPhoneNumber(G,z){return this._delegate.verifyPhoneNumber(G,z)}unwrap(){return this._delegate}}me.PHONE_SIGN_IN_METHOD=O.P.PHONE_SIGN_IN_METHOD,me.PROVIDER_ID=O.P.PROVIDER_ID;const Ve=O.aw;var ee;(ee=j.Z).INTERNAL.registerComponent(new ue.wA("auth-compat",G=>{const z=G.getProvider("app-compat").getImmediate(),ge=G.getProvider("auth");return new ce(z,ge)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:O.A.EMAIL_SIGNIN,PASSWORD_RESET:O.A.PASSWORD_RESET,RECOVER_EMAIL:O.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:O.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:O.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:O.A.VERIFY_EMAIL}},EmailAuthProvider:O.L,FacebookAuthProvider:O.M,GithubAuthProvider:O.Q,GoogleAuthProvider:O.N,OAuthProvider:O.T,SAMLAuthProvider:O.U,PhoneAuthProvider:me,PhoneMultiFactorGenerator:O.m,RecaptchaVerifier:class{constructor(G,z,ge=j.Z.app()){var Ke;Ve(null===(Ke=ge.options)||void 0===Ke?void 0:Ke.apiKey,"invalid-api-key",{appName:ge.name}),this._delegate=new O.R(G,z,ge.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:O.V,Auth:ce,AuthCredential:O.G,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ee.registerVersion("@firebase/auth-compat","0.2.5")},6676:function(dt,Pe){!function(k){"use strict";function u(Ee){return Array.prototype.slice.call(Ee)}function j(Ee){return new Promise(function(se,_e){Ee.onsuccess=function(){se(Ee.result)},Ee.onerror=function(){_e(Ee.error)}})}function O(Ee,se,_e){var pe,Fe=new Promise(function(ot,At){j(pe=Ee[se].apply(Ee,_e)).then(ot,At)});return Fe.request=pe,Fe}function le(Ee,se,_e){var pe=O(Ee,se,_e);return pe.then(function(Fe){if(Fe)return new F(Fe,pe.request)})}function fe(Ee,se,_e){_e.forEach(function(pe){Object.defineProperty(Ee.prototype,pe,{get:function(){return this[se][pe]},set:function(Fe){this[se][pe]=Fe}})})}function J(Ee,se,_e,pe){pe.forEach(function(Fe){Fe in _e.prototype&&(Ee.prototype[Fe]=function(){return O(this[se],Fe,arguments)})})}function ue(Ee,se,_e,pe){pe.forEach(function(Fe){Fe in _e.prototype&&(Ee.prototype[Fe]=function(){return this[se][Fe].apply(this[se],arguments)})})}function ie(Ee,se,_e,pe){pe.forEach(function(Fe){Fe in _e.prototype&&(Ee.prototype[Fe]=function(){return le(this[se],Fe,arguments)})})}function re(Ee){this._index=Ee}function F(Ee,se){this._cursor=Ee,this._request=se}function $(Ee){this._store=Ee}function V(Ee){this._tx=Ee,this.complete=new Promise(function(se,_e){Ee.oncomplete=function(){se()},Ee.onerror=function(){_e(Ee.error)},Ee.onabort=function(){_e(Ee.error)}})}function ne(Ee,se,_e){this._db=Ee,this.oldVersion=se,this.transaction=new V(_e)}function Re(Ee){this._db=Ee}fe(re,"_index",["name","keyPath","multiEntry","unique"]),J(re,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ie(re,"_index",IDBIndex,["openCursor","openKeyCursor"]),fe(F,"_cursor",["direction","key","primaryKey","value"]),J(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ee){Ee in IDBCursor.prototype&&(F.prototype[Ee]=function(){var se=this,_e=arguments;return Promise.resolve().then(function(){return se._cursor[Ee].apply(se._cursor,_e),j(se._request).then(function(pe){if(pe)return new F(pe,se._request)})})})}),$.prototype.createIndex=function(){return new re(this._store.createIndex.apply(this._store,arguments))},$.prototype.index=function(){return new re(this._store.index.apply(this._store,arguments))},fe($,"_store",["name","keyPath","indexNames","autoIncrement"]),J($,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ie($,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ue($,"_store",IDBObjectStore,["deleteIndex"]),V.prototype.objectStore=function(){return new $(this._tx.objectStore.apply(this._tx,arguments))},fe(V,"_tx",["objectStoreNames","mode"]),ue(V,"_tx",IDBTransaction,["abort"]),ne.prototype.createObjectStore=function(){return new $(this._db.createObjectStore.apply(this._db,arguments))},fe(ne,"_db",["name","version","objectStoreNames"]),ue(ne,"_db",IDBDatabase,["deleteObjectStore","close"]),Re.prototype.transaction=function(){return new V(this._db.transaction.apply(this._db,arguments))},fe(Re,"_db",["name","version","objectStoreNames"]),ue(Re,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ee){[$,re].forEach(function(se){Ee in se.prototype&&(se.prototype[Ee.replace("open","iterate")]=function(){var _e=u(arguments),pe=_e[_e.length-1],Fe=this._store||this._index,ot=Fe[Ee].apply(Fe,_e.slice(0,-1));ot.onsuccess=function(){pe(ot.result)}})})}),[re,$].forEach(function(Ee){Ee.prototype.getAll||(Ee.prototype.getAll=function(se,_e){var pe=this,Fe=[];return new Promise(function(ot){pe.iterateCursor(se,function(At){At?(Fe.push(At.value),void 0===_e||Fe.length!=_e?At.continue():ot(Fe)):ot(Fe)})})})}),k.openDb=function(Ee,se,_e){var pe=O(indexedDB,"open",[Ee,se]),Fe=pe.request;return Fe&&(Fe.onupgradeneeded=function(ot){_e&&_e(new ne(Fe.result,ot.oldVersion,Fe.transaction))}),pe.then(function(ot){return new Re(ot)})},k.deleteDb=function(Ee){return O(indexedDB,"deleteDatabase",[Ee])},Object.defineProperty(k,"__esModule",{value:!0})}(Pe)},7574:(dt,Pe,k)=>{"use strict";k.d(Pe,{y:()=>$});var u=k(7393),O=k(9181),le=k(6490),J=k(6554),ue=k(4487);var F=k(2494);let $=(()=>{class ne{constructor($e){this._isScalar=!1,$e&&(this._subscribe=$e)}lift($e){const xe=new ne;return xe.source=this,xe.operator=$e,xe}subscribe($e,xe,Ee){const{operator:se}=this,_e=function(ne,Re,$e){if(ne){if(ne instanceof u.L)return ne;if(ne[O.b])return ne[O.b]()}return ne||Re||$e?new u.L(ne,Re,$e):new u.L(le.c)}($e,xe,Ee);if(_e.add(se?se.call(_e,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!_e.syncErrorThrowable?this._subscribe(_e):this._trySubscribe(_e)),F.v.useDeprecatedSynchronousErrorHandling&&_e.syncErrorThrowable&&(_e.syncErrorThrowable=!1,_e.syncErrorThrown))throw _e.syncErrorValue;return _e}_trySubscribe($e){try{return this._subscribe($e)}catch(xe){F.v.useDeprecatedSynchronousErrorHandling&&($e.syncErrorThrown=!0,$e.syncErrorValue=xe),function(ne){for(;ne;){const{closed:Re,destination:$e,isStopped:xe}=ne;if(Re||xe)return!1;ne=$e&&$e instanceof u.L?$e:null}return!0}($e)?$e.error(xe):console.warn(xe)}}forEach($e,xe){return new(xe=V(xe))((Ee,se)=>{let _e;_e=this.subscribe(pe=>{try{$e(pe)}catch(Fe){se(Fe),_e&&_e.unsubscribe()}},se,Ee)})}_subscribe($e){const{source:xe}=this;return xe&&xe.subscribe($e)}[J.L](){return this}pipe(...$e){return 0===$e.length?this:function(ne){return 0===ne.length?ue.y:1===ne.length?ne[0]:function($e){return ne.reduce((xe,Ee)=>Ee(xe),$e)}}($e)(this)}toPromise($e){return new($e=V($e))((xe,Ee)=>{let se;this.subscribe(_e=>se=_e,_e=>Ee(_e),()=>xe(se))})}}return ne.create=Re=>new ne(Re),ne})();function V(ne){if(ne||(ne=F.v.Promise||Promise),!ne)throw new Error("no Promise impl found");return ne}},6490:(dt,Pe,k)=>{"use strict";k.d(Pe,{c:()=>O});var u=k(2494),j=k(4449);const O={closed:!0,next(le){},error(le){if(u.v.useDeprecatedSynchronousErrorHandling)throw le;(0,j.z)(le)},complete(){}}},9765:(dt,Pe,k)=>{"use strict";k.d(Pe,{Yc:()=>ue,xQ:()=>ie});var u=k(7574),j=k(7393),O=k(5319),le=k(7971),fe=k(8858),J=k(9181);class ue extends j.L{constructor($){super($),this.destination=$}}let ie=(()=>{class F extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new ue(this)}lift(V){const ne=new re(this,this);return ne.operator=V,ne}next(V){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:ne}=this,Re=ne.length,$e=ne.slice();for(let xe=0;xe<Re;xe++)$e[xe].next(V)}}error(V){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=V,this.isStopped=!0;const{observers:ne}=this,Re=ne.length,$e=ne.slice();for(let xe=0;xe<Re;xe++)$e[xe].error(V);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:V}=this,ne=V.length,Re=V.slice();for(let $e=0;$e<ne;$e++)Re[$e].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(V){if(this.closed)throw new le.N;return super._trySubscribe(V)}_subscribe(V){if(this.closed)throw new le.N;return this.hasError?(V.error(this.thrownError),O.w.EMPTY):this.isStopped?(V.complete(),O.w.EMPTY):(this.observers.push(V),new fe.W(this,V))}asObservable(){const V=new u.y;return V.source=this,V}}return F.create=($,V)=>new re($,V),F})();class re extends ie{constructor($,V){super(),this.destination=$,this.source=V}next($){const{destination:V}=this;V&&V.next&&V.next($)}error($){const{destination:V}=this;V&&V.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:V}=this;return V?this.source.subscribe($):O.w.EMPTY}}},8858:(dt,Pe,k)=>{"use strict";k.d(Pe,{W:()=>j});var u=k(5319);class j extends u.w{constructor(le,fe){super(),this.subject=le,this.subscriber=fe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,fe=le.observers;if(this.subject=null,!fe||0===fe.length||le.isStopped||le.closed)return;const J=fe.indexOf(this.subscriber);-1!==J&&fe.splice(J,1)}}},7393:(dt,Pe,k)=>{"use strict";k.d(Pe,{L:()=>ue});var u=k(9105),j=k(6490),O=k(5319),le=k(9181),fe=k(2494),J=k(4449);class ue extends O.w{constructor(F,$,V){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=j.c;break;case 1:if(!F){this.destination=j.c;break}if("object"==typeof F){F instanceof ue?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new ie(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new ie(this,F,$,V)}}[le.b](){return this}static create(F,$,V){const ne=new ue(F,$,V);return ne.syncErrorThrowable=!1,ne}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class ie extends ue{constructor(F,$,V,ne){super(),this._parentSubscriber=F;let Re,$e=this;(0,u.m)($)?Re=$:$&&(Re=$.next,V=$.error,ne=$.complete,$!==j.c&&($e=Object.create($),(0,u.m)($e.unsubscribe)&&this.add($e.unsubscribe.bind($e)),$e.unsubscribe=this.unsubscribe.bind(this))),this._context=$e,this._next=Re,this._error=V,this._complete=ne}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;fe.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:V}=fe.v;if(this._error)V&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if($.syncErrorThrowable)V?($.syncErrorValue=F,$.syncErrorThrown=!0):(0,J.z)(F),this.unsubscribe();else{if(this.unsubscribe(),V)throw F;(0,J.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const $=()=>this._complete.call(this._context);fe.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,$){try{F.call(this._context,$)}catch(V){if(this.unsubscribe(),fe.v.useDeprecatedSynchronousErrorHandling)throw V;(0,J.z)(V)}}__tryOrSetError(F,$,V){if(!fe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,V)}catch(ne){return fe.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=ne,F.syncErrorThrown=!0,!0):((0,J.z)(ne),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(dt,Pe,k)=>{"use strict";k.d(Pe,{w:()=>J});var u=k(9796),j=k(1555),O=k(9105);const fe=(()=>{function ie(re){return Error.call(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((F,$)=>`${$+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re,this}return ie.prototype=Object.create(Error.prototype),ie})();class J{constructor(re){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,re&&(this._ctorUnsubscribe=!0,this._unsubscribe=re)}unsubscribe(){let re;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:$,_unsubscribe:V,_subscriptions:ne}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof J)F.remove(this);else if(null!==F)for(let Re=0;Re<F.length;++Re)F[Re].remove(this);if((0,O.m)(V)){$&&(this._unsubscribe=void 0);try{V.call(this)}catch(Re){re=Re instanceof fe?ue(Re.errors):[Re]}}if((0,u.k)(ne)){let Re=-1,$e=ne.length;for(;++Re<$e;){const xe=ne[Re];if((0,j.K)(xe))try{xe.unsubscribe()}catch(Ee){re=re||[],Ee instanceof fe?re=re.concat(ue(Ee.errors)):re.push(Ee)}}}if(re)throw new fe(re)}add(re){let F=re;if(!re)return J.EMPTY;switch(typeof re){case"function":F=new J(re);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof J)){const ne=F;F=new J,F._subscriptions=[ne]}break;default:throw new Error("unrecognized teardown "+re+" added to Subscription.")}let{_parentOrParents:$}=F;if(null===$)F._parentOrParents=this;else if($ instanceof J){if($===this)return F;F._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return F;$.push(this)}const V=this._subscriptions;return null===V?this._subscriptions=[F]:V.push(F),F}remove(re){const F=this._subscriptions;if(F){const $=F.indexOf(re);-1!==$&&F.splice($,1)}}}var ie;function ue(ie){return ie.reduce((re,F)=>re.concat(F instanceof fe?F.errors:F),[])}J.EMPTY=((ie=new J).closed=!0,ie)},2494:(dt,Pe,k)=>{"use strict";k.d(Pe,{v:()=>j});let u=!1;const j={Promise:void 0,set useDeprecatedSynchronousErrorHandling(O){if(O){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=O},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(dt,Pe,k)=>{"use strict";k.d(Pe,{IY:()=>le,Ds:()=>J,ft:()=>ie});var u=k(7393),j=k(7574),O=k(7444);class le extends u.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends u.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function ie(re,F){if(F.closed)return;if(re instanceof j.y)return re.subscribe(F);let $;try{$=(0,O.s)(re)(F)}catch(V){F.error(V)}return $}},2441:(dt,Pe,k)=>{"use strict";k.d(Pe,{c:()=>fe,N:()=>J});var u=k(9765),j=k(7574),O=k(5319),le=k(1307);class fe extends j.y{constructor($,V){super(),this.source=$,this.subjectFactory=V,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new O.w,$.add(this.source.subscribe(new ue(this.getSubject(),this))),$.closed&&(this._connection=null,$=O.w.EMPTY)),$}refCount(){return(0,le.x)()(this)}}const J=(()=>{const F=fe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class ue extends u.Yc{constructor($,V){super($),this.connectable=V}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const V=$._connection;$._refCount=0,$._subject=null,$._connection=null,V&&V.unsubscribe()}}}},9193:(dt,Pe,k)=>{"use strict";k.d(Pe,{E:()=>j,c:()=>O});var u=k(7574);const j=new u.y(fe=>fe.complete());function O(fe){return fe?function(fe){return new u.y(J=>fe.schedule(()=>J.complete()))}(fe):j}},4402:(dt,Pe,k)=>{"use strict";k.d(Pe,{D:()=>$e});var u=k(7574),j=k(7444),O=k(5319),le=k(6554),ue=k(4087),ie=k(377),$=k(4072),V=k(9489);function $e(xe,Ee){return Ee?function(xe,Ee){if(null!=xe){if(function(xe){return xe&&"function"==typeof xe[le.L]}(xe))return function(xe,Ee){return new u.y(se=>{const _e=new O.w;return _e.add(Ee.schedule(()=>{const pe=xe[le.L]();_e.add(pe.subscribe({next(Fe){_e.add(Ee.schedule(()=>se.next(Fe)))},error(Fe){_e.add(Ee.schedule(()=>se.error(Fe)))},complete(){_e.add(Ee.schedule(()=>se.complete()))}}))})),_e})}(xe,Ee);if((0,$.t)(xe))return function(xe,Ee){return new u.y(se=>{const _e=new O.w;return _e.add(Ee.schedule(()=>xe.then(pe=>{_e.add(Ee.schedule(()=>{se.next(pe),_e.add(Ee.schedule(()=>se.complete()))}))},pe=>{_e.add(Ee.schedule(()=>se.error(pe)))}))),_e})}(xe,Ee);if((0,V.z)(xe))return(0,ue.r)(xe,Ee);if(function(xe){return xe&&"function"==typeof xe[ie.hZ]}(xe)||"string"==typeof xe)return function(xe,Ee){if(!xe)throw new Error("Iterable cannot be null");return new u.y(se=>{const _e=new O.w;let pe;return _e.add(()=>{pe&&"function"==typeof pe.return&&pe.return()}),_e.add(Ee.schedule(()=>{pe=xe[ie.hZ](),_e.add(Ee.schedule(function(){if(se.closed)return;let Fe,ot;try{const At=pe.next();Fe=At.value,ot=At.done}catch(At){return void se.error(At)}ot?se.complete():(se.next(Fe),this.schedule())}))})),_e})}(xe,Ee)}throw new TypeError((null!==xe&&typeof xe||xe)+" is not observable")}(xe,Ee):xe instanceof u.y?xe:new u.y((0,j.s)(xe))}},6693:(dt,Pe,k)=>{"use strict";k.d(Pe,{n:()=>le});var u=k(7574),j=k(5015),O=k(4087);function le(fe,J){return J?(0,O.r)(fe,J):new u.y((0,j.V)(fe))}},6682:(dt,Pe,k)=>{"use strict";k.d(Pe,{T:()=>fe});var u=k(7574),j=k(4869),O=k(3282),le=k(6693);function fe(...J){let ue=Number.POSITIVE_INFINITY,ie=null,re=J[J.length-1];return(0,j.K)(re)?(ie=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(ue=J.pop())):"number"==typeof re&&(ue=J.pop()),null===ie&&1===J.length&&J[0]instanceof u.y?J[0]:(0,O.J)(ue)((0,le.n)(J,ie))}},5917:(dt,Pe,k)=>{"use strict";k.d(Pe,{of:()=>le});var u=k(4869),j=k(6693),O=k(4087);function le(...fe){let J=fe[fe.length-1];return(0,u.K)(J)?(fe.pop(),(0,O.r)(fe,J)):(0,j.n)(fe)}},205:(dt,Pe,k)=>{"use strict";k.d(Pe,{_:()=>j});var u=k(7574);function j(le,fe){return new u.y(fe?J=>fe.schedule(O,0,{error:le,subscriber:J}):J=>J.error(le))}function O({error:le,subscriber:fe}){fe.error(le)}},8002:(dt,Pe,k)=>{"use strict";k.d(Pe,{U:()=>j});var u=k(7393);function j(fe,J){return function(ie){if("function"!=typeof fe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ie.lift(new O(fe,J))}}class O{constructor(J,ue){this.project=J,this.thisArg=ue}call(J,ue){return ue.subscribe(new le(J,this.project,this.thisArg))}}class le extends u.L{constructor(J,ue,ie){super(J),this.project=ue,this.count=0,this.thisArg=ie||this}_next(J){let ue;try{ue=this.project.call(this.thisArg,J,this.count++)}catch(ie){return void this.destination.error(ie)}this.destination.next(ue)}}},3282:(dt,Pe,k)=>{"use strict";k.d(Pe,{J:()=>O});var u=k(9773),j=k(4487);function O(le=Number.POSITIVE_INFINITY){return(0,u.zg)(j.y,le)}},9773:(dt,Pe,k)=>{"use strict";k.d(Pe,{zg:()=>le});var u=k(8002),j=k(4402),O=k(5345);function le(ie,re,F=Number.POSITIVE_INFINITY){return"function"==typeof re?$=>$.pipe(le((V,ne)=>(0,j.D)(ie(V,ne)).pipe((0,u.U)((Re,$e)=>re(V,Re,ne,$e))),F)):("number"==typeof re&&(F=re),$=>$.lift(new fe(ie,F)))}class fe{constructor(re,F=Number.POSITIVE_INFINITY){this.project=re,this.concurrent=F}call(re,F){return F.subscribe(new J(re,this.project,this.concurrent))}}class J extends O.Ds{constructor(re,F,$=Number.POSITIVE_INFINITY){super(re),this.project=F,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(re){this.active<this.concurrent?this._tryNext(re):this.buffer.push(re)}_tryNext(re){let F;const $=this.index++;try{F=this.project(re,$)}catch(V){return void this.destination.error(V)}this.active++,this._innerSub(F)}_innerSub(re){const F=new O.IY(this),$=this.destination;$.add(F);const V=(0,O.ft)(re,F);V!==F&&$.add(V)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(re){this.destination.next(re)}notifyComplete(){const re=this.buffer;this.active--,re.length>0?this._next(re.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(dt,Pe,k)=>{"use strict";k.d(Pe,{ht:()=>re,QV:()=>ue});var u=k(7393),j=k(9193),O=k(5917),le=k(205);class J{constructor(V,ne,Re){this.kind=V,this.value=ne,this.error=Re,this.hasValue="N"===V}observe(V){switch(this.kind){case"N":return V.next&&V.next(this.value);case"E":return V.error&&V.error(this.error);case"C":return V.complete&&V.complete()}}do(V,ne,Re){switch(this.kind){case"N":return V&&V(this.value);case"E":return ne&&ne(this.error);case"C":return Re&&Re()}}accept(V,ne,Re){return V&&"function"==typeof V.next?this.observe(V):this.do(V,ne,Re)}toObservable(){switch(this.kind){case"N":return(0,O.of)(this.value);case"E":return(0,le._)(this.error);case"C":return(0,j.c)()}throw new Error("unexpected notification kind value")}static createNext(V){return void 0!==V?new J("N",V):J.undefinedValueNotification}static createError(V){return new J("E",void 0,V)}static createComplete(){return J.completeNotification}}function ue($,V=0){return function(Re){return Re.lift(new ie($,V))}}J.completeNotification=new J("C"),J.undefinedValueNotification=new J("N",void 0);class ie{constructor(V,ne=0){this.scheduler=V,this.delay=ne}call(V,ne){return ne.subscribe(new re(V,this.scheduler,this.delay))}}class re extends u.L{constructor(V,ne,Re=0){super(V),this.scheduler=ne,this.delay=Re}static dispatch(V){const{notification:ne,destination:Re}=V;ne.observe(Re),this.unsubscribe()}scheduleMessage(V){this.destination.add(this.scheduler.schedule(re.dispatch,this.delay,new F(V,this.destination)))}_next(V){this.scheduleMessage(J.createNext(V))}_error(V){this.scheduleMessage(J.createError(V)),this.unsubscribe()}_complete(){this.scheduleMessage(J.createComplete()),this.unsubscribe()}}class F{constructor(V,ne){this.notification=V,this.destination=ne}}},1307:(dt,Pe,k)=>{"use strict";k.d(Pe,{x:()=>j});var u=k(7393);function j(){return function(J){return J.lift(new O(J))}}class O{constructor(J){this.connectable=J}call(J,ue){const{connectable:ie}=this;ie._refCount++;const re=new le(J,ie),F=ue.subscribe(re);return re.closed||(re.connection=ie.connect()),F}}class le extends u.L{constructor(J,ue){super(J),this.connectable=ue}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const ue=J._refCount;if(ue<=0)return void(this.connection=null);if(J._refCount=ue-1,ue>1)return void(this.connection=null);const{connection:ie}=this,re=J._connection;this.connection=null,re&&(!ie||re===ie)&&re.unsubscribe()}}},8819:(dt,Pe,k)=>{"use strict";k.d(Pe,{B:()=>ue});var u=k(2441);var le=k(1307),fe=k(9765);function J(){return new fe.xQ}function ue(){return ie=>(0,le.x)()(function(ie,re){return function($){let V;V="function"==typeof ie?ie:function(){return ie};const ne=Object.create($,u.N);return ne.source=$,ne.subjectFactory=V,ne}}(J)(ie))}},3101:(dt,Pe,k)=>{"use strict";k.d(Pe,{R:()=>Ee});var u=k(7574);let j=1;const O=Promise.resolve(),le={};function fe(_e){return _e in le&&(delete le[_e],!0)}const J={setImmediate(_e){const pe=j++;return le[pe]=!0,O.then(()=>fe(pe)&&_e()),pe},clearImmediate(_e){fe(_e)}};var ie=k(6465),F=k(6102);const ne=new class extends F.v{flush(pe){this.active=!0,this.scheduled=void 0;const{actions:Fe}=this;let ot,At=-1,zt=Fe.length;pe=pe||Fe.shift();do{if(ot=pe.execute(pe.state,pe.delay))break}while(++At<zt&&(pe=Fe.shift()));if(this.active=!1,ot){for(;++At<zt&&(pe=Fe.shift());)pe.unsubscribe();throw ot}}}(class extends ie.o{constructor(pe,Fe){super(pe,Fe),this.scheduler=pe,this.work=Fe}requestAsyncId(pe,Fe,ot=0){return null!==ot&&ot>0?super.requestAsyncId(pe,Fe,ot):(pe.actions.push(this),pe.scheduled||(pe.scheduled=J.setImmediate(pe.flush.bind(pe,null))))}recycleAsyncId(pe,Fe,ot=0){if(null!==ot&&ot>0||null===ot&&this.delay>0)return super.recycleAsyncId(pe,Fe,ot);0===pe.actions.length&&(J.clearImmediate(Fe),pe.scheduled=void 0)}});var Re=k(9796);class xe extends u.y{constructor(pe,Fe=0,ot=ne){var _e;super(),this.source=pe,this.delayTime=Fe,this.scheduler=ot,(!(!(0,Re.k)(_e=Fe)&&_e-parseFloat(_e)+1>=0)||Fe<0)&&(this.delayTime=0),(!ot||"function"!=typeof ot.schedule)&&(this.scheduler=ne)}static create(pe,Fe=0,ot=ne){return new xe(pe,Fe,ot)}static dispatch(pe){const{source:Fe,subscriber:ot}=pe;return this.add(Fe.subscribe(ot))}_subscribe(pe){return this.scheduler.schedule(xe.dispatch,this.delayTime,{source:this.source,subscriber:pe})}}function Ee(_e,pe=0){return function(ot){return ot.lift(new se(_e,pe))}}class se{constructor(pe,Fe){this.scheduler=pe,this.delay=Fe}call(pe,Fe){return new xe(Fe,this.delay,this.scheduler).subscribe(pe)}}},3342:(dt,Pe,k)=>{"use strict";k.d(Pe,{b:()=>le});var u=k(7393);function j(){}var O=k(9105);function le(ue,ie,re){return function($){return $.lift(new fe(ue,ie,re))}}class fe{constructor(ie,re,F){this.nextOrObserver=ie,this.error=re,this.complete=F}call(ie,re){return re.subscribe(new J(ie,this.nextOrObserver,this.error,this.complete))}}class J extends u.L{constructor(ie,re,F,$){super(ie),this._tapNext=j,this._tapError=j,this._tapComplete=j,this._tapError=F||j,this._tapComplete=$||j,(0,O.m)(re)?(this._context=this,this._tapNext=re):re&&(this._context=re,this._tapNext=re.next||j,this._tapError=re.error||j,this._tapComplete=re.complete||j)}_next(ie){try{this._tapNext.call(this._context,ie)}catch(re){return void this.destination.error(re)}this.destination.next(ie)}_error(ie){try{this._tapError.call(this._context,ie)}catch(re){return void this.destination.error(re)}this.destination.error(ie)}_complete(){try{this._tapComplete.call(this._context)}catch(ie){return void this.destination.error(ie)}return this.destination.complete()}}},4087:(dt,Pe,k)=>{"use strict";k.d(Pe,{r:()=>O});var u=k(7574),j=k(5319);function O(le,fe){return new u.y(J=>{const ue=new j.w;let ie=0;return ue.add(fe.schedule(function(){ie!==le.length?(J.next(le[ie++]),J.closed||ue.add(this.schedule())):J.complete()})),ue})}},6465:(dt,Pe,k)=>{"use strict";k.d(Pe,{o:()=>O});var u=k(5319);class j extends u.w{constructor(fe,J){super()}schedule(fe,J=0){return this}}class O extends j{constructor(fe,J){super(fe,J),this.scheduler=fe,this.work=J,this.pending=!1}schedule(fe,J=0){if(this.closed)return this;this.state=fe;const ue=this.id,ie=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(ie,ue,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(ie,this.id,J),this}requestAsyncId(fe,J,ue=0){return setInterval(fe.flush.bind(fe,this),ue)}recycleAsyncId(fe,J,ue=0){if(null!==ue&&this.delay===ue&&!1===this.pending)return J;clearInterval(J)}execute(fe,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(fe,J);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,J){let ie,ue=!1;try{this.work(fe)}catch(re){ue=!0,ie=!!re&&re||new Error(re)}if(ue)return this.unsubscribe(),ie}_unsubscribe(){const fe=this.id,J=this.scheduler,ue=J.actions,ie=ue.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ie&&ue.splice(ie,1),null!=fe&&(this.id=this.recycleAsyncId(J,fe,null)),this.delay=null}}},6102:(dt,Pe,k)=>{"use strict";k.d(Pe,{v:()=>j});let u=(()=>{class O{constructor(fe,J=O.now){this.SchedulerAction=fe,this.now=J}schedule(fe,J=0,ue){return new this.SchedulerAction(this,fe).schedule(ue,J)}}return O.now=()=>Date.now(),O})();class j extends u{constructor(le,fe=u.now){super(le,()=>j.delegate&&j.delegate!==this?j.delegate.now():fe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,fe=0,J){return j.delegate&&j.delegate!==this?j.delegate.schedule(le,fe,J):super.schedule(le,fe,J)}flush(le){const{actions:fe}=this;if(this.active)return void fe.push(le);let J;this.active=!0;do{if(J=le.execute(le.state,le.delay))break}while(le=fe.shift());if(this.active=!1,J){for(;le=fe.shift();)le.unsubscribe();throw J}}}},3637:(dt,Pe,k)=>{"use strict";k.d(Pe,{z:()=>O,P:()=>le});var u=k(6465);const O=new(k(6102).v)(u.o),le=O},7771:(dt,Pe,k)=>{"use strict";k.d(Pe,{c:()=>J,N:()=>fe});var u=k(6465),O=k(6102);const fe=new class extends O.v{}(class extends u.o{constructor(ie,re){super(ie,re),this.scheduler=ie,this.work=re}schedule(ie,re=0){return re>0?super.schedule(ie,re):(this.delay=re,this.state=ie,this.scheduler.flush(this),this)}execute(ie,re){return re>0||this.closed?super.execute(ie,re):this._execute(ie,re)}requestAsyncId(ie,re,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(ie,re,F):ie.flush(this)}}),J=fe},377:(dt,Pe,k)=>{"use strict";k.d(Pe,{hZ:()=>j});const j="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(dt,Pe,k)=>{"use strict";k.d(Pe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(dt,Pe,k)=>{"use strict";k.d(Pe,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(dt,Pe,k)=>{"use strict";k.d(Pe,{N:()=>j});const j=(()=>{function O(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return O.prototype=Object.create(Error.prototype),O})()},4449:(dt,Pe,k)=>{"use strict";function u(j){setTimeout(()=>{throw j},0)}k.d(Pe,{z:()=>u})},4487:(dt,Pe,k)=>{"use strict";function u(j){return j}k.d(Pe,{y:()=>u})},9796:(dt,Pe,k)=>{"use strict";k.d(Pe,{k:()=>u});const u=Array.isArray||(j=>j&&"number"==typeof j.length)},9489:(dt,Pe,k)=>{"use strict";k.d(Pe,{z:()=>u});const u=j=>j&&"number"==typeof j.length&&"function"!=typeof j},9105:(dt,Pe,k)=>{"use strict";function u(j){return"function"==typeof j}k.d(Pe,{m:()=>u})},1555:(dt,Pe,k)=>{"use strict";function u(j){return null!==j&&"object"==typeof j}k.d(Pe,{K:()=>u})},4072:(dt,Pe,k)=>{"use strict";function u(j){return!!j&&"function"!=typeof j.subscribe&&"function"==typeof j.then}k.d(Pe,{t:()=>u})},4869:(dt,Pe,k)=>{"use strict";function u(j){return j&&"function"==typeof j.schedule}k.d(Pe,{K:()=>u})},7444:(dt,Pe,k)=>{"use strict";k.d(Pe,{s:()=>$});var u=k(5015),j=k(4449),le=k(377),J=k(6554),ie=k(9489),re=k(4072),F=k(1555);const $=V=>{if(V&&"function"==typeof V[J.L])return(V=>ne=>{const Re=V[J.L]();if("function"!=typeof Re.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Re.subscribe(ne)})(V);if((0,ie.z)(V))return(0,u.V)(V);if((0,re.t)(V))return(V=>ne=>(V.then(Re=>{ne.closed||(ne.next(Re),ne.complete())},Re=>ne.error(Re)).then(null,j.z),ne))(V);if(V&&"function"==typeof V[le.hZ])return(V=>ne=>{const Re=V[le.hZ]();for(;;){let $e;try{$e=Re.next()}catch(xe){return ne.error(xe),ne}if($e.done){ne.complete();break}if(ne.next($e.value),ne.closed)break}return"function"==typeof Re.return&&ne.add(()=>{Re.return&&Re.return()}),ne})(V);{const Re=`You provided ${(0,F.K)(V)?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Re)}}},5015:(dt,Pe,k)=>{"use strict";k.d(Pe,{V:()=>u});const u=j=>O=>{for(let le=0,fe=j.length;le<fe&&!O.closed;le++)O.next(j[le]);O.complete()}},625:(dt,Pe,k)=>{"use strict";var u=k(7716);let j=null;function O(){return j}const ue=new u.OlP("DocumentToken");let ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:re,token:n,providedIn:"platform"}),n})();function re(){return(0,u.LFG)($)}const F=new u.OlP("Location Initialized");let $=(()=>{class n extends ie{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){V()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){V()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=(0,u.Yz7)({factory:ne,token:n,providedIn:"platform"}),n})();function V(){return!!window.history.pushState}function ne(){return new $((0,u.LFG)(ue))}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function $e(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function xe(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:se,token:n,providedIn:"root"}),n})();function se(n){const e=(0,u.LFG)(ue).location;return new pe((0,u.LFG)(ie),e&&e.origin||"")}const _e=new u.OlP("appBaseHref");let pe=(()=>{class n extends Ee{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+xe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const h=this.prepareExternalUrl(o+xe(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){const h=this.prepareExternalUrl(o+xe(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(_e,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let h=this.prepareExternalUrl(o+xe(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,l){let h=this.prepareExternalUrl(o+xe(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(_e,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ot=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=$e(ye(o)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+xe(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ye(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xe(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xe(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee),u.LFG(ie))},n.normalizeQueryParams=xe,n.joinWithSlash=Re,n.stripTrailingSlash=$e,n.\u0275prov=(0,u.Yz7)({factory:At,token:n,providedIn:"root"}),n})();function At(){return new ot((0,u.LFG)(Ee),(0,u.LFG)(ie))}function ye(n){return n.replace(/\/index.html$/,"")}var we=(()=>((we=we||{})[we.Zero=0]="Zero",we[we.One=1]="One",we[we.Two=2]="Two",we[we.Few=3]="Few",we[we.Many=4]="Many",we[we.Other=5]="Other",we))();const ir=u.kL8;class Vn{}let ys=(()=>{class n extends Vn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(ir(r||this.locale)(t)){case we.Zero:return"zero";case we.One:return"one";case we.Two:return"two";case we.Few:return"few";case we.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();let es=(()=>{class n{constructor(t,r,o,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class li{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gn=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,l,h)=>{if(null==o.previousIndex){const p=this._viewContainer.createEmbeddedView(this._template,new li(null,this._ngForOf,-1,-1),null===h?void 0:h),v=new Il(o,p);r.push(v)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const p=this._viewContainer.get(l);this._viewContainer.move(p,h);const v=new Il(o,p);r.push(v)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,l=this._viewContainer.length;o<l;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=l,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Il{constructor(e,t){this.record=e,this.view=t}}let ci=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Dc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ts("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ts("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Dc{constructor(){this.$implicit=null,this.ngIf=null}}function ts(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class jo{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let jr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ar=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new jo(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(jr,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Ks=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[o,l]=t.split(".");null!=(r=null!=r&&l?`${r}${l}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,o,r):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),ui=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Vn,useClass:ys}]}),n})();function di(n){return"server"===n}let Ys=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Pc((0,u.LFG)(ue),window)}),n})();class Pc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Pa(this.window.history)||Pa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Pa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new xl,j||(j=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Cs=Cs||document.querySelector("base"),Cs?Cs.getAttribute("href"):null);return null==t?null:function(n){Pn=Pn||document.createElement("a"),Pn.setAttribute("href",n);const e=Pn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Cs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Pn,Cs=null;const P=new u.OlP("TRANSITION_ID"),X=[{provide:u.ip1,useFactory:function(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=O(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<o.length;l++)r.remove(o[l])})}},deps:[P,ue,u.zs3],multi:!0}];class Ie{static init(){(0,u.VLi)(new Ie)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new Error("Could not find testability for element.");return l},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let l=o.length,h=!1;const p=function(v){h=h||v,l--,0==l&&r(h)};o.forEach(function(v){v.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ge=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ol=new u.OlP("EventManagerPlugins");let Ue=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let l=0;l<o.length;l++){const h=o[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ol),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class hn{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=O().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Nc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Yn=(()=>{class n extends Nc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Fc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Fc))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Fc(n){O().remove(n)}const La={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},os=/%COMP%/g;function Rr(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Rr(n,o,t):(o=o.replace(os,n),t.push(o))}return t}function Hi(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ts=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ss(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Yy(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new Lc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Rr(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ue),u.LFG(Yn),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ss{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(La[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=La[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=La[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Hi(r)):this.eventManager.addEventListener(e,t,Hi(r))}}class Yy extends Ss{constructor(e,t,r,o){super(e),this.component=r;const l=Rr(o+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(os,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(os,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Lc extends Ss{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Rr(o.id,o.styles,[]);for(let h=0;h<l.length;h++){const p=document.createElement("style");p.textContent=l[h],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yf=(()=>{class n extends hn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Vc=["alt","control","meta","shift"],Dw={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ev={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bf=(()=>{class n extends hn{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let h="";if(Vc.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),h+=v+".")}),h+=l,0!=r.length||0===l.length)return null;const p={};return p.domEventName=o,p.fullKey=h,p}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&hi.hasOwnProperty(e)&&(e=hi[e]))}return Dw[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Vc.forEach(l=>{l!=o&&ev[l](t)&&(r+=l+".")}),r+=o,r}static eventCallback(t,r,o){return l=>{n.getEventFullKey(l)===t&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Go=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,u.Yz7)({factory:function(){return(0,u.LFG)(Ll)},token:n,providedIn:"root"}),n})(),Ll=(()=>{class n extends Go{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=(0,u.Yz7)({factory:function(){return function(n){return new Ll(n.get(ue))}((0,u.LFG)(u.gxx))},token:n,providedIn:"root"}),n})();const Uc=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){xl.makeCurrent(),Ie.init()},multi:!0},{provide:ue,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),Cf=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:Ol,useClass:yf,multi:!0,deps:[ue,u.R0b,u.Lbi]},{provide:Ol,useClass:bf,multi:!0,deps:[ue]},[],{provide:Ts,useClass:Ts,deps:[Ue,Yn,u.AFp]},{provide:u.FYo,useExisting:Ts},{provide:Nc,useExisting:Yn},{provide:Yn,useClass:Yn,deps:[ue]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ue,useClass:Ue,deps:[Ol,u.R0b]},{provide:class{},useClass:Ge,deps:[]},[]];let em=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:P,useExisting:u.AFp},X]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Cf,imports:[ui,u.hGG]}),n})();function ad(){return new If((0,u.LFG)(ue))}let If=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue))},n.\u0275prov=(0,u.Yz7)({factory:ad,token:n,providedIn:"root"}),n})();"undefined"!=typeof window&&window;class Vl{}const Si="*";function Tf(n,e){return{type:7,name:n,definitions:e,options:{}}}function $a(n,e=null){return{type:4,styles:e,timings:n}}function Sf(n,e=null){return{type:3,steps:n,options:e}}function Df(n,e=null){return{type:2,steps:n,options:e}}function Ds(n){return{type:6,styles:n,offset:null}}function Af(n,e,t){return{type:0,name:n,styles:e,options:t}}function wo(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function jc(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function pd(n){Promise.resolve(null).then(n)}class Wo{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class gd{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const l=this.players.length;0==l?pd(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++o==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,p)=>Math.max(h,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Ha(){return"undefined"!=typeof window&&void 0!==window.document}function Zo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function as(n){switch(n.length){case 0:return new Wo;case 1:return n[0];default:return new gd(n)}}function Bl(n,e,t,r,o={},l={}){const h=[],p=[];let v=-1,C=null;if(r.forEach(T=>{const D=T.offset,U=D==v,B=U&&C||{};Object.keys(T).forEach(Y=>{let Te=Y,Oe=T[Y];if("offset"!==Y)switch(Te=e.normalizePropertyName(Te,h),Oe){case"!":Oe=o[Y];break;case Si:Oe=l[Y];break;default:Oe=e.normalizeStyleValue(Y,Te,Oe,h)}B[Te]=Oe}),U||p.push(B),C=B,v=D}),h.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${h.join(T)}`)}return p}function Co(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&im(t,"start",n)));break;case"done":n.onDone(()=>r(t&&im(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&im(t,"destroy",n)))}}function im(n,e,t){const r=t.totalTime,l=sm(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function sm(n,e,t,r,o="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:l,disabled:!!h}}function Gi(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function av(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let md=(n,e)=>!1,xf=(n,e)=>!1,Rf=(n,e,t)=>[];const kf=Zo();(kf||"undefined"!=typeof Element)&&(md=Ha()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),xf=(()=>{if(kf||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):xf}})(),Rf=(n,e,t)=>{let r=[];if(t){const o=n.querySelectorAll(e);for(let l=0;l<o.length;l++)r.push(o[l])}else{const o=n.querySelector(e);o&&r.push(o)}return r});let Ko=null,cv=!1;function _d(n){Ko||(Ko=("undefined"!=typeof document?document.body:null)||{},cv=!!Ko.style&&"WebkitAppearance"in Ko.style);let e=!0;return Ko.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ko.style,!e&&cv&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ko.style)),e}const yd=xf,Ga=md,vd=Rf;function br(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let Ms=(()=>{class n{validateStyleProperty(t){return _d(t)}matchesElement(t,r){return yd(t,r)}containsElement(t,r){return Ga(t,r)}query(t,r,o){return vd(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,l,h,p=[],v){return new Wo(o,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Yo=(()=>{class n{}return n.NOOP=new Ms,n})();const Di="ng-enter",Qo="ng-leave",za="ng-trigger",bd=".ng-trigger",Ed="ng-animating",am=".ng-animating";function Jo(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$l(parseFloat(e[1]),e[2])}function $l(n,e){switch(e){case"s":return 1e3*n;default:return n}}function ri(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let o,l=0,h="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=$l(parseFloat(p[1]),p[2]);const v=p[3];null!=v&&(l=$l(parseFloat(v),p[4]));const C=p[5];C&&(h=C)}else o=n;if(!t){let p=!1,v=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),p=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),p=!0),p&&e.splice(v,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:l,easing:h}}(n,e,t)}function xs(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Rs(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else xs(n,t);return t}function wd(n,e,t){return t?e+":"+t+";":""}function Cd(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=wd(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=wd(0,dv(t),n.style[t]));n.setAttribute("style",e)}function Qs(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=ta(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),Zo()&&Cd(n))}function Xo(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=ta(t);n.style[r]=""}),Zo()&&Cd(n))}function Gl(n){return Array.isArray(n)?1==n.length?n[0]:Df(n):n}const Hc=new RegExp("{{\\s*(.+?)\\s*}}","g");function Wa(n){let e=[];if("string"==typeof n){let t;for(;t=Hc.exec(n);)e.push(t[1]);Hc.lastIndex=0}return e}function Pf(n,e,t){const r=n.toString(),o=r.replace(Hc,(l,h)=>{let p=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),p=""),p.toString()});return o==r?n:o}function ea(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Gc=/-+([a-z0-9])/g;function ta(n){return n.replace(Gc,(...e)=>e[1].toUpperCase())}function dv(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Id(n,e){return 0===n||0===e}function lm(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],h=[];if(r.forEach(p=>{l.hasOwnProperty(p)||h.push(p),l[p]=t[p]}),h.length)for(var o=1;o<e.length;o++){let p=e[o];h.forEach(function(v){p[v]=Td(n,v)})}}return e}function $r(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Td(n,e){return window.getComputedStyle(n)[e]}function ql(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const v=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const o=r[1],l=r[2],h=r[3];e.push(Nf(o,h));"<"==l[0]&&!("*"==o&&"*"==h)&&e.push(Nf(h,o))}(r,t,e)):t.push(n),t}const Hn=new Set(["true","1"]),zl=new Set(["false","0"]);function Nf(n,e){const t=Hn.has(n)||zl.has(n),r=Hn.has(e)||zl.has(e);return(o,l)=>{let h="*"==n||n==o,p="*"==e||e==l;return!h&&t&&"boolean"==typeof o&&(h=o?Hn.has(n):zl.has(n)),!p&&r&&"boolean"==typeof l&&(p=l?Hn.has(e):zl.has(e)),h&&p}}const Wl=new RegExp("s*:selfs*,?","g");function qc(n,e,t){return new cm(n).build(e,t)}class cm{constructor(e){this._driver=e}build(e,t){const r=new Io(t);return this._resetContextStyleTimingState(r),$r(this,Gl(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const v=p,C=v.name;C.toString().split(/\s*,\s*/).forEach(T=>{v.name=T,l.push(this.visitState(v,t))}),v.name=C}else if(1==p.type){const v=this.visitTransition(p,t);r+=v.queryCount,o+=v.depCount,h.push(v)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=o||{};if(r.styles.forEach(p=>{if(cs(p)){const v=p;Object.keys(v).forEach(C=>{Wa(v[C]).forEach(T=>{h.hasOwnProperty(T)||l.add(T)})})}}),l.size){const p=ea(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${p.join(", ")}`)}}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=$r(this,Gl(e.animation),t);return{type:1,matchers:ql(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ks(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>$r(this,r,t)),options:ks(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const l=e.steps.map(h=>{t.currentTime=r;const p=$r(this,h,t);return o=Math.max(o,t.currentTime),p});return t.currentTime=o,{type:3,steps:l,options:ks(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return zc(ri(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=zc(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||ri(r,e),zc(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,l=e.styles?e.styles:Ds({});if(5==l.type)o=this.visitKeyframes(l,t);else{let h=e.styles,p=!1;if(!h){p=!0;const C={};r.easing&&(C.easing=r.easing),h=Ds(C)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(h,t);v.isEmptyStep=p,o=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==Si?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let o=!1,l=null;return r.forEach(h=>{if(cs(h)){const p=h,v=p.easing;if(v&&(l=v,delete p.easing),!o)for(let C in p)if(p[C].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(p=>{if(!this._driver.validateStyleProperty(p))return void t.errors.push(`The provided animation property "${p}" is not a supported CSS property for animations`);const v=t.collectedStyles[t.currentQuerySelector],C=v[p];let T=!0;C&&(l!=o&&l>=C.startTime&&o<=C.endTime&&(t.errors.push(`The CSS property "${p}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${o}ms"`),T=!1),l=C.startTime),T&&(v[p]={startTime:l,endTime:o}),t.options&&function(n,e,t){const r=e.params||{},o=Wa(n);o.length&&o.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let p=!1,v=!1,C=0;const T=e.steps.map(et=>{const ct=this._makeStyleAst(et,t);let St=null!=ct.offset?ct.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(cs(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(cs(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ct.styles),at=0;return null!=St&&(l++,at=ct.offset=St),v=v||at<0||at>1,p=p||at<C,C=at,h.push(at),ct});v&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),p&&t.errors.push("Please ensure that all keyframe offsets are in order");const D=e.steps.length;let U=0;l>0&&l<D?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(U=1/(D-1));const B=D-1,Y=t.currentTime,Te=t.currentAnimateTimings,Oe=Te.duration;return T.forEach((et,ct)=>{const St=U>0?ct==B?1:U*ct:h[ct],at=St*Oe;t.currentTime=Y+Te.delay+at,Te.duration=at,this._validateStyleAst(et,t),et.offset=St,r.styles.push(et)}),r}visitReference(e,t){return{type:8,animation:$r(this,Gl(e.animation),t),options:ks(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ks(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ks(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Wl,"")),[n=n.replace(/@\*/g,bd).replace(/@\w+/g,t=>bd+"-"+t.substr(1)).replace(/:animating/g,am),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Gi(t.collectedStyles,t.currentQuerySelector,{});const p=$r(this,Gl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:p,originalSelector:e.selector,options:ks(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ri(e.timings,t.errors,!0);return{type:12,animation:$r(this,Gl(e.animation),t),timings:r,options:null}}}class Io{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function cs(n){return!Array.isArray(n)&&"object"==typeof n}function ks(n){return n?(n=xs(n)).params&&(n.params=function(n){return n?xs(n):null}(n.params)):n={},n}function zc(n,e,t){return{duration:n,delay:e,easing:t}}function Zl(n,e,t,r,o,l,h=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:l,totalTime:o+l,easing:h,subTimeline:p}}class Wc{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Kl=new RegExp(":enter","g"),mv=new RegExp(":leave","g");function Dd(n,e,t,r,o,l={},h={},p,v,C=[]){return(new um).buildKeyframes(n,e,t,r,o,l,h,p,v,C)}class um{buildKeyframes(e,t,r,o,l,h,p,v,C,T=[]){C=C||new Wc;const D=new dm(e,t,C,o,l,T,[]);D.options=v,D.currentTimeline.setStyles([h],null,D.errors,v),$r(this,r,D);const U=D.timelines.filter(B=>B.containsAnimation());if(U.length&&Object.keys(p).length){const B=U[U.length-1];B.allowOnlyTimelineStyles()||B.setStyles([p],null,D.errors,v)}return U.length?U.map(B=>B.buildKeyframes()):[Zl(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const o=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const h=null!=r.duration?Jo(r.duration):null,p=null!=r.delay?Jo(r.delay):null;return 0!==h&&e.forEach(v=>{const C=t.appendInstructionToTimeline(v,h,p);l=Math.max(l,C.duration+C.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),$r(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const l=e.options;if(l&&(l.params||l.delay)&&(o=t.createSubContext(l),o.transformIntoNewTimeline(),null!=l.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ad);const h=Jo(l.delay);o.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>$r(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Jo(e.options.delay):0;e.steps.forEach(h=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),$r(this,h,p),o=Math.max(o,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ri(t.params?Pf(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,l=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(v=>{p.forwardTime((v.offset||0)*l),p.setStyles(v.styles,v.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(o+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},l=o.delay?Jo(o.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ad);let h=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=p.length;let v=null;p.forEach((C,T)=>{t.currentQueryIndex=T;const D=t.createSubContext(e.options,C);l&&D.delayNextStep(l),C===t.element&&(v=D.currentTimeline),$r(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),p=h*(t.currentQueryTotal-1);let v=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":v=p-v;break;case"full":v=r.currentStaggerTime}const T=t.currentTimeline;v&&T.delayNextStep(v);const D=T.currentTime;$r(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-D+(o.startTime-r.currentTimeline.startTime)}}const Ad={};class dm{constructor(e,t,r,o,l,h,p,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=l,this.errors=h,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ad,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new Md(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=Jo(r.duration)),null!=r.delay&&(o.delay=Jo(r.delay));const l=r.params;if(l){let h=o.params;h||(h=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!h.hasOwnProperty(p))&&(h[p]=Pf(l[p],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,l=new dm(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Ad,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new _v(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(l),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,l,h){let p=[];if(o&&p.push(this.element),e.length>0){e=(e=e.replace(Kl,"."+this._enterClassName)).replace(mv,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),p.push(...C)}return!l&&0==p.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),p}}class Md{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Md(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Si,this._currentKeyframe[t]=Si}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const l=o&&o.params||{},h=function(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Si})):Rs(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(p=>{const v=Pf(h[p],l,r);this._pendingStyles[p]=v,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:Si),this._updateStyle(p,v)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((p,v)=>{const C=Rs(p,!0);Object.keys(C).forEach(T=>{const D=C[T];"!"==D?e.add(T):D==Si&&t.add(T)}),r||(C.offset=v/this.duration),o.push(C)});const l=e.size?ea(e.values()):[],h=t.size?ea(t.values()):[];if(r){const p=o[0],v=xs(p);p.offset=0,v.offset=1,o=[p,v]}return Zl(this.element,o,l,h,this.duration,this.startTime,this.easing,!1)}}class _v extends Md{constructor(e,t,r,o,l,h,p=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=r+t,p=t/h,v=Rs(e[0],!1);v.offset=0,l.push(v);const C=Rs(e[0],!1);C.offset=Lf(p),l.push(C);const T=e.length-1;for(let D=1;D<=T;D++){let U=Rs(e[D],!1);U.offset=Lf((t+U.offset*r)/h),l.push(U)}r=h,t=0,o="",e=l}return Zl(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function Lf(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class oa{}class Vf extends oa{normalizePropertyName(e,t){return ta(e)}normalizeStyleValue(e,t,r,o){let l="";const h=r.toString().trim();if(Yl[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&o.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+l}}const Yl=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Rd(n,e,t,r,o,l,h,p,v,C,T,D,U){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:l,toState:r,toStyles:h,timelines:p,queriedElements:v,preStyleProps:C,postStyleProps:T,totalTime:D,errors:U}}const kd={};class Kc{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function(n,e,t,r,o){return n.some(l=>l(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],l=this._stateStyles[e],h=o?o.buildStyles(t,r):{};return l?l.buildStyles(t,r):h}build(e,t,r,o,l,h,p,v,C,T){const D=[],U=this.ast.options&&this.ast.options.params||kd,Y=this.buildStyles(r,p&&p.params||kd,D),Te=v&&v.params||kd,Oe=this.buildStyles(o,Te,D),et=new Set,ct=new Map,St=new Map,at="void"===o,En={params:Object.assign(Object.assign({},U),Te)},qn=T?[]:Dd(e,t,this.ast.animation,l,h,Y,Oe,En,C,D);let Ir=0;if(qn.forEach(Uo=>{Ir=Math.max(Uo.duration+Uo.delay,Ir)}),D.length)return Rd(t,this._triggerName,r,o,at,Y,Oe,[],[],ct,St,Ir,D);qn.forEach(Uo=>{const Hu=Uo.element,IL=Gi(ct,Hu,{});Uo.preStyleProps.forEach(Gg=>IL[Gg]=!0);const Iw=Gi(St,Hu,{});Uo.postStyleProps.forEach(Gg=>Iw[Gg]=!0),Hu!==t&&et.add(Hu)});const Zs=ea(et.values());return Rd(t,this._triggerName,r,o,at,Y,Oe,qn,Zs,ct,St,Ir)}}class fm{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=xs(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(o[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(p=>{let v=h[p];v.length>1&&(v=Pf(v,o,t));const C=this.normalizer.normalizePropertyName(p,t);v=this.normalizer.normalizeStyleValue(p,C,v,t),r[C]=v})}}),r}}class yv{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new fm(o.style,o.options&&o.options.params||{},r)}),gm(this.states,"true","1"),gm(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new Kc(e,o,this.states))}),this.fallbackTransition=function(n,e,t){return new Kc(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(h=>h.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function gm(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const aa=new Wc;class b{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=qc(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,l=Bl(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],l=this._animations[e];let h;const p=new Map;if(l?(h=Dd(this._driver,t,l,Di,Qo,{},{},r,aa,o),h.forEach(T=>{const D=Gi(p,T.element,{});T.postStyleProps.forEach(U=>D[U]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),h=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);p.forEach((T,D)=>{Object.keys(T).forEach(U=>{T[U]=this._driver.computeStyle(D,U,Si)})});const C=as(h.map(T=>{const D=p.get(T.element);return this._buildPlayer(T,{},D)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,o){const l=sm(t,"","","");return Co(this._getPlayer(e),r,l,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const m="ng-animate-queued",w="ng-animate-disabled",M=".ng-animate-disabled",je=[],ht={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ot={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vt="__ng_removed";class Bn{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const l=xs(e);delete l.value,this.options=l}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const qi="void",Js=new Bn(qi);class la{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mi(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const l=Gi(this._elementListeners,e,[]),h={name:t,phase:r,callback:o};l.push(h);const p=Gi(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(Mi(e,za),Mi(e,za+"-"+t),p[t]=Js),()=>{this._engine.afterFlush(()=>{const v=l.indexOf(h);v>=0&&l.splice(v,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,o=!0){const l=this._getTrigger(t),h=new Ai(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Mi(e,za),Mi(e,za+"-"+t),this._engine.statesByElement.set(e,p={}));let v=p[t];const C=new Bn(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&C.absorbOptions(v.options),p[t]=C,v||(v=Js),C.value!==qi&&v.value===C.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const l=t[o];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(v.params,C.params)){const Te=[],Oe=l.matchStyles(v.value,v.params,Te),et=l.matchStyles(C.value,C.params,Te);Te.length?this._engine.reportError(Te):this._engine.afterFlush(()=>{Xo(e,Oe),Qs(e,et)})}return}const U=Gi(this._engine.playersByElement,e,[]);U.forEach(Te=>{Te.namespaceId==this.id&&Te.triggerName==t&&Te.queued&&Te.destroy()});let B=l.matchTransition(v.value,C.value,e,C.params),Y=!1;if(!B){if(!o)return;B=l.fallbackTransition,Y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:v,toState:C,player:h,isFallbackTransition:Y}),Y||(Mi(e,m),h.onStart(()=>{Gf(e,m)})),h.onDone(()=>{let Te=this.players.indexOf(h);Te>=0&&this.players.splice(Te,1);const Oe=this._engine.playersByElement.get(e);if(Oe){let et=Oe.indexOf(h);et>=0&&Oe.splice(et,1)}}),this.players.push(h),U.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,bd,!0);r.forEach(o=>{if(o[Vt])return;const l=this._engine.fetchNamespacesByElement(o);l.size?l.forEach(h=>h.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const l=this._engine.statesByElement.get(e);if(l){const h=[];if(Object.keys(l).forEach(p=>{if(this._triggers[p]){const v=this.trigger(e,p,qi,o);v&&h.push(v)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&as(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(l=>{const h=l.name;if(o.has(h))return;o.add(h);const v=this._triggers[h].fallbackTransition,C=r[h]||Js,T=new Bn(qi),D=new Ai(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:v,fromState:C,toState:T,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)o=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Vt];(!l||l===ht)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Mi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(p=>{if(p.name==r.triggerName){const v=sm(l,r.triggerName,r.fromState.value,r.toState.value);v._data=e,Co(r.player,p.phase,v,p.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const l=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Bf{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new la(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let l=0;l<o.length;l++){const h=r[o[l]].namespaceId;if(h){const p=this._fetchNamespace(h);p&&t.add(p)}}}return t}trigger(e,t,r,o){if(Ka(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!Ka(t))return;const l=t[Vt];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mi(e,w)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Gf(e,w))}removeNode(e,t,r,o){if(Ka(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o){this.collectedLeaveElements.push(t),t[Vt]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,o,l){return Ka(t)?this._fetchNamespace(e).listen(t,r,o,l):()=>{}}_buildInstruction(e,t,r,o,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,bd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,am,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return as(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Vt];if(t&&t.setForRemoval){if(e[Vt]=ht,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,M)&&this.markElementAsDisabled(e,!1),this.driver.query(e,M,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Mi(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?as(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Wc,o=[],l=new Map,h=[],p=new Map,v=new Map,C=new Map,T=new Set;this.disabledNodes.forEach(_t=>{T.add(_t);const Nt=this.driver.query(_t,".ng-animate-queued",!0);for(let rn=0;rn<Nt.length;rn++)T.add(Nt[rn])});const D=this.bodyNode,U=Array.from(this.statesByElement.keys()),B=_m(U,this.collectedEnterElements),Y=new Map;let Te=0;B.forEach((_t,Nt)=>{const rn=Di+Te++;Y.set(Nt,rn),_t.forEach(Mn=>Mi(Mn,rn))});const Oe=[],et=new Set,ct=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const Nt=this.collectedLeaveElements[_t],rn=Nt[Vt];rn&&rn.setForRemoval&&(Oe.push(Nt),et.add(Nt),rn.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(Mn=>et.add(Mn)):ct.add(Nt))}const St=new Map,at=_m(U,Array.from(et));at.forEach((_t,Nt)=>{const rn=Qo+Te++;St.set(Nt,rn),_t.forEach(Mn=>Mi(Mn,rn))}),e.push(()=>{B.forEach((_t,Nt)=>{const rn=Y.get(Nt);_t.forEach(Mn=>Gf(Mn,rn))}),at.forEach((_t,Nt)=>{const rn=St.get(Nt);_t.forEach(Mn=>Gf(Mn,rn))}),Oe.forEach(_t=>{this.processLeaveNode(_t)})});const En=[],qn=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(t).forEach(rn=>{const Mn=rn.player,ji=rn.element;if(En.push(Mn),this.collectedEnterElements.length){const Sc=ji[Vt];if(Sc&&Sc.setForMove)return void Mn.destroy()}const Tc=!D||!this.driver.containsElement(D,ji),Bo=St.get(ji),gf=Y.get(ji),Ur=this._buildInstruction(rn,r,gf,Bo,Tc);if(Ur.errors&&Ur.errors.length)qn.push(Ur);else{if(Tc)return Mn.onStart(()=>Xo(ji,Ur.fromStyles)),Mn.onDestroy(()=>Qs(ji,Ur.toStyles)),void o.push(Mn);if(rn.isFallbackTransition)return Mn.onStart(()=>Xo(ji,Ur.fromStyles)),Mn.onDestroy(()=>Qs(ji,Ur.toStyles)),void o.push(Mn);Ur.timelines.forEach(Sc=>Sc.stretchStartingKeyframe=!0),r.append(ji,Ur.timelines),h.push({instruction:Ur,player:Mn,element:ji}),Ur.queriedElements.forEach(Sc=>Gi(p,Sc,[]).push(Mn)),Ur.preStyleProps.forEach((Sc,Tw)=>{const QD=Object.keys(Sc);if(QD.length){let qg=v.get(Tw);qg||v.set(Tw,qg=new Set),QD.forEach(NO=>qg.add(NO))}}),Ur.postStyleProps.forEach((Sc,Tw)=>{const QD=Object.keys(Sc);let qg=C.get(Tw);qg||C.set(Tw,qg=new Set),QD.forEach(NO=>qg.add(NO))})}});if(qn.length){const _t=[];qn.forEach(Nt=>{_t.push(`@${Nt.triggerName} has failed due to:\n`),Nt.errors.forEach(rn=>_t.push(`- ${rn}\n`))}),En.forEach(Nt=>Nt.destroy()),this.reportError(_t)}const Ir=new Map,Zs=new Map;h.forEach(_t=>{const Nt=_t.element;r.has(Nt)&&(Zs.set(Nt,Nt),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,Ir))}),o.forEach(_t=>{const Nt=_t.element;this._getPreviousPlayers(Nt,!1,_t.namespaceId,_t.triggerName,null).forEach(Mn=>{Gi(Ir,Nt,[]).push(Mn),Mn.destroy()})});const Uo=Oe.filter(_t=>Vw(_t,v,C)),Hu=new Map;Hf(Hu,this.driver,ct,C,Si).forEach(_t=>{Vw(_t,v,C)&&Uo.push(_t)});const Iw=new Map;B.forEach((_t,Nt)=>{Hf(Iw,this.driver,new Set(_t),v,"!")}),Uo.forEach(_t=>{const Nt=Hu.get(_t),rn=Iw.get(_t);Hu.set(_t,Object.assign(Object.assign({},Nt),rn))});const Gg=[],TL=[],SL={};h.forEach(_t=>{const{element:Nt,player:rn,instruction:Mn}=_t;if(r.has(Nt)){if(T.has(Nt))return rn.onDestroy(()=>Qs(Nt,Mn.toStyles)),rn.disabled=!0,rn.overrideTotalTime(Mn.totalTime),void o.push(rn);let ji=SL;if(Zs.size>1){let Bo=Nt;const gf=[];for(;Bo=Bo.parentNode;){const Ur=Zs.get(Bo);if(Ur){ji=Ur;break}gf.push(Bo)}gf.forEach(Ur=>Zs.set(Ur,ji))}const Tc=this._buildAnimation(rn.namespaceId,Mn,Ir,l,Iw,Hu);if(rn.setRealPlayer(Tc),ji===SL)Gg.push(rn);else{const Bo=this.playersByElement.get(ji);Bo&&Bo.length&&(rn.parentPlayer=as(Bo)),o.push(rn)}}else Xo(Nt,Mn.fromStyles),rn.onDestroy(()=>Qs(Nt,Mn.toStyles)),TL.push(rn),T.has(Nt)&&o.push(rn)}),TL.forEach(_t=>{const Nt=l.get(_t.element);if(Nt&&Nt.length){const rn=as(Nt);_t.setRealPlayer(rn)}}),o.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<Oe.length;_t++){const Nt=Oe[_t],rn=Nt[Vt];if(Gf(Nt,Qo),rn&&rn.hasAnimation)continue;let Mn=[];if(p.size){let Tc=p.get(Nt);Tc&&Tc.length&&Mn.push(...Tc);let Bo=this.driver.query(Nt,am,!0);for(let gf=0;gf<Bo.length;gf++){let Ur=p.get(Bo[gf]);Ur&&Ur.length&&Mn.push(...Ur)}}const ji=Mn.filter(Tc=>!Tc.destroyed);ji.length?FO(this,Nt,ji):this.processLeaveNode(Nt)}return Oe.length=0,Gg.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const Nt=this.players.indexOf(_t);this.players.splice(Nt,1)}),_t.play()}),Gg}elementContainsData(e,t){let r=!1;const o=t[Vt];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,l){let h=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(h=p)}else{const p=this.playersByElement.get(e);if(p){const v=!l||l==qi;p.forEach(C=>{C.queued||!v&&C.triggerName!=o||h.push(C)})}}return(r||o)&&(h=h.filter(p=>!(r&&r!=p.namespaceId||o&&o!=p.triggerName))),h}_beforeAnimationBuild(e,t,r){const l=t.element,h=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const C=v.element,T=C!==l,D=Gi(r,C,[]);this._getPreviousPlayers(C,T,h,p,t.toState).forEach(B=>{const Y=B.getRealPlayer();Y.beforeDestroy&&Y.beforeDestroy(),B.destroy(),D.push(B)})}Xo(l,t.fromStyles)}_buildAnimation(e,t,r,o,l,h){const p=t.triggerName,v=t.element,C=[],T=new Set,D=new Set,U=t.timelines.map(Y=>{const Te=Y.element;T.add(Te);const Oe=Te[Vt];if(Oe&&Oe.removedBeforeQueried)return new Wo(Y.duration,Y.delay);const et=Te!==v,ct=function(n){const e=[];return Lw(n,e),e}((r.get(Te)||je).map(Ir=>Ir.getRealPlayer())).filter(Ir=>!!Ir.element&&Ir.element===Te),St=l.get(Te),at=h.get(Te),En=Bl(0,this._normalizer,0,Y.keyframes,St,at),qn=this._buildPlayer(Y,En,ct);if(Y.subTimeline&&o&&D.add(Te),et){const Ir=new Ai(e,p,Te);Ir.setRealPlayer(qn),C.push(Ir)}return qn});C.forEach(Y=>{Gi(this.playersByQueriedElement,Y.element,[]).push(Y),Y.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,Y.element,Y))}),T.forEach(Y=>Mi(Y,Ed));const B=as(U);return B.onDestroy(()=>{T.forEach(Y=>Gf(Y,Ed)),Qs(v,t.toStyles)}),D.forEach(Y=>{Gi(o,Y,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Wo(e.duration,e.delay)}}class Ai{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Wo,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Co(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Gi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ka(n){return n&&1===n.nodeType}function mm(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Hf(n,e,t,r,o){const l=[];t.forEach(v=>l.push(mm(v)));const h=[];r.forEach((v,C)=>{const T={};v.forEach(D=>{const U=T[D]=e.computeStyle(C,D,o);(!U||0==U.length)&&(C[Vt]=Ot,h.push(C))}),n.set(C,T)});let p=0;return t.forEach(v=>mm(v,l[p++])),h}function _m(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const o=new Set(e),l=new Map;function h(p){if(!p)return 1;let v=l.get(p);if(v)return v;const C=p.parentNode;return v=t.has(C)?C:o.has(C)?1:h(C),l.set(p,v),v}return e.forEach(p=>{const v=h(p);1!==v&&t.get(v).push(p)}),t}const Jl="$$classes";function Mi(n,e){if(n.classList)n.classList.add(e);else{let t=n[Jl];t||(t=n[Jl]={}),t[e]=!0}}function Gf(n,e){if(n.classList)n.classList.remove(e);else{let t=n[Jl];t&&delete t[e]}}function FO(n,e,t){as(t).onDone(()=>n.processLeaveNode(e))}function Lw(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof gd?Lw(r.players,e):e.push(r)}}function Vw(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(l=>o.add(l)):e.set(n,r),t.delete(n),!0}class ym{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,l)=>{},this._transitionEngine=new Bf(e,t,r),this._timelineEngine=new b(e,t,r),this._transitionEngine.onRemovalComplete=(o,l)=>this.onRemovalComplete(o,l)}registerTrigger(e,t,r,o,l){const h=e+"-"+o;let p=this._triggerCache[h];if(!p){const v=[],C=qc(this._driver,l,v);if(v.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${v.join("\n - ")}`);p=function(n,e,t){return new yv(n,e,t)}(o,C,this._normalizer),this._triggerCache[h]=p}this._transitionEngine.registerTrigger(t,o,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[l,h]=av(r);this._timelineEngine.command(l,t,h,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,l){if("@"==r.charAt(0)){const[h,p]=av(r);return this._timelineEngine.listen(h,t,p,l)}return this._transitionEngine.listen(e,t,r,o,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function bv(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=bm(e[0]),e.length>1&&(r=bm(e[e.length-1]))):e&&(t=bm(e)),t||r?new vm(n,t,r):null}let vm=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Qs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qs(this._element,this._initialStyles),this._endStyles&&(Qs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xo(this._element,this._endStyles),this._endStyles=null),Qs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function bm(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];Ev(o)&&(e=e||{},e[o]=n[o])}return e}function Ev(n){return"display"===n||"position"===n}const ur="animation",Uw="animationend";class wv{constructor(e,t,r,o,l,h,p){this._element=e,this._name=t,this._duration=r,this._delay=o,this._easing=l,this._fillMode=h,this._onDoneFn=p,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=v=>this._handleCallback(v)}apply(){(function(n,e){const t=$w(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),Tv(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),jw(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Cv(this._element,this._name,"paused")}resume(){Cv(this._element,this._name,"running")}setPosition(e){const t=Bw(this._element,this._name);this._position=e*this._duration,Tv(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),jw(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=$w(n,"").split(","),o=Iv(r,e);o>=0&&(r.splice(o,1),Tv(n,"",r.join(",")))}(this._element,this._name))}}function Cv(n,e,t){Tv(n,"PlayState",t,Bw(n,e))}function Bw(n,e){const t=$w(n,"");return t.indexOf(",")>0?Iv(t.split(","),e):Iv([t],e)}function Iv(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function jw(n,e,t){t?n.removeEventListener(Uw,e):n.addEventListener(Uw,e)}function Tv(n,e,t,r){const o=ur+e;if(null!=r){const l=n.style[o];if(l.length){const h=l.split(",");h[r]=t,t=h.join(",")}}n.style[o]=t}function $w(n,e){return n.style[ur+e]||""}class Dv{constructor(e,t,r,o,l,h,p,v){this.element=e,this.keyframes=t,this.animationName=r,this._duration=o,this._delay=l,this._finalStyles=p,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=o+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new wv(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:Td(this.element,r))})}this.currentSnapshot=e}}class Hw extends Wo{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=br(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Em{constructor(){this._count=0}validateStyleProperty(e){return _d(e)}matchesElement(e,t){return yd(e,t)}containsElement(e,t){return Ga(e,t)}query(e,t,r){return vd(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(p=>br(p));let o=`@keyframes ${t} {\n`,l="";r.forEach(p=>{l=" ";const v=parseFloat(p.offset);o+=`${l}${100*v}% {\n`,l+=" ",Object.keys(p).forEach(C=>{const T=p[C];switch(C){case"offset":return;case"easing":return void(T&&(o+=`${l}animation-timing-function: ${T};\n`));default:return void(o+=`${l}${C}: ${T};\n`)}}),o+=`${l}}\n`}),o+="}\n";const h=document.createElement("style");return h.textContent=o,h}animate(e,t,r,o,l,h=[],p){const v=h.filter(Oe=>Oe instanceof Dv),C={};Id(r,o)&&v.forEach(Oe=>{let et=Oe.currentSnapshot;Object.keys(et).forEach(ct=>C[ct]=et[ct])});const T=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(e[o]=r[o])})}),e}(t=lm(e,t,C));if(0==r)return new Hw(e,T);const D="gen_css_kf_"+this._count++,U=this.buildKeyframeElement(e,D,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(U);const Y=bv(e,t),Te=new Dv(e,t,D,r,o,l,T,Y);return Te.onDestroy(()=>{var n;(n=U).parentNode.removeChild(n)}),Te}}class zw{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Td(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Ww{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Zw().toString()),this._cssKeyframesDriver=new Em}validateStyleProperty(e){return _d(e)}matchesElement(e,t){return yd(e,t)}containsElement(e,t){return Ga(e,t)}query(e,t,r){return vd(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,o,l,h=[],p){if(!p&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,o,l,h);const T={duration:r,delay:o,fill:0==o?"both":"forwards"};l&&(T.easing=l);const D={},U=h.filter(Y=>Y instanceof zw);Id(r,o)&&U.forEach(Y=>{let Te=Y.currentSnapshot;Object.keys(Te).forEach(Oe=>D[Oe]=Te[Oe])});const B=bv(e,t=lm(e,t=t.map(Y=>Rs(Y,!1)),D));return new zw(e,t,T,B)}}function Zw(){return Ha()&&Element.prototype.animate||{}}let dA=(()=>{class n extends Vl{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?Df(t):t;return Mv(this._renderer,null,r,"register",[o]),new Kw(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ue))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Kw extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Av(this._id,e,t||{},this._renderer)}}class Av{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Mv(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Mv(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const hA="@.disabled";let Yw=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(l);return T||(T=new zf("",l,this.engine),this._rendererCache.set(l,T)),T}const h=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const v=T=>{Array.isArray(T)?T.forEach(v):this.engine.registerTrigger(h,p,t,T.name,T)};return r.data.animation.forEach(v),new fA(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,p]=l;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ym),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class zf{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==hA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class fA extends zf{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==hA?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,o,l,h,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let gA=(()=>{class n extends ym{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ue),u.LFG(Yo),u.LFG(oa))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ya=new u.OlP("AnimationModuleType"),Wf=[{provide:Vl,useClass:dA},{provide:oa,useFactory:function(){return new Vf}},{provide:ym,useClass:gA},{provide:u.FYo,useFactory:function(n,e,t){return new Yw(n,e,t)},deps:[Ts,ym,u.R0b]}],Os=[{provide:Yo,useFactory:function(){return"function"==typeof Zw()?new Ww:new Em}},{provide:Ya,useValue:"BrowserAnimations"},...Wf],xv=[{provide:Yo,useClass:Ms},{provide:Ya,useValue:"NoopAnimations"},...Wf];let vA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xv:Os}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Os,imports:[em]}),n})();var Gn=k(4402),bt=k(5917),Wi=k(9765),Rv=k(7971);class kr extends Wi.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Rv.N;return this._value}next(e){super.next(this._value=e)}}var Qw=k(4869),Xl=k(9796),Jn=k(7393);class VO extends Jn.L{notifyNext(e,t,r,o,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class UO extends Jn.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Jw=k(7444),Zi=k(7574);function ca(n,e,t,r,o=new UO(n,t,r)){if(!o.closed)return e instanceof Zi.y?e.subscribe(o):(0,Jw.s)(e)(o)}var kv=k(6693);const Cm={};class Xw{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Zf(e,this.resultSelector))}}class Zf extends VO{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Cm),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(ca(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,h=this.toRespond?o[r]===Cm?--this.toRespond:this.toRespond:0;o[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Kf=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Fd=k(3282);function Im(...n){return(0,Fd.J)(1)((0,bt.of)(...n))}var Yc=k(9193);function Qc(n){return new Zi.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,Gn.D)(t):(0,Yc.c)()).subscribe(e)})}var Pv=k(2441),Rt=k(8002),Qa=k(5345);function Er(n,e){return"function"==typeof e?t=>t.pipe(Er((r,o)=>(0,Gn.D)(n(r,o)).pipe((0,Rt.U)((l,h)=>e(r,l,o,h))))):t=>t.lift(new wA(n))}class wA{constructor(e){this.project=e}call(e,t){return t.subscribe(new CA(e,this.project))}}class CA extends Qa.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Qa.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,Qa.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const eC=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Ja(n){return e=>0===n?(0,Yc.c)():e.lift(new IA(n))}class IA{constructor(e){if(this.total=e,this.total<0)throw new eC}call(e,t){return t.subscribe(new tC(e,this.total))}}class tC extends Jn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Jc(...n){const e=n[n.length-1];return(0,Qw.K)(e)?(n.pop(),t=>Im(n,t,e)):t=>Im(n,t)}function Ld(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new Nv(n,e,t))}}class Nv{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new TA(e,this.accumulator,this.seed,this.hasSeed))}}class TA extends Jn.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function Xs(n,e){return function(r){return r.lift(new nC(n,e))}}class nC{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new rC(e,this.predicate,this.thisArg))}}class rC extends Jn.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function us(n){return function(t){const r=new iC(n),o=t.lift(r);return r.caught=o}}class iC{constructor(e){this.selector=e}call(e,t){return t.subscribe(new sC(e,this.selector,this.caught))}}class sC extends Qa.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new Qa.IY(this);this.add(r);const o=(0,Qa.ft)(t,r);o!==r&&this.add(o)}}}var Ri=k(9773);function Xa(n,e){return(0,Ri.zg)(n,e,1)}function Fv(n){return function(t){return 0===n?(0,Yc.c)():t.lift(new oC(n))}}class oC{constructor(e){if(this.total=e,this.total<0)throw new eC}call(e,t){return t.subscribe(new aC(e,this.total))}}class aC extends Jn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let l=0;l<r;l++){const h=t++%r;e.next(o[h])}}e.complete()}}function Lv(n=Tm){return e=>e.lift(new Vv(n))}class Vv{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new lC(e,this.errorFactory))}}class lC extends Jn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Tm(){return new Kf}function Yf(n=null){return e=>e.lift(new cC(n))}class cC{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Uv(e,this.defaultValue))}}class Uv extends Jn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Bv=k(4487);function To(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xs((o,l)=>n(o,l,r)):Bv.y,Ja(1),t?Yf(e):Lv(()=>new Kf))}var ki=k(3342),uC=k(1307),Vd=k(5319);function dC(n){return e=>e.lift(new hC(n))}class hC{constructor(e){this.callback=e}call(e,t){return t.subscribe(new $v(e,this.callback))}}class $v extends Jn.L{constructor(e,t){super(e),this.add(new Vd.w(t))}}class ua{constructor(e,t){this.id=e,this.url=t}}class fC extends ua{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ud extends ua{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pC extends ua{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gC extends ua{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SA extends ua{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DA extends ua{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class So extends ua{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class AA extends ua{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mC extends ua{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _C{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yC{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class MA{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xA{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vC{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bC{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EC{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const fn="primary";class Xt{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xc(n){return new Xt(n)}const Hv="ngNavigationCancelingError";function Bd(n){const e=Error("NavigationCancelingError: "+n);return e[Hv]=!0,e}function wC(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const h=r[l],p=n[l];if(h.startsWith(":"))o[h.substring(1)]=p;else if(h!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function eo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!da(n[o],e[o]))return!1;return!0}function da(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function Sm(n){return Array.prototype.concat.apply([],n)}function Gv(n){return n.length>0?n[n.length-1]:null}function Oi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ao(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,Gn.D)(Promise.resolve(n)):(0,bt.of)(n)}const el={exact:function kA(n,e,t){if(!tl(n.segments,e.segments)||!Dm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!kA(n.children[r],e.children[r],t))return!1;return!0},subset:zv},Qf={exact:function(n,e){return eo(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>da(n[t],e[t]))},ignored:()=>!0};function Jf(n,e,t){return el[t.paths](n.root,e.root,t.matrixParams)&&Qf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zv(n,e,t){return PA(n,e,e.segments,t)}function PA(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!tl(o,t)||e.hasChildren()||!Dm(o,t,r))}if(n.segments.length===t.length){if(!tl(n.segments,t)||!Dm(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!zv(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(tl(n.segments,o)&&Dm(n.segments,o,r)&&n.children[fn])&&PA(n.children[fn],e,l,r)}}function Dm(n,e,t){return e.every((r,o)=>Qf[t](n[o].parameters,r.parameters))}class jd{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return HO.serialize(this)}}class mn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Oi(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wv(this)}}class $d{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xc(this.parameters)),this._parameterMap}toString(){return Mm(this)}}function tl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class IC{}class FA{parse(e){const t=new BA(e);return new jd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var n;return`${`/${Am(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Zv(t)}=${Zv(o)}`).join("&"):`${Zv(t)}=${Zv(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const HO=new FA;function Wv(n){return n.segments.map(e=>Mm(e)).join("/")}function Am(n,e){if(!n.hasChildren())return Wv(n);if(e){const t=n.children[fn]?Am(n.children[fn],!1):"",r=[];return Oi(n.children,(o,l)=>{l!==fn&&r.push(`${l}:${Am(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Oi(n.children,(r,o)=>{o===fn&&(t=t.concat(e(r,o)))}),Oi(n.children,(r,o)=>{o!==fn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===fn?[Am(n.children[fn],!1)]:[`${o}:${Am(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[fn]?`${Wv(n)}/${t[0]}`:`${Wv(n)}/(${t.join("//")})`}}function LA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zv(n){return LA(n).replace(/%3B/gi,";")}function TC(n){return LA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kv(n){return decodeURIComponent(n)}function nl(n){return Kv(n.replace(/\+/g,"%20"))}function Mm(n){return`${TC(n.path)}${function(n){return Object.keys(n).map(e=>`;${TC(e)}=${TC(n[e])}`).join("")}(n.parameters)}`}const Yv=/^[^\/()?;=#]+/;function Xf(n){const e=n.match(Yv);return e?e[0]:""}const Qv=/^[^=?&#]+/,ec=/^[^?&#]+/;class BA{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[fn]=new mn(e,t)),r}parseSegment(){const e=Xf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new $d(Kv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Xf(this.remaining);o&&(r=o,this.capture(r))}e[Kv(t)]=Kv(r)}parseQueryParam(e){const t=function(n){const e=n.match(Qv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(ec);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=nl(t),l=nl(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xf(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=fn);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[fn]:new mn([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class jA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ep(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ep(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Jv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Jv(e,this._root).map(t=>t.value)}}function ep(n,e){if(n===e.value)return e;for(const t of e.children){const r=ep(n,t);if(r)return r}return null}function Jv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Jv(n,t);if(r.length)return r.unshift(e),r}return[]}class ha{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function tp(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class AC extends jA{constructor(e,t){super(e),this.snapshot=t,xm(this,e)}toString(){return this.snapshot.toString()}}function Hd(n,e){const t=function(n,e){const h=new rl([],{},{},"",{},fn,e,null,n.root,-1,{});return new MC("",new ha(h,[]))}(n,e),r=new kr([new $d("",{})]),o=new kr({}),l=new kr({}),h=new kr({}),p=new kr(""),v=new tc(r,o,h,p,l,fn,e,t.root);return v.snapshot=t.root,new AC(new ha(v,[]),t)}class tc{constructor(e,t,r,o,l,h,p,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=p,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Rt.U)(e=>Xc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Rt.U)(e=>Xc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eu(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class rl{constructor(e,t,r,o,l,h,p,v,C,T,D){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=h,this.component=p,this.routeConfig=v,this._urlSegment=C,this._lastPathIndex=T,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class MC extends jA{constructor(e,t){super(t),this.url=e,xm(this,t)}toString(){return Xv(this._root)}}function xm(n,e){e.value._routerState=n,e.children.forEach(t=>xm(n,t))}function Xv(n){const e=n.children.length>0?` { ${n.children.map(Xv).join(", ")} } `:"";return`${n.value}${e}`}function rp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,eo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),eo(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!eo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),eo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ip(n,e){return eo(n.params,e.params)&&function(n,e){return tl(n,e)&&n.every((t,r)=>eo(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||ip(n.parent,e.parent))}function tu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return tu(n,r,o);return tu(n,r)})}(n,e,t);return new ha(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return RC(e,h),h}}const r=function(n){return new tc(new kr(n.url),new kr(n.params),new kr(n.queryParams),new kr(n.fragment),new kr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>tu(n,l));return new ha(r,o)}}function RC(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)RC(n.children[t],e.children[t])}function sp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function op(n){return"object"==typeof n&&null!=n&&n.outlets}function Rm(n,e,t,r,o){let l={};return r&&Oi(r,(h,p)=>{l[p]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),new jd(t.root===n?e:PC(t.root,n,e),l,o)}function PC(n,e,t){const r={};return Oi(n.children,(o,l)=>{r[l]=o===e?t:PC(o,e,t)}),new mn(n.segments,r)}class NC{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&sp(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(op);if(o&&o!==Gv(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eb{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function tb(n,e,t){if(n||(n=new mn([],{})),0===n.segments.length&&n.hasChildren())return nb(n,e,t);const r=function(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const h=n.segments[o],p=t[r];if(op(p))break;const v=`${p}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===v)break;if(v&&C&&"object"==typeof C&&void 0===C.outlets){if(!VC(v,C,h))return l;r+=2}else{if(!VC(v,{},h))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new mn(n.segments.slice(0,r.pathIndex),{});return l.children[fn]=new mn(n.segments.slice(r.pathIndex),n.children),nb(l,0,o)}return r.match&&0===o.length?new mn(n.segments,{}):r.match&&!n.hasChildren()?ap(n,e,t):r.match?nb(n,0,o):ap(n,e,t)}function nb(n,e,t){if(0===t.length)return new mn(n.segments,{});{const r=function(n){return op(n[0])?n[0].outlets:{[fn]:n}}(t),o={};return Oi(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(o[h]=tb(n.children[h],e,l))}),Oi(n.children,(l,h)=>{void 0===r[h]&&(o[h]=l)}),new mn(n.segments,o)}}function ap(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(op(l)){const v=FC(l.outlets);return new mn(r,v)}if(0===o&&sp(t[0])){r.push(new $d(n.segments[e].path,LC(t[0]))),o++;continue}const h=op(l)?l.outlets[fn]:`${l}`,p=o<t.length-1?t[o+1]:null;h&&p&&sp(p)?(r.push(new $d(h,LC(p))),o+=2):(r.push(new $d(h,{})),o++)}return new mn(r,{})}function FC(n){const e={};return Oi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ap(new mn([],{}),0,t))}),e}function LC(n){const e={};return Oi(n,(t,r)=>e[r]=`${t}`),e}function VC(n,e,t){return n==t.path&&eo(e,t.parameters)}class UC{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),rp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=tp(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,o[h],r),delete o[h]}),Oi(o,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const o=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=tp(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=tp(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new bC(l.value.snapshot))}),e.children.length&&this.forwardEvent(new xA(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(rp(o),o===l)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const p=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(p.contexts),h.attachRef=p.componentRef,h.route=p.route.value,h.outlet&&h.outlet.attach(p.componentRef,p.route.value),BC(p.route)}else{const p=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),v=p?p.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=v,h.outlet&&h.outlet.activateWith(o,v),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function BC(n){rp(n.value),n.children.forEach(BC)}class rb{constructor(e,t){this.routes=e,this.module=t}}function nc(n){return"function"==typeof n}function rc(n){return n instanceof jd}const lp=Symbol("INITIAL_VALUE");function km(){return Er(n=>function(...n){let e,t;return(0,Qw.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Xl.k)(n[0])&&(n=n[0]),(0,kv.n)(n,t).lift(new Xw(e))}(n.map(e=>e.pipe(Ja(1),Jc(lp)))).pipe(Ld((e,t)=>{let r=!1;return t.reduce((o,l,h)=>o!==lp?o:(l===lp&&(r=!0),r||!1!==l&&h!==t.length-1&&!rc(l)?o:l),e)},lp),Xs(e=>e!==lp),(0,Rt.U)(e=>rc(e)?e:!0===e),Ja(1)))}let Om=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:function(){return[vb]},encapsulation:2}),n})();function HC(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];WA(r,ZA(e,r))}}function WA(n,e){n.children&&HC(n.children,e)}function ZA(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function cp(n){const e=n.children&&n.children.map(cp),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fn&&(t.component=Om),t}function to(n){return n.outlet||fn}function GC(n,e){const t=n.filter(r=>to(r)===e);return t.push(...n.filter(r=>to(r)!==e)),t}const up={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qd(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},up):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||wC)(t,n,e);if(!l)return Object.assign({},up);const h={};Oi(l.posParams,(v,C)=>{h[C]=v.path});const p=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:p,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Pm(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Nm(n,e,r)&&to(r)!==fn)}(n,t,r)){const h=new mn(e,function(n,e,t,r){const o={};o[fn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&to(l)!==fn){const h=new mn([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[to(l)]=h}return o}(n,e,r,new mn(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Nm(n,e,r))}(n,t,r)){const h=new mn(n.segments,function(n,e,t,r,o,l){const h={};for(const p of r)if(Nm(n,t,p)&&!o[to(p)]){const v=new mn([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[to(p)]=v}return Object.assign(Object.assign({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new mn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Nm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Fm(n,e,t,r){return!!(to(n)===r||r!==fn&&Nm(e,t,n))&&("**"===n.path||qd(e,n,t).matched)}function YA(n,e,t){return 0===e.length&&!n.children[t]}class dp{constructor(e){this.segmentGroup=e||null}}class ab{constructor(e){this.urlTree=e}}function hp(n){return new Zi.y(e=>e.error(new dp(n)))}function lb(n){return new Zi.y(e=>e.error(new ab(n)))}function zC(n){return new Zi.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Lm{constructor(e,t,r,o,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Pm(this.urlTree.root,[],[],this.config).segmentGroup,t=new mn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,fn).pipe((0,Rt.U)(l=>this.createUrlTree(cb(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(us(l=>{if(l instanceof ab)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof dp?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,fn).pipe((0,Rt.U)(o=>this.createUrlTree(cb(o),e.queryParams,e.fragment))).pipe(us(o=>{throw o instanceof dp?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new mn([],{[fn]:e}):e;return new jd(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Rt.U)(l=>new mn([],l))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,Gn.D)(o).pipe(Xa(l=>{const h=r.children[l],p=GC(t,l);return this.expandSegmentGroup(e,p,h,l).pipe((0,Rt.U)(v=>({segment:v,outlet:l})))}),Ld((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xs((o,l)=>n(o,l,r)):Bv.y,Fv(1),t?Yf(e):Lv(()=>new Kf))}())}expandSegment(e,t,r,o,l,h){return(0,Gn.D)(r).pipe(Xa(p=>this.expandSegmentAgainstRoute(e,t,r,p,o,l,h).pipe(us(C=>{if(C instanceof dp)return(0,bt.of)(null);throw C}))),To(p=>!!p),us((p,v)=>{if(p instanceof Kf||"EmptyError"===p.name){if(YA(t,o,l))return(0,bt.of)(new mn([],{}));throw new dp(t)}throw p}))}expandSegmentAgainstRoute(e,t,r,o,l,h,p){return Fm(o,t,l,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,l,h):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h):hp(t):hp(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lb(l):this.lineralizeSegments(r,l).pipe((0,Ri.zg)(h=>{const p=new mn(h,{});return this.expandSegment(e,p,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,h){const{matched:p,consumedSegments:v,lastChild:C,positionalParamSegments:T}=qd(t,o,l);if(!p)return hp(t);const D=this.applyRedirectCommands(v,o.redirectTo,T);return o.redirectTo.startsWith("/")?lb(D):this.lineralizeSegments(o,D).pipe((0,Ri.zg)(U=>this.expandSegment(e,t,r,U.concat(l.slice(C)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,bt.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Rt.U)(U=>(r._loadedConfig=U,new mn(o,{})))):(0,bt.of)(new mn(o,{}));const{matched:h,consumedSegments:p,lastChild:v}=qd(t,r,o);if(!h)return hp(t);const C=o.slice(v);return this.getChildConfig(e,r,o).pipe((0,Ri.zg)(D=>{const U=D.module,B=D.routes,{segmentGroup:Y,slicedSegments:Te}=Pm(t,p,C,B),Oe=new mn(Y.segments,Y.children);if(0===Te.length&&Oe.hasChildren())return this.expandChildren(U,B,Oe).pipe((0,Rt.U)(at=>new mn(p,at)));if(0===B.length&&0===Te.length)return(0,bt.of)(new mn(p,{}));const et=to(r)===l;return this.expandSegment(U,Oe,B,Te,et?fn:l,!0).pipe((0,Rt.U)(St=>new mn(p.concat(St.segments),St.children)))}))}getChildConfig(e,t,r){return t.children?(0,bt.of)(new rb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,bt.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ri.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,Rt.U)(l=>(t._loadedConfig=l,l))):(n=t,new Zi.y(e=>e.error(Bd(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,bt.of)(new rb([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,bt.of)(!0);const l=o.map(h=>{const p=e.get(h);let v;if((n=p)&&nc(n.canLoad))v=p.canLoad(t,r);else{if(!nc(p))throw new Error("Invalid CanLoad guard");v=p(t,r)}var n;return Ao(v)});return(0,bt.of)(l).pipe(km(),(0,ki.b)(h=>{if(!rc(h))return;const p=Bd(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw p.url=h,p}),(0,Rt.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,bt.of)(r);if(o.numberOfChildren>1||!o.children[fn])return zC(e.redirectTo);o=o.children[fn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new jd(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Oi(e,(o,l)=>{if("string"==typeof o&&o.startsWith(":")){const p=o.substring(1);r[l]=t[p]}else r[l]=o}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let h={};return Oi(t.children,(p,v)=>{h[v]=this.createSegmentGroup(e,p,r,o)}),new mn(l,h)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function cb(n){const e={};for(const r of Object.keys(n.children)){const l=cb(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[fn]){const e=n.children[fn];return new mn(n.segments.concat(e.segments),e.children)}return n}(new mn(n.segments,e))}class nu{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fp{constructor(e,t){this.component=e,this.route=t}}function pp(n,e,t){const r=n._root;return zd(r,e?e._root:null,t,[r.value])}function Vm(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function zd(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=tp(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const v=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!tl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!tl(n.url,e.url)||!eo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ip(n,e)||!eo(n.queryParams,e.queryParams);case"paramsChange":default:return!ip(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new nu(r)):(l.data=h.data,l._resolvedData=h._resolvedData),zd(n,e,l.component?p?p.children:null:t,r,o),v&&p&&p.outlet&&p.outlet.isActivated&&o.canDeactivateChecks.push(new fp(p.outlet.component,h))}else h&&mp(e,p,o),o.canActivateChecks.push(new nu(r)),zd(n,null,l.component?p?p.children:null:t,r,o)})(h,l[h.value.outlet],t,r.concat([h.value]),o),delete l[h.value.outlet]}),Oi(l,(h,p)=>mp(h,t.getContext(p),o)),o}function mp(n,e,t){const r=tp(n),o=n.value;Oi(r,(l,h)=>{mp(l,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new fp(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Zd{}function QC(n){return new Zi.y(e=>e.error(n))}class iM{constructor(e,t,r,o,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=Pm(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,fn);if(null===t)return null;const r=new rl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},fn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ha(r,t),l=new MC(this.url,o);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=eu(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],p=GC(e,l),v=this.processSegmentGroup(p,h,l);if(null===v)return null;r.push(...v)}const o=hb(r);return o.sort((e,t)=>e.value.outlet===fn?-1:t.value.outlet===fn?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,o);if(null!==h)return h}return YA(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Fm(e,t,r,o))return null;let l,h=[],p=[];if("**"===e.path){const B=r.length>0?Gv(r).parameters:{};l=new rl(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pa(e),to(e),e.component,e,Um(t),aM(t)+r.length,Bm(e))}else{const B=qd(t,e,r);if(!B.matched)return null;h=B.consumedSegments,p=r.slice(B.lastChild),l=new rl(h,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pa(e),to(e),e.component,e,Um(t),aM(t)+h.length,Bm(e))}const v=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:T}=Pm(t,h,p,v.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);var n;if(0===T.length&&C.hasChildren()){const B=this.processChildren(v,C);return null===B?null:[new ha(l,B)]}if(0===v.length&&0===T.length)return[new ha(l,[])];const D=to(e)===o,U=this.processSegment(v,C,T,D?fn:o);return null===U?null:[new ha(l,U)]}}function oM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hb(n){const e=[],t=new Set;for(const r of n){if(!oM(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=hb(r.children);e.push(new ha(r.value,o))}return e.filter(r=>!t.has(r))}function Um(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function aM(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function pa(n){return n.data||{}}function Bm(n){return n.resolve||{}}function jm(n){return Er(e=>{const t=n(e);return t?(0,Gn.D)(t).pipe((0,Rt.U)(()=>e)):(0,bt.of)(e)})}class uM extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const pb=new u.OlP("ROUTES");class Kd{constructor(e,t,r,o){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Rt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new rb(Sm(h.injector.get(pb,void 0,u.XFs.Self|u.XFs.Optional)).map(cp),h)}),us(l=>{throw t._loader$=void 0,l}));return t._loader$=new Pv.c(o,()=>new Wi.xQ).pipe((0,uC.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Gn.D)(this.loader.load(e)):Ao(e()).pipe((0,Ri.zg)(t=>t instanceof u.YKP?(0,bt.of)(t):(0,Gn.D)(this.compiler.compileModuleAsync(t))))}}class gb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ru,this.attachRef=null}}class ru{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new gb,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class nI{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function rI(n){throw n}function dM(n,e,t){return e.parse("/")}function iI(n,e){return(0,bt.of)(null)}const hM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class n{constructor(t,r,o,l,h,p,v,C){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=l,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Wi.xQ,this.errorHandler=rI,this.malformedUriErrorHandler=dM,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:iI,afterPreactivation:iI},this.urlHandlingStrategy=new nI,this.routeReuseStrategy=new uM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(u.h0i),this.console=h.get(u.c2e);const U=h.get(u.R0b);this.isNgZoneEnabled=U instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new jd(new mn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kd(p,v,B=>this.triggerEvent(new _C(B)),B=>this.triggerEvent(new yC(B))),this.routerState=Hd(this.currentUrlTree,this.rootComponentType),this.transitions=new kr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Xs(o=>0!==o.id),(0,Rt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Er(o=>{let l=!1,h=!1;return(0,bt.of)(o).pipe((0,ki.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Er(p=>{const v=this.browserUrlTree.toString(),C=!this.navigated||p.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return _p(p.source)&&(this.browserUrlTree=p.extractedUrl),(0,bt.of)(p).pipe(Er(D=>{const U=this.transitions.getValue();return r.next(new fC(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),U!==this.transitions.getValue()?Yc.E:Promise.resolve(D)}),function(n,e,t,r){return Er(o=>function(n,e,t,r,o){return new Lm(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Rt.U)(l=>Object.assign(Object.assign({},o),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ki.b)(D=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:D.urlAfterRedirects})}),function(n,e,t,r,o){return(0,Ri.zg)(l=>function(n,e,t,r,o="emptyOnly",l="legacy"){try{const h=new iM(n,e,t,r,o,l).recognize();return null===h?QC(new Zd):(0,bt.of)(h)}catch(h){return QC(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,o).pipe((0,Rt.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ki.b)(D=>{"eager"===this.urlUpdateStrategy&&(D.extras.skipLocationChange||this.setBrowserUrl(D.urlAfterRedirects,D),this.browserUrlTree=D.urlAfterRedirects);const U=new SA(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);r.next(U)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:B,source:Y,restoredState:Te,extras:Oe}=p,et=new fC(U,this.serializeUrl(B),Y,Te);r.next(et);const ct=Hd(B,this.rootComponentType).snapshot;return(0,bt.of)(Object.assign(Object.assign({},p),{targetSnapshot:ct,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Oe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,this.browserUrlTree=p.urlAfterRedirects,p.resolve(null),Yc.E}),jm(p=>{const{targetSnapshot:v,id:C,extractedUrl:T,rawUrl:D,extras:{skipLocationChange:U,replaceUrl:B}}=p;return this.hooks.beforePreactivation(v,{navigationId:C,appliedUrlTree:T,rawUrlTree:D,skipLocationChange:!!U,replaceUrl:!!B})}),(0,ki.b)(p=>{const v=new DA(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),(0,Rt.U)(p=>Object.assign(Object.assign({},p),{guards:pp(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Ri.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?(0,bt.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,Gn.D)(n).pipe((0,Ri.zg)(o=>function(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,bt.of)(!0);const h=l.map(p=>{const v=Vm(p,e,o);let C;if(function(n){return n&&nc(n.canDeactivate)}(v))C=Ao(v.canDeactivate(n,e,t,r));else{if(!nc(v))throw new Error("Invalid CanDeactivate guard");C=Ao(v(n,e,t,r))}return C.pipe(To())});return(0,bt.of)(h).pipe(km())}(o.component,o.route,t,e,r)),To(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Ri.zg)(p=>p&&function(n){return"boolean"==typeof n}(p)?function(n,e,t,r){return(0,Gn.D)(e).pipe(Xa(o=>Im(function(n,e){return null!==n&&e&&e(new MA(n)),(0,bt.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new vC(n)),(0,bt.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Qc(()=>{const p=h.guards.map(v=>{const C=Vm(v,h.node,t);let T;if(function(n){return n&&nc(n.canActivateChild)}(C))T=Ao(C.canActivateChild(r,n));else{if(!nc(C))throw new Error("Invalid CanActivateChild guard");T=Ao(C(r,n))}return T.pipe(To())});return(0,bt.of)(p).pipe(km())}));return(0,bt.of)(l).pipe(km())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,bt.of)(!0);const o=r.map(l=>Qc(()=>{const h=Vm(l,e,t);let p;if(function(n){return n&&nc(n.canActivate)}(h))p=Ao(h.canActivate(e,n));else{if(!nc(h))throw new Error("Invalid CanActivate guard");p=Ao(h(e,n))}return p.pipe(To())}));return(0,bt.of)(o).pipe(km())}(n,o.route,t))),To(o=>!0!==o,!0))}(r,l,n,e):(0,bt.of)(p)),(0,Rt.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,ki.b)(p=>{if(rc(p.guardsResult)){const C=Bd(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw C.url=p.guardsResult,C}const v=new So(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(v)}),Xs(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),jm(p=>{if(p.guards.canActivateChecks.length)return(0,bt.of)(p).pipe((0,ki.b)(v=>{const C=new AA(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}),Er(v=>{let C=!1;return(0,bt.of)(v).pipe(function(n,e){return(0,Ri.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,bt.of)(t);let l=0;return(0,Gn.D)(o).pipe(Xa(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,bt.of)({});const l={};return(0,Gn.D)(o).pipe((0,Ri.zg)(h=>function(n,e,t,r){const o=Vm(n,e,r);return Ao(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,ki.b)(p=>{l[h]=p}))),Fv(1),(0,Ri.zg)(()=>Object.keys(l).length===o.length?(0,bt.of)(l):Yc.E))}(n._resolve,n,e,r).pipe((0,Rt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),eu(n,t).resolve),null)))}(h.route,r,n,e)),(0,ki.b)(()=>l++),Fv(1),(0,Ri.zg)(h=>l===o.length?(0,bt.of)(t):Yc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ki.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,ki.b)(v=>{const C=new mC(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}))}),jm(p=>{const{targetSnapshot:v,id:C,extractedUrl:T,rawUrl:D,extras:{skipLocationChange:U,replaceUrl:B}}=p;return this.hooks.afterPreactivation(v,{navigationId:C,appliedUrlTree:T,rawUrlTree:D,skipLocationChange:!!U,replaceUrl:!!B})}),(0,Rt.U)(p=>{const v=function(n,e,t){const r=tu(n,e._root,t?t._root:void 0);return new AC(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:v})}),(0,ki.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,Rt.U)(r=>(new UC(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,ki.b)({next(){l=!0},complete(){l=!0}}),dC(()=>{var p;if(!l&&!h){const v=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,v)):this.cancelNavigationTransition(o,v)}(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===o.id&&(this.currentNavigation=null)}),us(p=>{if(h=!0,function(n){return n&&n[Hv]}(p)){const v=rc(p.url);v||(this.navigated=!0,this.restoreHistory(o,!0));const C=new pC(o.id,this.serializeUrl(o.extractedUrl),p.message);r.next(C),v?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),D={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_p(o.source)};this.scheduleNavigation(T,"imperative",null,D,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const v=new gC(o.id,this.serializeUrl(o.extractedUrl),p);r.next(v);try{o.resolve(this.errorHandler(p))}catch(C){o.reject(C)}}return Yc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:o,state:l,urlTree:h}=r,p={replaceUrl:!0};if(l){const v=Object.assign({},l);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(p.state=v)}this.scheduleNavigation(h,o,l,p)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const o=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!o||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){HC(t),this.config=t.map(cp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:h,queryParamsHandling:p,preserveFragment:v}=r,C=o||this.routerState.root,T=v?this.currentUrlTree.fragment:h;let D=null;switch(p){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=l||null}return null!==D&&(D=this.removeEmptyProps(D)),function(n,e,t,r,o){if(0===t.length)return Rm(e.root,e.root,e,r,o);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new NC(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Oi(l.outlets,(v,C)=>{p[C]="string"==typeof v?v.split("/"):v}),[...o,{outlets:p}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===h?(l.split("/").forEach((p,v)=>{0==v&&"."===p||(0==v&&""===p?t=!0:".."===p?e++:""!=p&&o.push(p))}),o):[...o,l]},[]);return new NC(t,e,r)}(t);if(l.toRoot())return Rm(e.root,new mn([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new eb(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new eb(l,l===e.root,0)}const r=sp(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new eb(r,!1,o-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),p=h.processChildren?nb(h.segmentGroup,h.index,l.commands):tb(h.segmentGroup,h.index,l.commands);return Rm(h.segmentGroup,p,e,r,o)}(C,this.currentUrlTree,t,D,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=rc(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},hM):!1===r?Object.assign({},fM):r,rc(t))return Jf(this.currentUrlTree,t,o);const l=this.parseUrl(t);return Jf(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ud(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,l,h){var p,v;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),T=_p(r)&&C&&!_p(C.source),B=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===t.toString();if(T&&B)return Promise.resolve(!0);let Y,Te,Oe;h?(Y=h.resolve,Te=h.reject,Oe=h.promise):Oe=new Promise((St,at)=>{Y=St,Te=at});const et=++this.navigationId;let ct;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ct=o&&o.\u0275routerPageId?o.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):ct=0,this.setTransition({id:et,targetPageId:ct,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:Y,reject:Te,promise:Oe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Oe.catch(St=>Promise.reject(St))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",l):this.location.go(o,"",l)}restoreHistory(t,r=!1){var o,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new pC(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.DyG),u.LFG(IC),u.LFG(ru),u.LFG(ot),u.LFG(u.zs3),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function _p(n){return"imperative"!==n}let vb=(()=>{class n{constructor(t,r,o,l,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.name=l||fn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,v=new sI(t,p,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ru),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class sI{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===tc?this.route:e===ru?this.childContexts:this.parent.get(e,t)}}class bb{}class no{preload(e,t){return(0,bt.of)(null)}}let pM=(()=>{class n{constructor(t,r,o,l,h){this.router=t,this.injector=l,this.preloadingStrategy=h,this.loader=new Kd(r,o,C=>t.triggerEvent(new _C(C)),C=>t.triggerEvent(new yC(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xs(t=>t instanceof Ud),Xa(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children));return(0,Gn.D)(o).pipe((0,Fd.J)(),(0,Rt.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,bt.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ri.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fi),u.LFG(u.v3s),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(bb))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),oI=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ud&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof EC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new EC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fi),u.LFG(Ys),u.LFG(void 0))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ic=new u.OlP("ROUTER_CONFIGURATION"),Eb=new u.OlP("ROUTER_FORROOT_GUARD"),gM=[ot,{provide:IC,useClass:FA},{provide:fi,useFactory:function(n,e,t,r,o,l,h,p={},v,C){const T=new fi(null,n,e,t,r,o,l,Sm(h));return v&&(T.urlHandlingStrategy=v),C&&(T.routeReuseStrategy=C),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(p,T),p.enableTracing&&T.events.subscribe(D=>{var U,B;null===(U=console.group)||void 0===U||U.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(B=console.groupEnd)||void 0===B||B.call(console)}),T},deps:[IC,ru,ot,u.zs3,u.v3s,u.Sil,pb,ic,[class{},new u.FiY],[class{},new u.FiY]]},ru,{provide:tc,useFactory:function(n){return n.routerState.root},deps:[fi]},{provide:u.v3s,useClass:u.EAV},pM,no,class{preload(e,t){return t().pipe(us(()=>(0,bt.of)(null)))}},{provide:ic,useValue:{enableTracing:!1}}];function e1(){return new u.PXZ("Router",fi)}let wb=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[gM,lI(t),{provide:Eb,useFactory:Ib,deps:[[fi,new u.FiY,new u.tp0]]},{provide:ic,useValue:r||{}},{provide:Ee,useFactory:mM,deps:[ie,[new u.tBr(_e),new u.FiY],ic]},{provide:oI,useFactory:Cb,deps:[fi,Ys,ic]},{provide:bb,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:no},{provide:u.PXZ,multi:!0,useFactory:e1},[Tb,{provide:u.ip1,multi:!0,useFactory:bM,deps:[Tb]},{provide:iu,useFactory:$m,deps:[Tb]},{provide:u.tb,multi:!0,useExisting:iu}]]}}static forChild(t){return{ngModule:n,providers:[lI(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Eb,8),u.LFG(fi,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Cb(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new oI(n,e,t)}function mM(n,e,t={}){return t.useHash?new Fe(n,e):new pe(n,e)}function Ib(n){return"guarded"}function lI(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:pb,multi:!0,useValue:n}]}let Tb=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Wi.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(p=>r=p),l=this.injector.get(fi),h=this.injector.get(ic);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,bt.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(ic),o=this.injector.get(pM),l=this.injector.get(oI),h=this.injector.get(fi),p=this.injector.get(u.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),l.init(),h.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function bM(n){return n.appInitializer.bind(n)}function $m(n){return n.bootstrapListener.bind(n)}const iu=new u.OlP("Router Initializer"),vp=["eyeLeft"],EM=["eyeRight"];let uI=(()=>{class n{constructor(t,r){this.renderer=t,this.router=r}ngOnInit(){}handleMouseMove(t){this.input={mouseX:{start:0,end:window.innerWidth,current:0},mouseY:{start:0,end:window.innerHeight,current:0}},this.output={x:{start:-6,end:6,current:0},y:{start:-7,end:4,current:0}},this.input.mouseX.range=this.input.mouseX.end-this.input.mouseX.start,this.input.mouseY.range=this.input.mouseY.end-this.input.mouseY.start,this.output.x.range=this.output.x.end-this.output.x.start,this.output.y.range=this.output.y.end-this.output.y.start,this.input.mouseY.current=t.clientY,this.input.mouseX.current=t.clientX,this.input.mouseX.fraction=(this.input.mouseX.current-this.input.mouseX.start)/this.input.mouseX.range,this.input.mouseY.fraction=(this.input.mouseY.current-this.input.mouseY.start)/this.input.mouseY.range,this.output.x.current=this.output.x.start+this.input.mouseX.fraction*this.output.x.range,this.output.y.current=this.output.y.start+this.input.mouseY.fraction*this.output.y.range,this.renderer.setStyle(this.eyeRight.nativeElement,"transform",`translate(${this.output.x.current}px, ${this.output.y.current}px)`),this.renderer.setStyle(this.eyeLeft.nativeElement,"transform",`translate(${this.output.x.current}px, ${this.output.y.current}px)`)}handleResize(){this.input.mouseY.end=window.innerHeight,this.input.mouseX.end=window.innerWidth,this.input.mouseY.range=this.input.mouseY.end-this.input.mouseY.start,this.input.mouseX.range=this.input.mouseX.end-this.input.mouseX.start}ngAfterViewInit(){console.log(this.eyeRight)}onMouseMove(t){this.handleMouseMove(t),this.handleResize()}onBtnClick(){this.router.navigateByUrl("/about-me")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(fi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-welcome"]],viewQuery:function(t,r){if(1&t&&(u.Gf(vp,5),u.Gf(EM,5)),2&t){let o;u.iGM(o=u.CRH())&&(r.eyeLeft=o.first),u.iGM(o=u.CRH())&&(r.eyeRight=o.first)}},hostBindings:function(t,r){1&t&&u.NdJ("mousemove",function(l){return r.onMouseMove(l)})},decls:40,vars:0,consts:[[1,"wlcome-page-container","position-center-column"],[1,"my-illustration"],[1,"quarter-circle","top-left"],[1,"quarter-circle","bottom-right"],[1,"border-circle","border-line-brown-secondary"],["src","assets/my-illustration.png"],[1,"two-eyes"],[1,"eye","eye1"],[1,"pupil"],["eyeLeft",""],[1,"eye","eye2"],["eyeRight",""],[1,"little-higher"],[1,"welcome-title"],[1,"lines-wrapper-left","position-center-row"],[1,"two-lines-wrapper"],[1,"top-lines","position-center-row"],[1,"first-line-bigger","border-line-brown-white"],[1,"second-line-small","border-line-brown-white"],[1,"bottom-lines","position-center-row"],[1,"welcome-title","position-center-row"],[1,"white-title"],[1,"welcome-btn"],[1,"btn-border"],[3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._UZ(2,"div",2),u._UZ(3,"div",3),u.TgZ(4,"div",4),u._UZ(5,"img",5),u.TgZ(6,"div",6),u.TgZ(7,"div",7),u._UZ(8,"div",8,9),u.qZA(),u.TgZ(10,"div",10),u._UZ(11,"div",8,11),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(13,"div",12),u.TgZ(14,"div",13),u.TgZ(15,"div",14),u.TgZ(16,"div",15),u.TgZ(17,"div",16),u._UZ(18,"div",17),u._UZ(19,"div",18),u.qZA(),u.TgZ(20,"div",19),u._UZ(21,"div",17),u._UZ(22,"div",18),u.qZA(),u.qZA(),u.TgZ(23,"div",20),u.TgZ(24,"h1"),u._uU(25,"Hello, I'm"),u.qZA(),u.TgZ(26,"h1",21),u._uU(27," Hanny!"),u.qZA(),u.qZA(),u.TgZ(28,"div",15),u.TgZ(29,"div",16),u._UZ(30,"div",17),u._UZ(31,"div",18),u.qZA(),u.TgZ(32,"div",19),u._UZ(33,"div",17),u._UZ(34,"div",18),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(35,"div",22),u.TgZ(36,"button",23),u._uU(37,"To My Resume"),u.qZA(),u.TgZ(38,"button",24),u.NdJ("click",function(){return r.onBtnClick()}),u._uU(39,"To My Resume"),u.qZA(),u.qZA(),u.qZA(),u.qZA())},styles:[".wlcome-page-container[_ngcontent-%COMP%]{width:100vw;height:100vh;background:var(--background-default)}.wlcome-page-container[_ngcontent-%COMP%]   .my-illustration[_ngcontent-%COMP%]{margin-top:50px;transform:scale(.8);position:relative}.wlcome-page-container[_ngcontent-%COMP%]   .my-illustration[_ngcontent-%COMP%]   .two-eyes[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;position:absolute;top:318px;width:290px;left:147px}.wlcome-page-container[_ngcontent-%COMP%]   .my-illustration[_ngcontent-%COMP%]   .two-eyes[_ngcontent-%COMP%]   .eye[_ngcontent-%COMP%]{background-color:#fff;position:absolute;top:50%;left:50%;margin-top:-100px;margin-left:-100px;width:33px;height:23px;overflow:hidden;border-radius:50%}.wlcome-page-container[_ngcontent-%COMP%]   .my-illustration[_ngcontent-%COMP%]   .two-eyes[_ngcontent-%COMP%]   .pupil[_ngcontent-%COMP%]{position:absolute;background-color:#000;border:solid 4px #457949;width:8px;height:8px;top:50%;left:50%;margin-top:-7px;margin-left:-8px;border-radius:50%}.wlcome-page-container[_ngcontent-%COMP%]   .my-illustration[_ngcontent-%COMP%]   .two-eyes[_ngcontent-%COMP%]   .eye2[_ngcontent-%COMP%]{margin-left:-4px}.wlcome-page-container[_ngcontent-%COMP%]   .quarter-circle[_ngcontent-%COMP%]{width:555px;height:555px;border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;position:absolute;top:-18px;left:-20px}.wlcome-page-container[_ngcontent-%COMP%]   .top-left[_ngcontent-%COMP%]{border:2px solid transparent;border-left-color:var(--text-color-welcome);transform:rotate(45deg);animation:spin-back 20s infinite linear}.wlcome-page-container[_ngcontent-%COMP%]   .bottom-right[_ngcontent-%COMP%]{border:2px solid transparent;border-right-color:var(--text-color-welcome);transform:rotate(45deg);animation:spin 20s infinite linear}.wlcome-page-container[_ngcontent-%COMP%]   .border-circle[_ngcontent-%COMP%]{padding:15px;border-radius:50%}@keyframes spin{to{transform:rotate(405deg)}}@keyframes spin-back{to{transform:rotate(405deg)}}.lines-wrapper-left[_ngcontent-%COMP%]   .two-lines-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:280px;height:16px}.lines-wrapper-left[_ngcontent-%COMP%]   .top-lines[_ngcontent-%COMP%]   .first-line-bigger[_ngcontent-%COMP%], .lines-wrapper-left[_ngcontent-%COMP%]   .bottom-lines[_ngcontent-%COMP%]   .first-line-bigger[_ngcontent-%COMP%]{width:240px;margin-right:10px}.lines-wrapper-left[_ngcontent-%COMP%]   .top-lines[_ngcontent-%COMP%]   .second-line-small[_ngcontent-%COMP%], .lines-wrapper-left[_ngcontent-%COMP%]   .bottom-lines[_ngcontent-%COMP%]   .second-line-small[_ngcontent-%COMP%]{width:8px}.lines-wrapper-left[_ngcontent-%COMP%]   .bottom-lines[_ngcontent-%COMP%]{transform:rotate(180deg)}.welcome-title[_ngcontent-%COMP%]{font-size:38px;margin:0 35px;font-weight:100;letter-spacing:2px}.welcome-title[_ngcontent-%COMP%]   .white-title[_ngcontent-%COMP%]{color:#fff;margin-left:15px}.welcome-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;transition:all .15s ease-in-out}.welcome-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative}.welcome-btn[_ngcontent-%COMP%]   .btn-border[_ngcontent-%COMP%]{background-color:var(--error-darker);color:var(--error-darker);position:absolute;top:6px}.welcome-btn[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.little-higher[_ngcontent-%COMP%]{position:relative;top:-20px}"]}),n})();const Sb=Tf("transformAnimation",[Af("move",Ds({left:"{{leftStart}}px"}),{params:{leftStart:"0"}}),Af("stay",Ds({left:"{{left}}px"}),{params:{left:"*"}}),wo("* <=> *",$a("600ms ease-in"))]),ma=Tf("transformAnimation2",[Af("go",Ds({left:"600px"})),Af("don",Ds({left:"300px"}),{params:{left:"*"}}),wo("move2 <=> stay2",$a("600ms ease-in"))]);var Yd=k(3637),Pt=k(3104);function _a(){return n=>n.lift(new Hm)}class Hm{call(e,t){return t.subscribe(new ro(e))}}class ro extends Jn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function bp(n,e){return t=>t.lift(new Qd(n,e))}class Qd{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Jd(e,this.compare,this.keySelector))}}class Jd extends Jn.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}var ut,Or=k(8939),su=(k(4828),k(3394)),Me=k(8239),ii=k(8026),Mo=k(3910),Ns=k(5422),Ut=k(3854),dI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ya={},Gm=Gm||{},Kt=dI||self;function wp(){}function qm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var zm="closure_uid_"+(1e9*Math.random()>>>0),CM=0;function hI(n,e,t){return n.call.apply(n.bind,arguments)}function fI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function pi(n,e,t){return(pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hI:fI).apply(null,arguments)}function Db(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function gi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,l){for(var h=Array(arguments.length-2),p=2;p<arguments.length;p++)h[p-2]=arguments[p];return e.prototype[o].apply(r,h)}}function sl(){this.s=this.s,this.o=this.o}var pI={};sl.prototype.s=!1,sl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,zm)&&n[zm]||(n[zm]=++CM)}(this);delete pI[n]}},sl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},mI=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in o&&e.call(t,o[l],l,n)};function _I(n){return Array.prototype.concat.apply([],arguments)}function Wm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ab(n){return/^[\s\xa0]*$/.test(n)}var hs,TM=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ds(n,e){return-1!=n.indexOf(e)}function Mb(n,e){return n<e?-1:n>e?1:0}e:{var yI=Kt.navigator;if(yI){var vI=yI.userAgent;if(vI){hs=vI;break e}}hs=""}function Cp(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Zm(n){const e={};for(const t in n)e[t]=n[t];return e}var bI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SM(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<bI.length;l++)t=bI[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function EI(n){return EI[" "](n),n}EI[" "]=wp;var Km,n,DM=ds(hs,"Opera"),ou=ds(hs,"Trident")||ds(hs,"MSIE"),AM=ds(hs,"Edge"),xb=AM||ou,au=ds(hs,"Gecko")&&!(ds(hs.toLowerCase(),"webkit")&&!ds(hs,"Edge"))&&!(ds(hs,"Trident")||ds(hs,"MSIE"))&&!ds(hs,"Edge"),MM=ds(hs.toLowerCase(),"webkit")&&!ds(hs,"Edge");function Rb(){var n=Kt.document;return n?n.documentMode:void 0}e:{var Ym="",eh=(n=hs,au?/rv:([^\);]+)(\)|;)/.exec(n):AM?/Edge\/([\d\.]+)/.exec(n):ou?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):MM?/WebKit\/(\S+)/.exec(n):DM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(eh&&(Ym=eh?eh[1]:""),ou){var kb=Rb();if(null!=kb&&kb>parseFloat(Ym)){Km=String(kb);break e}}Km=Ym}var wI={};function xM(){return e=wI,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=TM(String(Km)).split("."),t=TM("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",l=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==o[0].length&&0==l[0].length)break;n=Mb(0==o[1].length?0:parseInt(o[1],10),0==l[1].length?0:parseInt(l[1],10))||Mb(0==o[2].length,0==l[2].length)||Mb(o[2],l[2]),o=o[3],l=l[3]}while(0==n)}return 0<=n}();var e}var RM=Kt.document&&ou&&(Rb()||parseInt(Km,10))||void 0,kM=function(){if(!Kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Kt.addEventListener("test",wp,e),Kt.removeEventListener("test",wp,e)}catch(t){}return n}();function mi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Ip(n,e){if(mi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(au){e:{try{EI(e.nodeName);var o=!0;break e}catch(l){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:II[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ip.Z.h.call(this)}}mi.prototype.h=function(){this.defaultPrevented=!0},gi(Ip,mi);var II={2:"touch",3:"pen",4:"mouse"};Ip.prototype.h=function(){Ip.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var th="closure_listenable_"+(1e6*Math.random()|0),Pb=0;function r1(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++Pb,this.ca=this.fa=!1}function nh(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Qm(n){this.src=n,this.g={},this.h=0}function TI(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=gI(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(nh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function lu(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return o}return-1}Qm.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=lu(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new r1(e,this.src,l,!!r,o)).fa=t,n.push(e)),e};var Nb="closure_lm_"+(1e6*Math.random()|0),Tp={};function Jm(n,e,t,r,o){if(r&&r.once)return Xm(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Jm(n,e[l],t,r,o);return null}return t=t_(t),n&&n[th]?n.N(e,t,Xd(r)?!!r.capture:!!r,o):SI(n,e,t,!1,r,o)}function SI(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var h=Xd(o)?!!o.capture:!!o,p=e_(n);if(p||(n[Nb]=p=new Qm(n)),(t=p.add(e,t,r,h,l)).proxy)return t;if(r=function(){var e=MI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kM||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(AI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Xm(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Xm(n,e[l],t,r,o);return null}return t=t_(t),n&&n[th]?n.O(e,t,Xd(r)?!!r.capture:!!r,o):SI(n,e,t,!0,r,o)}function Lb(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)Lb(n,e[l],t,r,o);else r=Xd(r)?!!r.capture:!!r,t=t_(t),n&&n[th]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=lu(l=n.g[e],t,r,o))&&(nh(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=e_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=lu(e,t,r,o)),(t=-1<n?e[n]:null)&&DI(t))}function DI(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[th])TI(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(AI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=e_(e))?(TI(t,n),0==t.h&&(t.src=null,e[Nb]=null)):nh(n)}}}function AI(n){return n in Tp?Tp[n]:Tp[n]="on"+n}function MI(n,e){if(n.ca)n=!0;else{e=new Ip(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&DI(n),n=t.call(r,e)}return n}function e_(n){return(n=n[Nb])instanceof Qm?n:null}var Vb="__closure_events_fn_"+(1e9*Math.random()>>>0);function t_(n){return"function"==typeof n?n:(n[Vb]||(n[Vb]=function(e){return n.handleEvent(e)}),n[Vb])}function Pr(){sl.call(this),this.i=new Qm(this),this.P=this,this.I=null}function si(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new mi(e,n);else if(e instanceof mi)e.target=e.target||n;else{var o=e;SM(e=new mi(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];o=rh(h,r,!0,e)&&o}if(o=rh(h=e.g=n,r,!0,e)&&o,o=rh(h,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=rh(h=e.g=t[l],r,!1,e)&&o}function rh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var p=h.listener,v=h.ia||h.src;h.fa&&TI(n.i,h),o=!1!==p.call(v,r)&&o}}return o&&!r.defaultPrevented}gi(Pr,sl),Pr.prototype[th]=!0,Pr.prototype.removeEventListener=function(n,e,t,r){Lb(this,n,e,t,r)},Pr.prototype.M=function(){if(Pr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)nh(t[r]);delete n.g[e],n.h--}}this.I=null},Pr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Pr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Sp=Kt.JSON.stringify;function xI(){var n=$b;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var jb,Ub=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new RI,n=>n.reset());class RI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Bb(n){Kt.setTimeout(()=>{throw n},0)}function n_(n,e){jb||function(){var n=Kt.Promise.resolve(void 0);jb=function(){n.then(Hb)}}(),r_||(jb(),r_=!0),$b.add(n,e)}var r_=!1,$b=new class{constructor(){this.h=this.g=null}add(e,t){const r=Ub.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Hb(){for(var n;n=xI();){try{n.h.call(n.g)}catch(t){Bb(t)}var e=Ub;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}r_=!1}function Dp(n,e){Pr.call(this),this.h=n||1,this.g=e||Kt,this.j=pi(this.kb,this),this.l=Date.now()}function i_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function s_(n,e,t){if("function"==typeof n)t&&(n=pi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=pi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Kt.setTimeout(n,e||0)}function Gb(n){n.g=s_(()=>{n.g=null,n.i&&(n.i=!1,Gb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}gi(Dp,Pr),(ut=Dp.prototype).da=!1,ut.S=null,ut.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),si(this,"tick"),this.da&&(i_(this),this.start()))}},ut.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.M=function(){Dp.Z.M.call(this),i_(this),delete this.g};class OI extends sl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Gb(this)}M(){super.M(),this.g&&(Kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ih(n){sl.call(this),this.h=n,this.g={}}gi(ih,sl);var qb=[];function zb(n,e,t,r){Array.isArray(t)||(t&&(qb[0]=t.toString()),t=qb);for(var o=0;o<t.length;o++){var l=Jm(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function PM(n){Cp(n.g,function(e,t){this.g.hasOwnProperty(t)&&DI(e)},n),n.g={}}function o_(){this.g=!0}function sh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<o.length;h++)o[h]=""}}}return Sp(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}ih.prototype.M=function(){ih.Z.M.call(this),PM(this)},ih.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},o_.prototype.Aa=function(){this.g=!1},o_.prototype.info=function(){};var cu={},FI=null;function Ap(){return FI=FI||new Pr}function LI(n){mi.call(this,cu.Ma,n)}function oh(n){const e=Ap();si(e,new LI(e,n))}function Wb(n,e){mi.call(this,cu.STAT_EVENT,n),this.stat=e}function Nr(n){const e=Ap();si(e,new Wb(e,n))}function VI(n,e){mi.call(this,cu.Na,n),this.size=e}function Mp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Kt.setTimeout(function(){n()},e)}cu.Ma="serverreachability",gi(LI,mi),cu.STAT_EVENT="statevent",gi(Wb,mi),cu.Na="timingevent",gi(VI,mi);var xp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},UI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function a_(){}function l_(){}a_.prototype.h=null;var Kb,uu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function io(){mi.call(this,"d")}function Zb(){mi.call(this,"c")}function Fs(){}function Ki(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new ih(this),this.P=BI,this.W=new Dp(n=xb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new so}function so(){this.i=null,this.g="",this.h=!1}gi(io,mi),gi(Zb,mi),gi(Fs,a_),Fs.prototype.g=function(){return new XMLHttpRequest},Fs.prototype.i=function(){return{}},Kb=new Fs;var BI=45e3,c_={},u_={};function Yb(n,e,t){n.K=1,n.v=p_(ba(e)),n.s=t,n.U=!0,jI(n,null)}function jI(n,e){n.F=Date.now(),kp(n),n.A=ba(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),WI(t.h,"t",r),n.C=0,t=n.l.H,n.h=new so,n.g=rT(n.l,t?e:null,!n.s),0<n.O&&(n.L=new OI(pi(n.Ia,n,n.g),n.O)),zb(n.V,n.g,"readystatechange",n.gb),e=n.H?Zm(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),oh(1),function(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var h="",p=l.split("&"),v=0;v<p.length;v++){var C=p[v].split("=");if(1<C.length){var T=C[0];C=C[1];var D=T.split("_");h=2<=D.length&&"type"==D[1]?h+(T+"=")+C+"&":h+(T+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function $I(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function d_(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Rp(n,t),o==u_){4==e&&(n.o=4,Nr(14),r=!1),sh(n.j,n.m,null,"[Incomplete Response]");break}if(o==c_){n.o=4,Nr(15),sh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}sh(n.j,n.m,o,null),lh(n,o)}$I(n)&&o!=u_&&o!=c_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Nr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),fu(e),e.L=!0,Nr(11))):(sh(n.j,n.m,t,"[Invalid Chunked Response]"),sc(n),ah(n))}function Rp(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?u_:(t=Number(e.substring(t,r)),isNaN(t)?c_:(r+=1)+t>e.length?u_:(e=e.substr(r,t),n.C=r+t,e))}function kp(n){n.Y=Date.now()+n.P,Qb(n,n.P)}function Qb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mp(pi(n.eb,n),e)}function h_(n){n.B&&(Kt.clearTimeout(n.B),n.B=null)}function ah(n){0==n.l.G||n.I||tT(n.l,n)}function sc(n){h_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,i_(n.W),PM(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function lh(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||g_(t.i,n)))if(t.I=n.N,!n.J&&g_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Mp(pi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;D_(t),T_(t)}uE(t),Nr(18)}if(1>=nE(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else lc(t,11)}else if((n.J||t.g==n)&&D_(t),!Ab(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const T=C[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const D=C[4];null!=D&&(t.za=D,t.h.info("SVER="+t.za));const U=C[5];null!=U&&"number"==typeof U&&0<U&&(t.K=r=1.5*U,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const Y=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var l=r.i;!l.g&&(ds(Y,"spdy")||ds(Y,"quic")||ds(Y,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(m_(l,l.h),l.h=null))}if(r.D){const Te=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;Te&&(r.sa=Te,Xn(r.F,r.D,Te))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=hE(r,r.H?r.la:null,r.W),h.J){rE(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(h_(p),kp(p)),r.g=h}else cE(r);0<t.l.length&&S_(t)}else"stop"!=C[0]&&"close"!=C[0]||lc(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?lc(t,7):oE(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}oh(4)}catch(C){}}function f_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qm(n)||"string"==typeof n)mI(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(qm(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;o=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(qm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}}function du(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof du)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Op(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];va(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)va(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function va(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ut=Ki.prototype).setTimeout=function(n){this.P=n},ut.gb=function(n){n=n.target;const e=this.L;e&&3==al(n)?e.l():this.Ia(n)},ut.Ia=function(n){try{if(n==this.g)e:{const T=al(this.g);var e=this.g.Da();const D=this.g.ba();if(!(3>T)&&(3!=T||xb||this.g&&(this.h.h||this.g.ga()||sE(this.g)))){this.I||4!=T||7==e||oh(8==e||0>=D?3:2),h_(this);var t=this.g.ba();this.N=t;t:if($I(this)){var r=sE(this.g);n="";var o=r.length,l=4==al(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){sc(this),ah(this);var h="";break t}this.h.i=new Kt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,v=this.g;if((p=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ab(p)){var C=p;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Nr(12),sc(this),ah(this);break e}sh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lh(this,t)}this.U?(d_(this,T,h),xb&&this.i&&3==T&&(zb(this.V,this.W,"tick",this.fb),this.W.start())):(sh(this.j,this.m,h,null),lh(this,h)),4==T&&sc(this),this.i&&!this.I&&(4==T?tT(this.l,this):(this.i=!1,kp(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Nr(12)):(this.o=0,Nr(13)),sc(this),ah(this)}}}catch(T){}},ut.fb=function(){if(this.g){var n=al(this.g),e=this.g.ga();this.C<e.length&&(h_(this),d_(this,n,e),this.i&&4!=n&&kp(this))}},ut.cancel=function(){this.I=!0,sc(this)},ut.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(oh(3),Nr(17)),sc(this),this.o=2,ah(this)):Qb(this,this.Y-n)},(ut=du.prototype).R=function(){Op(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ut.T=function(){return Op(this),this.g.concat()},ut.get=function(n,e){return va(this.h,n)?this.h[n]:e},ut.set=function(n,e){va(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ut.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],l=this.get(o);n.call(e,l,o,this)}};var Jb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function oc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof oc){this.g=void 0!==e?e:n.g,Pp(this,n.j),this.s=n.s,Np(this,n.i),Fp(this,n.m),this.l=n.l,e=n.h;var t=new Up;t.i=e.i,e.g&&(t.g=new du(e.g),t.h=e.h),Xb(this,t),this.o=n.o}else n&&(t=String(n).match(Jb))?(this.g=!!e,Pp(this,t[1]||"",!0),this.s=Lp(t[2]||""),Np(this,t[3]||"",!0),Fp(this,t[4]),this.l=Lp(t[5]||"",!0),Xb(this,t[6]||"",!0),this.o=Lp(t[7]||"")):(this.g=!!e,this.h=new Up(null,this.g))}function ba(n){return new oc(n)}function Pp(n,e,t){n.j=t?Lp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Np(n,e,t){n.i=t?Lp(e,!0):e}function Fp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Xb(n,e,t){e instanceof Up?(n.h=e,function(n,e){e&&!n.j&&(ac(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(qI(this,r),WI(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Vp(e,HM)),n.h=new Up(e,n.g))}function Xn(n,e,t){n.h.set(e,t)}function p_(n){return Xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,BM),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function BM(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}oc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vp(e,GI,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vp(e,GI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vp(t,"/"==t.charAt(0)?$M:jM,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vp(t,GM)),n.join("")};var GI=/[#\/\?@]/g,jM=/[#\?:]/g,$M=/[#\?]/g,HM=/[#\?@]/g,GM=/#/g;function Up(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ac(n){n.g||(n.g=new du,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function qI(n,e){ac(n),e=ch(n,e),va(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,va((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Op(n)))}function zI(n,e){return ac(n),e=ch(n,e),va(n.g.h,e)}function WI(n,e,t){qI(n,e),0<t.length&&(n.i=null,n.g.set(ch(n,e),Wm(t)),n.h+=t.length)}function ch(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function eE(n){this.l=n||YI,n=Kt.PerformanceNavigationTiming?0<(n=Kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Kt.g&&Kt.g.Ea&&Kt.g.Ea()&&Kt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ut=Up.prototype).add=function(n,e){ac(this),this.i=null,n=ch(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ut.forEach=function(n,e){ac(this),this.g.forEach(function(t,r){mI(t,function(o){n.call(e,o,r,this)},this)},this)},ut.T=function(){ac(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],l=0;l<o.length;l++)t.push(e[r]);return t},ut.R=function(n){ac(this);var e=[];if("string"==typeof n)zI(this,n)&&(e=_I(e,this.g.get(ch(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=_I(e,n[t])}return e},ut.set=function(n,e){return ac(this),this.i=null,zI(this,n=ch(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ut.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=o;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var YI=10;function tE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nE(n){return n.h?1:n.g?n.g.size:0}function g_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function m_(n,e){n.g?n.g.add(e):n.h=e}function rE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function __(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Wm(n.i)}function y_(){}function hu(){this.g=new y_}function qM(n,e,t){const r=t||"";try{f_(n,function(o,l){let h=o;Xd(o)&&(h=Sp(o)),e.push(r+l+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function ol(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(l){}}function v_(n){this.l=n.$b||null,this.j=n.ib||!1}function uh(n,e){Pr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=QI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eE.prototype.cancel=function(){if(this.i=__(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},y_.prototype.stringify=function(n){return Kt.JSON.stringify(n,void 0)},y_.prototype.parse=function(n){return Kt.JSON.parse(n,void 0)},gi(v_,a_),v_.prototype.g=function(){return new uh(this.l,this.j)},v_.prototype.i=function(n){return function(){return n}}({}),gi(uh,Pr);var QI=0;function iE(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function dh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,b_(n)}function b_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ut=uh.prototype).open=function(n,e){if(this.readyState!=QI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,b_(this)},ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Kt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dh(this)),this.readyState=QI},ut.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,b_(this)),this.g&&(this.readyState=3,b_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Kt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iE(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ut.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?dh(this):b_(this),3==this.readyState&&iE(this)}},ut.Ua=function(n){this.g&&(this.response=this.responseText=n,dh(this))},ut.Ta=function(n){this.g&&(this.response=n,dh(this))},ut.ha=function(){this.g&&dh(this)},ut.setRequestHeader=function(n,e){this.v.append(n,e)},ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var kt=Kt.JSON.parse;function Fr(n){Pr.call(this),this.headers=new du,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=JI,this.K=this.L=!1}gi(Fr,Pr);var JI="",WM=/^https?$/i,E_=["POST","PUT"];function w_(n){return"content-type"==n.toLowerCase()}function Bp(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,hr(n),jp(n)}function hr(n){n.D||(n.D=!0,si(n,"complete"),si(n,"error"))}function KM(n){if(n.h&&void 0!==Gm&&(!n.C[1]||4!=al(n)||2!=n.ba()))if(n.v&&4==al(n))s_(n.Fa,0,n);else if(si(n,"readystatechange"),4==al(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var o=String(n.H).match(Jb)[1]||null;if(!o&&Kt.self&&Kt.self.location){var l=Kt.self.location.protocol;o=l.substr(0,l.length-1)}r=!WM.test(o?o.toLowerCase():"")}t=r}if(t)si(n,"complete"),si(n,"success");else{n.m=6;try{var h=2<al(n)?n.g.statusText:""}catch(v){h=""}n.j=h+" ["+n.ba()+"]",hr(n)}}finally{jp(n)}}}function jp(n,e){if(n.g){C_(n);const t=n.g,r=n.C[0]?wp:null;n.g=null,n.C=null,e||si(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function C_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Kt.clearTimeout(n.A),n.A=null)}function al(n){return n.g?n.g.readyState:0}function sE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case JI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function I_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Cp(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Xn(n,e,t))}function hh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function eT(n){this.za=0,this.l=[],this.h=new o_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=hh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=hh("baseRetryDelayMs",5e3,n),this.$a=hh("retryDelaySeedMs",1e4,n),this.Ya=hh("forwardChannelMaxRetries",2,n),this.ra=hh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new eE(n&&n.concurrentRequestLimit),this.Ca=new hu,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function oE(n){if(fh(n),3==n.G){var e=n.V++,t=ba(n.F);Xn(t,"SID",n.J),Xn(t,"RID",e),Xn(t,"TYPE","terminate"),ph(n,t),(e=new Ki(n,n.h,e,void 0)).K=2,e.v=p_(ba(t)),t=!1,Kt.navigator&&Kt.navigator.sendBeacon&&(t=Kt.navigator.sendBeacon(e.v.toString(),"")),!t&&Kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=rT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),kp(e)}dE(n)}function T_(n){n.g&&(fu(n),n.g.cancel(),n.g=null)}function fh(n){T_(n),n.u&&(Kt.clearTimeout(n.u),n.u=null),D_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Kt.clearTimeout(n.m),n.m=null)}function aE(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&S_(n)}function S_(n){tE(n.i)||n.m||(n.m=!0,n_(n.Ha,n),n.C=0)}function $p(n,e){var t;t=e?e.m:n.V++;const r=ba(n.F);Xn(r,"SID",n.J),Xn(r,"RID",t),Xn(r,"AID",n.U),ph(n,r),n.o&&n.s&&I_(r,n.o,n.s),t=new Ki(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=lE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),m_(n.i,t),Yb(t,r,e)}function ph(n,e){n.j&&f_({},function(t,r){Xn(e,r,t)})}function lE(n,e,t){t=Math.min(n.l.length,t);var r=n.j?pi(n.j.Oa,n.j,n):null;e:{var o=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=o[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let p=!0;for(let v=0;v<t;v++){let C=o[v].h;const T=o[v].g;if(C-=l,0>C)l=Math.max(0,o[v].h-100),p=!1;else try{qM(T,h,"req"+C+"_")}catch(D){r&&r(T)}}if(p){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function cE(n){n.g||n.u||(n.Y=1,n_(n.Ga,n),n.A=0)}function uE(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Mp(pi(n.Ga,n),nT(n,n.A)),n.A++,0))}function fu(n){null!=n.B&&(Kt.clearTimeout(n.B),n.B=null)}function gh(n){n.g=new Ki(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ba(n.oa);Xn(e,"RID","rpc"),Xn(e,"SID",n.J),Xn(e,"CI",n.N?"0":"1"),Xn(e,"AID",n.U),ph(n,e),Xn(e,"TYPE","xmlhttp"),n.o&&n.s&&I_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=p_(ba(e)),t.s=null,t.U=!0,jI(t,n)}function D_(n){null!=n.v&&(Kt.clearTimeout(n.v),n.v=null)}function tT(n,e){var t=null;if(n.g==e){D_(n),fu(n),n.g=null;var r=2}else{if(!g_(n.i,e))return;t=e.D,rE(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;si(r=Ap(),new VI(r,t,e,o)),S_(n)}else cE(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(nE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Mp(pi(n.Ha,n,e),nT(n,n.C)),n.C++,0)))}(n,e)||2==r&&uE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:lc(n,5);break;case 4:lc(n,10);break;case 3:lc(n,6);break;default:lc(n,2)}}function nT(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function lc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=pi(n.jb,n);t||(t=new oc("//www.google.com/images/cleardot.gif"),Kt.location&&"http"==Kt.location.protocol||Pp(t,"https"),p_(t)),function(n,e){const t=new o_;if(Kt.Image){const r=new Image;r.onload=Db(ol,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Db(ol,t,r,"TestLoadImage: error",!1,e),r.onabort=Db(ol,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Db(ol,t,r,"TestLoadImage: timeout",!1,e),Kt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Nr(2);n.G=0,n.j&&n.j.va(e),dE(n),fh(n)}function dE(n){n.G=0,n.I=-1,n.j&&((0!=__(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Wm(n.l),n.l.length=0),n.j.ua())}function hE(n,e,t){let r=function(n){return n instanceof oc?ba(n):new oc(n,void 0)}(t);if(""!=r.i)e&&Np(r,e+"."+r.i),Fp(r,r.m);else{const o=Kt.location;r=function(n,e,t,r){var o=new oc(null,void 0);return n&&Pp(o,n),e&&Np(o,e),t&&Fp(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Cp(n.aa,function(o,l){Xn(r,l,o)}),t=n.sa,(e=n.D)&&t&&Xn(r,e,t),Xn(r,"VER",n.ma),ph(n,r),r}function rT(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Fr(t&&n.Ba&&!n.qa?new v_({ib:!0}):n.qa)).L=n.H,e}function fE(){}function A_(){if(ou&&!(10<=Number(RM)))throw Error("Environmental error: no available transport.")}function Ls(n,e){Pr.call(this),this.g=new eT(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ab(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ab(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Hp(this)}function QM(n){io.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function JM(){Zb.call(this),this.status=1}function Hp(n){this.g=n}(ut=Fr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Kb.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Kb),this.g.onreadystatechange=pi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Bp(this,l)}n=t||"";const o=new du(this.headers);r&&f_(r,function(l,h){o.set(h,l)}),r=function(n){e:{var e=w_;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Kt.FormData&&n instanceof Kt.FormData,!(0<=gI(E_,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{C_(this),0<this.B&&((this.K=function(n){return ou&&xM()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pi(this.pa,this)):this.A=s_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Bp(this,l)}},ut.pa=function(){void 0!==Gm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,si(this,"timeout"),this.abort(8))},ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,si(this,"complete"),si(this,"abort"),jp(this))},ut.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jp(this,!0)),Fr.Z.M.call(this)},ut.Fa=function(){this.s||(this.F||this.v||this.l?KM(this):this.cb())},ut.cb=function(){KM(this)},ut.ba=function(){try{return 2<al(this)?this.g.status:-1}catch(n){return-1}},ut.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ut.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),kt(e)}},ut.Da=function(){return this.m},ut.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=eT.prototype).ma=8,ut.G=1,ut.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ut.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Ki(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Zm(l),SM(l,this.P)):l=this.P),null===this.o&&(o.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=lE(this,o,e),Xn(t=ba(this.F),"RID",n),Xn(t,"CVER",22),this.D&&Xn(t,"X-HTTP-Session-Id",this.D),ph(this,t),this.o&&l&&I_(t,this.o,l),m_(this.i,o),this.Ra&&Xn(t,"TYPE","init"),this.ja?(Xn(t,"$req",e),Xn(t,"SID","null"),o.$=!0,Yb(o,t,null)):Yb(o,t,e),this.G=2}}else 3==this.G&&(n?$p(this,n):0==this.l.length||tE(this.i)||$p(this))},ut.Ga=function(){if(this.u=null,gh(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Mp(pi(this.bb,this),n)}},ut.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nr(10),T_(this),gh(this))},ut.ab=function(){null!=this.v&&(this.v=null,T_(this),uE(this),Nr(19))},ut.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Nr(2)):(this.h.info("Failed to ping google.com"),Nr(1))},(ut=fE.prototype).xa=function(){},ut.wa=function(){},ut.va=function(){},ut.ua=function(){},ut.Oa=function(){},A_.prototype.g=function(n,e){return new Ls(n,e)},gi(Ls,Pr),Ls.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),n_(pi(n.hb,n,e))),Nr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=hE(n,null,n.W),S_(n)},Ls.prototype.close=function(){oE(this.g)},Ls.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,aE(this.g,e)}else this.v?((e={}).__data__=Sp(n),aE(this.g,e)):aE(this.g,n)},Ls.prototype.M=function(){this.g.j=null,delete this.j,oE(this.g),delete this.g,Ls.Z.M.call(this)},gi(QM,io),gi(JM,Zb),gi(Hp,fE),Hp.prototype.xa=function(){si(this.g,"a")},Hp.prototype.wa=function(n){si(this.g,new QM(n))},Hp.prototype.va=function(n){si(this.g,new JM(n))},Hp.prototype.ua=function(){si(this.g,"b")},A_.prototype.createWebChannel=A_.prototype.g,Ls.prototype.send=Ls.prototype.u,Ls.prototype.open=Ls.prototype.m,Ls.prototype.close=Ls.prototype.close,xp.NO_ERROR=0,xp.TIMEOUT=8,xp.HTTP_ERROR=6,UI.COMPLETE="complete",l_.EventType=uu,uu.OPEN="a",uu.CLOSE="b",uu.ERROR="c",uu.MESSAGE="d",Pr.prototype.listen=Pr.prototype.N,Fr.prototype.listenOnce=Fr.prototype.O,Fr.prototype.getLastError=Fr.prototype.La,Fr.prototype.getLastErrorCode=Fr.prototype.Da,Fr.prototype.getStatus=Fr.prototype.ba,Fr.prototype.getResponseJson=Fr.prototype.Qa,Fr.prototype.getResponseText=Fr.prototype.ga,Fr.prototype.send=Fr.prototype.ea;var i1=ya.createWebChannelTransport=function(){return new A_},iT=ya.getStatEventTarget=function(){return Ap()},mh=ya.ErrorCode=xp,XM=ya.EventType=UI,ex=ya.Event=cu,pE=ya.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Gp=ya.FetchXmlHttpFactory=v_,M_=ya.WebChannel=l_,tx=ya.XhrIo=Fr;const sT="@firebase/firestore";class _i{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");let _h="9.6.3";const ll=new Ns.Yd("@firebase/firestore");function gE(){return ll.logLevel}function Ze(n,...e){if(ll.logLevel<=Ns.in.DEBUG){const t=e.map(mE);ll.debug(`Firestore (${_h}): ${n}`,...t)}}function Lr(n,...e){if(ll.logLevel<=Ns.in.ERROR){const t=e.map(mE);ll.error(`Firestore (${_h}): ${n}`,...t)}}function yh(n,...e){if(ll.logLevel<=Ns.in.WARN){const t=e.map(mE);ll.warn(`Firestore (${_h}): ${n}`,...t)}}function mE(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function wt(n="Unexpected state"){const e=`FIRESTORE (${_h}) INTERNAL ASSERTION FAILED: `+n;throw Lr(e),new Error(e)}function Gt(n,e){n||wt()}function it(n,e){return n}const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends Ut.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _E{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_i.UNAUTHENTICATED))}shutdown(){}}class ix{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sx{constructor(e){this.t=e,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let h=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Gr,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const C=h;e.enqueueRetryable((0,Me.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},v=C=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(C=>v(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?v(C):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Gr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt("string"==typeof r.accessToken),new _E(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gt(null===e||"string"==typeof e),new _i(e)}}class yE{constructor(e,t,r){this.type="FirstParty",this.user=_i.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class ox{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new yE(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(_i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ax{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=o=>{e.enqueueRetryable(()=>{return null!=(l=o).error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),t(l.token);var l})};const r=o=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gt("string"==typeof t.token),new vE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Vs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function lx(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Vs.I=-1;class aT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=lx(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%e.length))}return r}}function _n(n,e){return n<e?-1:n>e?1:0}function vh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function lT(n){return n+"\0"}class qr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new qe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qr.fromMillis(Date.now())}static fromDate(e){return qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_n(this.nanoseconds,e.nanoseconds):_n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class en{constructor(e){this.timestamp=e}static fromTimestamp(e){return new en(e)}static min(){return new en(new qr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function cT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class qp{constructor(e,t,r){void 0===t?t=0:t>e.length&&wt(),void 0===r?r=e.length-t:r>e.length-t&&wt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===qp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Dn extends qp{construct(e,t,r){return new Dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(De.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Dn(t)}static emptyPath(){return new Dn([])}}const cx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends qp{construct(e,t,r){return new zr(e,t,r)}static isValidIdentifier(e){return cx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new qe(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const p=e[o];if("\\"===p){if(o+1===e.length)throw new qe(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new qe(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===p?(h=!h,o++):"."!==p||h?(r+=p,o++):(l(),o++)}if(l(),h)throw new qe(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(t)}static emptyPath(){return new zr([])}}class cc{constructor(e){this.fields=e,e.sort(zr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Sr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uc(n){if(Gt(!!n),"string"==typeof n){let e=0;const t=ux.exec(n);if(Gt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wr(n.seconds),nanos:wr(n.nanos)}}function wr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function bh(n){return"string"==typeof n?Sr.fromBase64String(n):Sr.fromUint8Array(n)}function x_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dT(n){const e=n.mapValue.fields.__previous_value__;return x_(e)?dT(e):e}function Eh(n){const e=uc(n.mapValue.fields.__local_write_time__.timestampValue);return new qr(e.seconds,e.nanos)}function dc(n){return null==n}function zp(n){return 0===n&&1/n==-1/0}function dx(n){return"number"==typeof n&&Number.isInteger(n)&&!zp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Et{constructor(e){this.path=e}static fromPath(e){return new Et(Dn.fromString(e))}static fromName(e){return new Et(Dn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Et(new Dn(e.slice()))}}function oo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?x_(n)?4:10:wt()}function cl(n,e){if(n===e)return!0;const t=oo(n);if(t!==oo(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Eh(n).isEqual(Eh(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=uc(r.timestampValue),h=uc(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,bh(n.bytesValue).isEqual(bh(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return wr(r.geoPointValue.latitude)===wr(o.geoPointValue.latitude)&&wr(r.geoPointValue.longitude)===wr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return wr(r.integerValue)===wr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=wr(r.doubleValue),h=wr(o.doubleValue);return l===h?zp(l)===zp(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return vh(n.arrayValue.values||[],e.arrayValue.values||[],cl);case 10:return function(r,o){const l=r.mapValue.fields||{},h=o.mapValue.fields||{};if(cT(l)!==cT(h))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===h[p]||!cl(l[p],h[p])))return!1;return!0}(n,e);default:return wt()}var o}function gu(n,e){return void 0!==(n.values||[]).find(t=>cl(t,e))}function ul(n,e){if(n===e)return 0;const t=oo(n),r=oo(e);if(t!==r)return _n(t,r);switch(t){case 0:return 0;case 1:return _n(n.booleanValue,e.booleanValue);case 2:return function(o,l){const h=wr(o.integerValue||o.doubleValue),p=wr(l.integerValue||l.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return hT(n.timestampValue,e.timestampValue);case 4:return hT(Eh(n),Eh(e));case 5:return _n(n.stringValue,e.stringValue);case 6:return function(o,l){const h=bh(o),p=bh(l);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),p=l.split("/");for(let v=0;v<h.length&&v<p.length;v++){const C=_n(h[v],p[v]);if(0!==C)return C}return _n(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const h=_n(wr(o.latitude),wr(l.latitude));return 0!==h?h:_n(wr(o.longitude),wr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const h=o.values||[],p=l.values||[];for(let v=0;v<h.length&&v<p.length;++v){const C=ul(h[v],p[v]);if(C)return C}return _n(h.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){const h=o.fields||{},p=Object.keys(h),v=l.fields||{},C=Object.keys(v);p.sort(),C.sort();for(let T=0;T<p.length&&T<C.length;++T){const D=_n(p[T],C[T]);if(0!==D)return D;const U=ul(h[p[T]],v[C[T]]);if(0!==U)return U}return _n(p.length,C.length)}(n.mapValue,e.mapValue);default:throw wt()}}function hT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return _n(n,e);const t=uc(n),r=uc(e),o=_n(t.seconds,r.seconds);return 0!==o?o:_n(t.nanos,r.nanos)}function hc(n){return EE(n)}function EE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=uc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?bh(n.bytesValue).toBase64():"referenceValue"in n?Et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const h of r.values||[])l?l=!1:o+=",",o+=EE(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const p of o)h?h=!1:l+=",",l+=`${p}:${EE(r.fields[p])}`;return l+"}"}(n.mapValue):wt();var e}function wE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function CE(n){return!!n&&"integerValue"in n}function ao(n){return!!n&&"arrayValue"in n}function IE(n){return!!n&&"nullValue"in n}function hx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mu(n){return!!n&&"mapValue"in n}function Wp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wp(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Pi{constructor(e){this.value=e}static empty(){return new Pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wp(t)}setAll(e){let t=zr.emptyPath(),r={},o=[];e.forEach((h,p)=>{if(!t.isImmediateParentOf(p)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=p.popLast()}h?r[p.lastSegment()]=Wp(h):o.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());mu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];mu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){pu(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Pi(Wp(this.value))}}function fx(n){const e=[];return pu(n.fields,(t,r)=>{const o=new zr([t]);if(mu(r)){const l=fx(r.mapValue).fields;if(0===l.length)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new cc(e)}class er{constructor(e,t,r,o,l){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new er(e,0,en.min(),Pi.empty(),0)}static newFoundDocument(e,t,r){return new er(e,1,t,r,0)}static newNoDocument(e,t){return new er(e,2,t,Pi.empty(),0)}static newUnknownDocument(e,t){return new er(e,3,t,Pi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new er(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class px{constructor(e,t=null,r=[],o=[],l=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=h,this.endAt=p,this.R=null}}function fT(n,e=null,t=[],r=[],o=null,l=null,h=null){return new px(n,e,t,r,o,l,h)}function _u(n){const e=it(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+hc(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),dc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=yu(e.startAt)),e.endAt&&(t+="|ub:",t+=yu(e.endAt)),e.R=t}return e.R}function wh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!_T(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!cl(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Yp(n.startAt,e.startAt)&&Yp(n.endAt,e.endAt)}function Zp(n){return Et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Yi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new gx(e,t,r):"array-contains"===t?new gT(e,r):"in"===t?new mT(e,r):"not-in"===t?new yx(e,r):"array-contains-any"===t?new vx(e,r):new Yi(e,t,r)}static P(e,t,r){return"in"===t?new mx(e,r):new _x(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ul(t,this.value)):null!==t&&oo(this.value)===oo(t)&&this.v(ul(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gx extends Yi{constructor(e,t,r){super(e,t,r),this.key=Et.fromName(r.referenceValue)}matches(e){const t=Et.comparator(e.key,this.key);return this.v(t)}}class mx extends Yi{constructor(e,t){super(e,"in",t),this.keys=TE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _x extends Yi{constructor(e,t){super(e,"not-in",t),this.keys=TE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Et.fromName(r.referenceValue))}class gT extends Yi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ao(t)&&gu(t.arrayValue,this.value)}}class mT extends Yi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gu(this.value.arrayValue,t)}}class yx extends Yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gu(this.value.arrayValue,t)}}class vx extends Yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ao(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gu(this.value.arrayValue,r))}}class Ch{constructor(e,t){this.position=e,this.before=t}}function yu(n){return`${n.before?"b":"a"}:${n.position.map(e=>hc(e)).join(",")}`}class Ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function _T(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Kp(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(r=l.field.isKeyField()?Et.comparator(Et.fromName(h.referenceValue),t.key):ul(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function Yp(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cl(n.position[t],e.position[t]))return!1;return!0}class Us{constructor(e,t=null,r=[],o=[],l=null,h="F",p=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=h,this.startAt=p,this.endAt=v,this.S=null,this.D=null}}function yT(n,e,t,r,o,l,h,p){return new Us(n,e,t,r,o,l,h,p)}function Th(n){return new Us(n)}function SE(n){return!dc(n.limit)&&"F"===n.limitType}function R_(n){return!dc(n.limit)&&"L"===n.limitType}function DE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function AE(n){for(const e of n.filters)if(e.V())return e.field;return null}function ME(n){return null!==n.collectionGroup}function Sh(n){const e=it(n);if(null===e.S){e.S=[];const t=AE(e),r=DE(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new Ih(t)),e.S.push(new Ih(zr.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.S.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Ih(zr.keyField(),l))}}}return e.S}function lo(n){const e=it(n);if(!e.D)if("F"===e.limitType)e.D=fT(e.path,e.collectionGroup,Sh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Sh(e))t.push(new Ih(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Ch(e.endAt.position,!e.endAt.before):null,o=e.startAt?new Ch(e.startAt.position,!e.startAt.before):null;e.D=fT(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.D}function vT(n,e,t){return new Us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qp(n,e){return wh(lo(n),lo(e))&&n.limitType===e.limitType}function bT(n){return`${_u(lo(n))}|lt:${n.limitType}`}function ET(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${hc(r.value)}`;var r}).join(", ")}]`),dc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+yu(n.startAt)),n.endAt&&(e+=", endAt: "+yu(n.endAt)),`Target(${e})`}(lo(n))}; limitType=${n.limitType})`}function Jp(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Et.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!Kp(t.startAt,Sh(t),r)||t.endAt&&Kp(t.endAt,Sh(t),r)));var t,r}function Dh(n){return(e,t)=>{let r=!1;for(const o of Sh(n)){const l=bx(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function bx(n,e,t){const r=n.field.isKeyField()?Et.comparator(e.key,t.key):function(o,l,h){const p=l.data.field(o),v=h.data.field(o);return null!==p&&null!==v?ul(p,v):wt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return wt()}}function wT(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zp(e)?"-0":e}}function CT(n){return{integerValue:""+n}}function Xp(n,e){return dx(e)?CT(e):wT(n,e)}class Ea{constructor(){this._=void 0}}function IT(n,e,t){return n instanceof Ah?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof wa?TT(n,e):n instanceof vu?xE(n,e):function(r,o){const l=wx(r,o),h=k_(l)+k_(r.N);return CE(l)&&CE(r.N)?CT(h):wT(r.k,h)}(n,e)}function Ex(n,e,t){return n instanceof wa?TT(n,e):n instanceof vu?xE(n,e):t}function wx(n,e){return n instanceof bu?CE(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ah extends Ea{}class wa extends Ea{constructor(e){super(),this.elements=e}}function TT(n,e){const t=RE(e);for(const r of n.elements)t.some(o=>cl(o,r))||t.push(r);return{arrayValue:{values:t}}}class vu extends Ea{constructor(e){super(),this.elements=e}}function xE(n,e){let t=RE(e);for(const r of n.elements)t=t.filter(o=>!cl(o,r));return{arrayValue:{values:t}}}class bu extends Ea{constructor(e,t){super(),this.k=e,this.N=t}}function k_(n){return wr(n.integerValue||n.doubleValue)}function RE(n){return ao(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mh{constructor(e,t){this.field=e,this.transform=t}}class Ix{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function O_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class eg{}function P_(n,e,t){n instanceof co?function(r,o,l){const h=r.value.clone(),p=Tx(r.fieldTransforms,o,l.transformResults);h.setAll(p),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Bs?function(r,o,l){if(!O_(r.precondition,o))return void o.convertToUnknownDocument(l.version);const h=Tx(r.fieldTransforms,o,l.transformResults),p=o.data;p.setAll(kh(r)),p.setAll(h),o.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xh(n,e,t){var o;n instanceof co?function(r,o,l){if(!O_(r.precondition,o))return;const h=r.value.clone(),p=Yt(r.fieldTransforms,l,o);h.setAll(p),o.convertToFoundDocument(An(o),h).setHasLocalMutations()}(n,e,t):n instanceof Bs?function(r,o,l){if(!O_(r.precondition,o))return;const h=Yt(r.fieldTransforms,l,o),p=o.data;p.setAll(kh(r)),p.setAll(h),o.convertToFoundDocument(An(o),p).setHasLocalMutations()}(n,e,t):O_(n.precondition,o=e)&&o.convertToNoDocument(en.min())}function a1(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=wx(r.transform,o||null);null!=l&&(null==t&&(t=Pi.empty()),t.set(r.field,l))}return t||null}function Rh(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&vh(t,r,(o,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wa&&r instanceof wa||t instanceof vu&&r instanceof vu?vh(t.elements,r.elements,cl):t instanceof bu&&r instanceof bu?cl(t.N,r.N):t instanceof Ah&&r instanceof Ah);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function An(n){return n.isFoundDocument()?n.version:en.min()}class co extends eg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Bs extends eg{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}}function kh(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Tx(n,e,t){const r=new Map;Gt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,p=e.data.field(l.field);r.set(l.field,Ex(h,p,t[o]))}return r}function Yt(n,e,t){const r=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);r.set(o.field,IT(l,h,e))}return r}class Ni extends eg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class tg extends eg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Eu{constructor(e){this.count=e}}var Wr,vn;function kE(n){switch(n){default:return wt();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function Sx(n){if(void 0===n)return Lr("GRPC error has no .code"),De.UNKNOWN;switch(n){case Wr.OK:return De.OK;case Wr.CANCELLED:return De.CANCELLED;case Wr.UNKNOWN:return De.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return De.INTERNAL;case Wr.UNAVAILABLE:return De.UNAVAILABLE;case Wr.UNAUTHENTICATED:return De.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case Wr.NOT_FOUND:return De.NOT_FOUND;case Wr.ALREADY_EXISTS:return De.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return De.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case Wr.ABORTED:return De.ABORTED;case Wr.OUT_OF_RANGE:return De.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return De.UNIMPLEMENTED;case Wr.DATA_LOSS:return De.DATA_LOSS;default:return wt()}}(vn=Wr||(Wr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class Zr{constructor(e,t){this.comparator=e,this.root=t||jn.EMPTY}insert(e,t){return new Zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(e){return new Zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new N_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new N_(this.root,e,this.comparator,!1)}getReverseIterator(){return new N_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new N_(this.root,e,this.comparator,!0)}}class N_{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jn{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=null!=r?r:jn.RED,this.left=null!=o?o:jn.EMPTY,this.right=null!=l?l:jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new jn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return jn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1,jn.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new jn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new Zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uo(this.data.getIterator())}getIteratorFrom(e){return new uo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class uo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ST=new Zr(Et.comparator);function ho(){return ST}const DT=new Zr(Et.comparator);function ng(){return DT}const Oh=new Zr(Et.comparator);function Ph(){return Oh}const Dx=new nn(Et.comparator);function bn(...n){let e=Dx;for(const t of n)e=e.add(t);return e}const Ax=new nn(_n);function rg(){return Ax}class wu{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,dl.createSynthesizedTargetChangeForCurrentChange(e,t)),new wu(en.min(),r,rg(),ho(),bn())}}class dl{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new dl(Sr.EMPTY_BYTE_STRING,t,bn(),bn(),bn())}}class Nh{constructor(e,t,r,o){this.$=e,this.removedTargetIds=t,this.key=r,this.O=o}}class OE{constructor(e,t){this.targetId=e,this.M=t}}class Cu{constructor(e,t,r=Sr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class AT{constructor(){this.F=0,this.L=NE(),this.B=Sr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=bn(),t=bn(),r=bn();return this.L.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:wt()}}),new dl(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=NE()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class F_{constructor(e){this.et=e,this.nt=new Map,this.st=ho(),this.it=PE(),this.rt=new nn(_n)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:wt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,o)=>{this.lt(o)&&t(o)})}dt(e){const t=e.targetId,r=e.M.count,o=this.wt(t);if(o){const l=o.target;if(Zp(l))if(0===r){const h=new Et(l.path);this.at(t,h,er.newNoDocument(h,en.min()))}else Gt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((l,h)=>{const p=this.wt(h);if(p){if(l.current&&Zp(p.target)){const v=new Et(p.target.path);null!==this.st.get(v)||this.yt(h,v)||this.at(h,v,er.newNoDocument(v,e))}l.j&&(t.set(h,l.G()),l.H())}});let r=bn();this.it.forEach((l,h)=>{let p=!0;h.forEachWhile(v=>{const C=this.wt(v);return!C||2===C.purpose||(p=!1,!1)}),p&&(r=r.add(l))});const o=new wu(e,t,this.rt,this.st,r);return this.st=ho(),this.it=PE(),this.rt=new nn(_n),o}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const o=this.ht(e);this.yt(e,t)?o.J(t,1):o.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new AT,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new nn(_n),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new AT),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function PE(){return new Zr(Et.comparator)}function NE(){return new Zr(Et.comparator)}const MT={asc:"ASCENDING",desc:"DESCENDING"},L_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Mx{constructor(e,t){this.databaseId=e,this.C=t}}function Iu(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V_(n,e){return n.C?e.toBase64():e.toUint8Array()}function l1(n,e){return Iu(n,e.toTimestamp())}function yi(n){return Gt(!!n),en.fromTimestamp(function(e){const t=uc(e);return new qr(t.seconds,t.nanos)}(n))}function qt(n,e){return(t=n,new Dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function xx(n){const e=Dn.fromString(n);return Gt(UT(e)),e}function hl(n,e){return qt(n.databaseId,e.path)}function Ca(n,e){const t=xx(e);if(t.get(1)!==n.databaseId.projectId)throw new qe(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new qe(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Et(Rx(t))}function FE(n,e){return qt(n.databaseId,e)}function xT(n){const e=xx(n);return 4===e.length?Dn.emptyPath():Rx(e)}function U_(n){return new Dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Rx(n){return Gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function RT(n,e,t){return{name:hl(n,e),fields:t.value.mapValue.fields}}function vi(n,e,t){const r=Ca(n,e.name),o=yi(e.updateTime),l=new Pi({mapValue:{fields:e.fields}}),h=er.newFoundDocument(r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Fh(n,e){let t;if(e instanceof co)t={update:RT(n,e.key,e.value)};else if(e instanceof Ni)t={delete:hl(n,e.key)};else if(e instanceof Bs)t={update:RT(n,e.key,e.data),updateMask:Vx(e.fieldMask)};else{if(!(e instanceof tg))return wt();t={verify:hl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const h=l.transform;if(h instanceof Ah)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof wa)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof bu)return{fieldPath:l.field.canonicalString(),increment:h.N};throw wt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:l1(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:wt()),t;var o}function kT(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Dr.updateTime(yi(o.updateTime)):void 0!==o.exists?Dr.exists(o.exists):Dr.none():Dr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,h){let p=null;"setToServerValue"in h?(Gt("REQUEST_TIME"===h.setToServerValue),p=new Ah):"appendMissingElements"in h?p=new wa(h.appendMissingElements.values||[]):"removeAllFromArray"in h?p=new vu(h.removeAllFromArray.values||[]):"increment"in h?p=new bu(l,h.increment):wt();const v=zr.fromServerFormat(h.fieldPath);return new Mh(v,p)}(n,o)):[];var o;if(e.update){const o=Ca(n,e.update.name),l=new Pi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new cc((e.updateMask.fieldPaths||[]).map(C=>zr.fromServerFormat(C)));return new Bs(o,l,h,t,r)}return new co(o,l,t,r)}if(e.delete){const o=Ca(n,e.delete);return new Ni(o,t)}if(e.verify){const o=Ca(n,e.verify);return new tg(o,t)}return wt()}function OT(n,e){return{documents:[FE(n,e.path)]}}function PT(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=FE(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=FE(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(p){if(0===p.length)return;const v=p.map(C=>function(T){if("=="===T.op){if(hx(T.value))return{unaryFilter:{field:Lh(T.field),op:"IS_NAN"}};if(IE(T.value))return{unaryFilter:{field:Lh(T.field),op:"IS_NULL"}}}else if("!="===T.op){if(hx(T.value))return{unaryFilter:{field:Lh(T.field),op:"IS_NOT_NAN"}};if(IE(T.value))return{unaryFilter:{field:Lh(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lh(T.field),op:LE(T.op),value:T.value}}}(C));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(0!==p.length)return p.map(v=>{return{field:Lh((C=v).field),direction:VT(C.dir)};var C})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(v=e.limit,n.C||dc(v)?v:{value:v});var v;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=FT(e.startAt)),e.endAt&&(t.structuredQuery.endAt=FT(e.endAt)),t}function NT(n){let e=xT(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Gt(1===r);const T=t.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let l=[];t.where&&(l=B_(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(T=>{return new Ih(ig((D=T).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let p=null;t.limit&&(p=function(T){let D;return D="object"==typeof T?T.value:T,dc(D)?null:D}(t.limit));let v=null;t.startAt&&(v=LT(t.startAt));let C=null;return t.endAt&&(C=LT(t.endAt)),yT(e,o,h,l,p,"F",v,C)}function B_(n){return n?void 0!==n.unaryFilter?[Lx(n)]:void 0!==n.fieldFilter?[Fx(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>B_(e)).reduce((e,t)=>e.concat(t)):wt():[]}function FT(n){return{before:n.before,values:n.position}}function LT(n){return new Ch(n.values||[],!!n.before)}function VT(n){return MT[n]}function LE(n){return L_[n]}function Lh(n){return{fieldPath:n.canonicalString()}}function ig(n){return zr.fromServerFormat(n.fieldPath)}function Fx(n){return Yi.create(ig(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Lx(n){switch(n.unaryFilter.op){case"IS_NAN":const e=ig(n.unaryFilter.field);return Yi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=ig(n.unaryFilter.field);return Yi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ig(n.unaryFilter.field);return Yi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ig(n.unaryFilter.field);return Yi.create(o,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}function Vx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function UT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function xo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Vh(e)),e=Ux(n.get(t),e);return Vh(e)}function Ux(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Vh(n){return n+"\x01\x01"}function fl(n){const e=n.length;if(Gt(e>=2),2===e)return Gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Dn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&wt(),n.charAt(h+1)){case"\x01":const p=n.substring(l,h);let v;0===o.length?v=p:(o+=p,v=o,o=""),r.push(v);break;case"\x10":o+=n.substring(l,h),o+="\0";break;case"\x11":o+=n.substring(l,h+1);break;default:wt()}l=h+2}return new Dn(r)}class Bx{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class fs{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}fs.store="owner",fs.key="owner";class fo{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}fo.store="mutationQueues",fo.keyPath="userId";class tr{constructor(e,t,r,o,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=l}}tr.store="mutations",tr.keyPath="batchId",tr.userMutationsIndex="userMutationsIndex",tr.userMutationsKeyPath=["userId","batchId"];class bi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,xo(t)]}static key(e,t,r){return[e,xo(t),r]}}bi.store="documentMutations",bi.PLACEHOLDER=new bi;class jx{constructor(e,t){this.path=e,this.readTime=t}}class $x{constructor(e,t){this.path=e,this.version=t}}class Cr{constructor(e,t,r,o,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=l,this.parentPath=h}}Cr.store="remoteDocuments",Cr.readTimeIndex="readTimeIndex",Cr.readTimeIndexPath="readTime",Cr.collectionReadTimeIndex="collectionReadTimeIndex",Cr.collectionReadTimeIndexPath=["parentPath","readTime"];class Ia{constructor(e){this.byteSize=e}}Ia.store="remoteDocumentGlobal",Ia.key="remoteDocumentGlobalKey";class ps{constructor(e,t,r,o,l,h,p){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=p}}ps.store="targets",ps.keyPath="targetId",ps.queryTargetsIndexName="queryTargetsIndex",ps.queryTargetsKeyPath=["canonicalId","targetId"];class oi{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}oi.store="targetDocuments",oi.keyPath=["targetId","path"],oi.documentTargetsIndex="documentTargetsIndex",oi.documentTargetsKeyPath=["path","targetId"];class js{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}js.key="targetGlobalKey",js.store="targetGlobal";class Tu{constructor(e,t){this.collectionId=e,this.parent=t}}Tu.store="collectionParents",Tu.keyPath=["collectionId","parent"];class fc{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}fc.store="clientMetadata",fc.keyPath="clientId";class sg{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}sg.store="bundles",sg.keyPath="bundleId";class og{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}og.store="namedQueries",og.keyPath="name";const VE=[fo.store,tr.store,bi.store,Cr.store,ps.store,fs.store,js.store,oi.store,fc.store,Ia.store,Tu.store,sg.store,og.store],BT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new He((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof He?t:He.resolve(t)}catch(t){return He.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):He.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):He.reject(t)}static resolve(e){return new He((t,r)=>{t(e)})}static reject(e){return new He((t,r)=>{r(e)})}static waitFor(e){return new He((t,r)=>{let o=0,l=0,h=!1;e.forEach(p=>{++o,p.next(()=>{++l,h&&l===o&&t()},v=>r(v))}),h=!0,l===o&&t()})}static or(e){let t=He.resolve(!1);for(const r of e)t=t.next(o=>o?He.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}}class j_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Gr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Uh(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const o=$_(r.target.error);this.It.reject(new Uh(e,o))}}static open(e,t,r,o){try{return new j_(t,e.transaction(o,r))}catch(l){throw new Uh(t,l)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Gx(t)}}class Ro{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===Ro.bt((0,Ut.z$)())&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ze("SimpleDb","Removing database:",e),po(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Ut.hl)())return!1;if(Ro.vt())return!0;const e=(0,Ut.z$)(),t=Ro.bt(e),r=0<t&&t<10,o=Ro.Vt(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,Me.Z)(function*(){return t.db||(Ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{o(new Uh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const p=h.target.error;o("VersionError"===p.name?new qe(De.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new qe(De.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Uh(e,p))},l.onupgradeneeded=h=>{Ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Rt.Nt(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,Me.Z)(function*(){const h="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.Ct(e);const v=j_.open(l.db,e,h?"readonly":"readwrite",r),C=o(v).catch(T=>(v.abort(T),He.reject(T))).toPromise();return C.catch(()=>{}),yield v.At,C}catch(v){const C="FirebaseError"!==v.name&&p<3;if(Ze("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),l.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Hx{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return po(this.$t.delete())}}class Uh extends qe{constructor(e,t){super(De.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function pl(n){return"IndexedDbTransactionError"===n.name}class Gx{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),po(r)}add(e){return Ze("SimpleDb","ADD",this.store.name,e,e),po(this.store.add(e))}get(e){return po(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ze("SimpleDb","DELETE",this.store.name,e),po(this.store.delete(e))}count(){return Ze("SimpleDb","COUNT",this.store.name),po(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Ut(r,(l,h)=>{o.push(h)}).next(()=>o)}qt(e,t){Ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const o=this.cursor(r);return this.Ut(o,(l,h,p)=>p.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Ut(o,t)}Qt(e){const t=this.cursor({});return new He((r,o)=>{t.onerror=l=>{const h=$_(l.target.error);o(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(p=>{p?h.continue():r()}):r()}})}Ut(e,t){const r=[];return new He((o,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const p=h.target.result;if(!p)return void o();const v=new Hx(p),C=t(p.primaryKey,p.value,v);if(C instanceof He){const T=C.catch(D=>(v.done(),He.reject(D)));r.push(T)}v.isDone?o():null===v.Ft?p.continue():p.continue(v.Ft)}}).next(()=>He.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function po(n){return new He((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=$_(r.target.error);t(o)}})}let Ei=!1;function $_(n){const e=Ro.bt((0,Ut.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new qe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ei||(Ei=!0,setTimeout(()=>{throw r},0)),r}}return n}class go extends jT{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Fi(n,e){const t=it(n);return Ro.Dt(t.Wt,e)}class UE{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&P_(l,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&xh(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&xh(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(en.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bn())}isEqual(e){return this.batchId===e.batchId&&vh(this.mutations,e.mutations,(t,r)=>Rh(t,r))&&vh(this.baseMutations,e.baseMutations,(t,r)=>Rh(t,r))}}class H_{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Gt(e.mutations.length===r.length);let o=Ph();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,r[h].version);return new H_(e,t,r,o)}}class gl{constructor(e,t,r,o,l=en.min(),h=en.min(),p=Sr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p}withSequenceNumber(e){return new gl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new gl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class BE{constructor(e){this.Gt=e}}function jE(n,e){if(e.document)return vi(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Et.fromSegments(e.noDocument.path),r=ag(e.noDocument.readTime),o=er.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=Et.fromSegments(e.unknownDocument.path),r=ag(e.unknownDocument.version);return er.newUnknownDocument(t,r)}return wt()}function $T(n,e,t){const r=$E(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:hl(p=n.Gt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:Iu(p,v.version.toTimestamp())};return new Cr(null,null,l,e.hasCommittedMutations,r,o)}var p,v;if(e.isNoDocument()){const l=e.key.path.toArray(),h=Bh(e.version),p=e.hasCommittedMutations;return new Cr(null,new jx(l,h),null,p,r,o)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=Bh(e.version);return new Cr(new $x(l,h),null,null,!0,r,o)}return wt()}function $E(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function HE(n){const e=new qr(n[0],n[1]);return en.fromTimestamp(e)}function Bh(n){const e=n.toTimestamp();return new Bx(e.seconds,e.nanoseconds)}function ag(n){const e=new qr(n.seconds,n.nanoseconds);return en.fromTimestamp(e)}function jh(n,e){const t=(e.baseMutations||[]).map(l=>kT(n.Gt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>kT(n.Gt,l)),o=qr.fromMillis(e.localWriteTimeMs);return new UE(e.batchId,o,t,r)}function lg(n){const e=ag(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ag(n.lastLimboFreeSnapshotVersion):en.min();let r;var o;return void 0!==n.query.documents?(Gt(1===(o=n.query).documents.length),r=lo(Th(xT(o.documents[0])))):r=lo(NT(n.query)),new gl(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Sr.fromBase64String(n.resumeToken))}function Su(n,e){const t=Bh(e.snapshotVersion),r=Bh(e.lastLimboFreeSnapshotVersion);let o;o=Zp(e.target)?OT(n.Gt,e.target):PT(n.Gt,e.target);const l=e.resumeToken.toBase64();return new ps(e.targetId,_u(e.target),t,l,e.sequenceNumber,r,o)}function HT(n){const e=NT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vT(e,e.limit,"L"):e}class GT{getBundleMetadata(e,t){return qT(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:ag(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return qT(e).put({bundleId:(r=t).id,createTime:Bh(yi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return qx(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:HT(o.bundledQuery),readTime:ag(o.readTime)};var o})}saveNamedQuery(e,t){return qx(e).put({name:(r=t).name,readTime:Bh(yi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function qT(n){return Fi(n,sg.store)}function qx(n){return Fi(n,og.store)}class zT{constructor(){this.zt=new GE}addToCollectionParentIndex(e,t){return this.zt.add(t),He.resolve()}getCollectionParents(e,t){return He.resolve(this.zt.getEntries(t))}}class GE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new nn(Dn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new nn(Dn.comparator)).toArray()}}class qE{constructor(){this.Ht=new GE}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const l={collectionId:r,parent:xo(o)};return WT(e).put(l)}return He.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[lT(t),""],!1,!0);return WT(e).Bt(o).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(fl(h.parent))}return r})}}function WT(n){return Fi(n,Tu.store)}const zE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Qi(e,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ZT(n,e,t){const r=n.store(tr.store),o=n.store(bi.store),l=[],h=IDBKeyRange.only(t.batchId);let p=0;const v=r.jt({range:h},(T,D,U)=>(p++,U.delete()));l.push(v.next(()=>{Gt(1===p)}));const C=[];for(const T of t.mutations){const D=bi.key(e,T.key.path,t.batchId);l.push(o.delete(D)),C.push(T.key)}return He.waitFor(l).next(()=>C)}function cg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw wt();e=n.noDocument}return JSON.stringify(e).length}Qi.DEFAULT_COLLECTION_PERCENTILE=10,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qi.DEFAULT=new Qi(41943040,Qi.DEFAULT_COLLECTION_PERCENTILE,Qi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qi.DISABLED=new Qi(-1,0,0);class WE{constructor(e,t,r,o){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=o,this.Yt={}}static Xt(e,t,r,o){Gt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new WE(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).jt({index:tr.userMutationsIndex,range:r},(o,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=$h(e),h=pc(e);return h.add({}).next(p=>{Gt("number"==typeof p);const v=new UE(p,t,r,o),C=function(U,B,Y){const Te=Y.baseMutations.map(et=>Fh(U.Gt,et)),Oe=Y.mutations.map(et=>Fh(U.Gt,et));return new tr(B,Y.batchId,Y.localWriteTime.toMillis(),Te,Oe)}(this.k,this.userId,v),T=[];let D=new nn((U,B)=>_n(U.canonicalString(),B.canonicalString()));for(const U of o){const B=bi.key(this.userId,U.key.path,p);D=D.add(U.key.path.popLast()),T.push(h.put(C)),T.push(l.put(B,bi.PLACEHOLDER))}return D.forEach(U=>{T.push(this.Jt.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.Yt[p]=v.keys()}),He.waitFor(T).next(()=>v)})}lookupMutationBatch(e,t){return pc(e).get(t).next(r=>r?(Gt(r.userId===this.userId),jh(this.k,r)):null)}Zt(e,t){return this.Yt[t]?He.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Yt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return pc(e).jt({index:tr.userMutationsIndex,range:o},(h,p,v)=>{p.userId===this.userId&&(Gt(p.batchId>=r),l=jh(this.k,p)),v.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return pc(e).jt({index:tr.userMutationsIndex,range:t,reverse:!0},(o,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return pc(e).Bt(tr.userMutationsIndex,t).next(r=>r.map(o=>jh(this.k,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=bi.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return $h(e).jt({range:o},(h,p,v)=>{const[C,T,D]=h,U=fl(T);if(C===this.userId&&t.path.isEqual(U))return pc(e).get(D).next(B=>{if(!B)throw wt();Gt(B.userId===this.userId),l.push(jh(this.k,B))});v.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nn(_n);const o=[];return t.forEach(l=>{const h=bi.prefixForPath(this.userId,l.path),p=IDBKeyRange.lowerBound(h),v=$h(e).jt({range:p},(C,T,D)=>{const[U,B,Y]=C,Te=fl(B);U===this.userId&&l.path.isEqual(Te)?r=r.add(Y):D.done()});o.push(v)}),He.waitFor(o).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=bi.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let p=new nn(_n);return $h(e).jt({range:h},(v,C,T)=>{const[D,U,B]=v,Y=fl(U);D===this.userId&&r.isPrefixOf(Y)?Y.length===o&&(p=p.add(B)):T.done()}).next(()=>this.te(e,p))}te(e,t){const r=[],o=[];return t.forEach(l=>{o.push(pc(e).get(l).next(h=>{if(null===h)throw wt();Gt(h.userId===this.userId),r.push(jh(this.k,h))}))}),He.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return ZT(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),He.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return He.resolve();const r=IDBKeyRange.lowerBound(bi.prefixForUser(this.userId)),o=[];return $h(e).jt({range:r},(l,h,p)=>{if(l[0]===this.userId){const v=fl(l[1]);o.push(v)}else p.done()}).next(()=>{Gt(0===o.length)})})}containsKey(e,t){return KT(e,this.userId,t)}ne(e){return ZE(e).get(this.userId).next(t=>t||new fo(this.userId,-1,""))}}function KT(n,e,t){const r=bi.prefixForPath(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return $h(n).jt({range:l,Kt:!0},(p,v,C)=>{const[T,D,U]=p;T===e&&D===o&&(h=!0),C.done()}).next(()=>h)}function pc(n){return Fi(n,tr.store)}function $h(n){return Fi(n,bi.store)}function ZE(n){return Fi(n,fo.store)}class ko{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new ko(0)}static re(){return new ko(-1)}}class YT{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new ko(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>en.fromTimestamp(new qr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.ce(e,o)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Du(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(Gt(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Du(e).jt((h,p)=>{const v=lg(p);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(o++,l.push(this.removeTargetData(e,v)))}).next(()=>He.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Du(e).jt((r,o)=>{const l=lg(o);t(l)})}oe(e){return KE(e).get(js.key).next(t=>(Gt(null!==t),t))}ce(e,t){return KE(e).put(js.key,t)}ae(e,t){return Du(e).put(Su(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=_u(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Du(e).jt({range:o,index:ps.queryTargetsIndexName},(h,p,v)=>{const C=lg(p);wh(t,C.target)&&(l=C,v.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=ml(e);return t.forEach(h=>{const p=xo(h.path);o.push(l.put(new oi(r,p))),o.push(this.referenceDelegate.addReference(e,r,h))}),He.waitFor(o)}removeMatchingKeys(e,t,r){const o=ml(e);return He.forEach(t,l=>{const h=xo(l.path);return He.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=ml(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=ml(e);let l=bn();return o.jt({range:r,Kt:!0},(h,p,v)=>{const C=fl(h[1]),T=new Et(C);l=l.add(T)}).next(()=>l)}containsKey(e,t){const r=xo(t.path),o=IDBKeyRange.bound([r],[lT(r)],!1,!0);let l=0;return ml(e).jt({index:oi.documentTargetsIndex,Kt:!0,range:o},([h,p],v,C)=>{0!==h&&(l++,C.done())}).next(()=>l>0)}Et(e,t){return Du(e).get(t).next(r=>r?lg(r):null)}}function Du(n){return Fi(n,ps.store)}function KE(n){return Fi(n,js.store)}function ml(n){return Fi(n,oi.store)}function gc(n){return YE.apply(this,arguments)}function YE(){return(YE=(0,Me.Z)(function*(n){if(n.code!==De.FAILED_PRECONDITION||n.message!==BT)throw n;Ze("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function QT([n,e],[t,r]){const o=_n(n,t);return 0===o?_n(e,r):o}class zx{constructor(e){this.he=e,this.buffer=new nn(QT),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();QT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wx{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;Ze("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Me.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){pl(o)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield gc(o)}yield t.me(e)}))}}class Zx{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return He.resolve(Vs.I);const r=new zx(t);return this.ge.forEachTarget(e,o=>r.de(o.sequenceNumber)).next(()=>this.ge.pe(e,o=>r.de(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(zE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zE):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,o,l,h,p,v,C;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),o=this.params.maximumSequenceNumbersToCollect):o=D,h=Date.now(),this.nthSequenceNumber(e,o))).next(D=>(r=D,p=Date.now(),this.removeTargets(e,r,t))).next(D=>(l=D,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(D=>(C=Date.now(),gE()<=Ns.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-T}ms\n\tDetermined least recently used ${o} in `+(p-h)+`ms\n\tRemoved ${l} targets in `+(v-p)+`ms\n\tRemoved ${D} documents in `+(C-v)+`ms\nTotal Duration: ${C-T}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:D})))}}class Kx{constructor(e,t){this.db=e,this.garbageCollector=new Zx(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,o)=>t(o))}addReference(e,t,r){return G_(e,r)}removeReference(e,t,r){return G_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return G_(e,t)}Ae(e,t){return function(r,o){let l=!1;return ZE(r).Qt(h=>KT(r,h,o).next(p=>(p&&(l=!0),He.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Ie(e,(h,p)=>{if(p<=t){const v=this.Ae(e,h).next(C=>{if(!C)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),ml(e).delete([0,xo(h.path)])))});o.push(v)}}).next(()=>He.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return G_(e,t)}Ie(e,t){const r=ml(e);let o,l=Vs.I;return r.jt({index:oi.documentTargetsIndex},([h,p],{path:v,sequenceNumber:C})=>{0===h?(l!==Vs.I&&t(new Et(fl(o)),l),l=C,o=v):l=Vs.I}).next(()=>{l!==Vs.I&&t(new Et(fl(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function G_(n,e){return ml(n).put((r=n.currentSequenceNumber,new oi(0,xo(e.path),r)));var r}class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){pu(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return bE(this.inner)}}class Hh{constructor(){this.changes=new Ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:en.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:er.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?He.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yx{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return mc(e).put(Au(t),r)}removeEntry(e,t){const r=mc(e),o=Au(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return mc(e).get(Au(t)).next(r=>this.be(t,r))}Pe(e,t){return mc(e).get(Au(t)).next(r=>({document:this.be(t,r),size:cg(r)}))}getEntries(e,t){let r=ho();return this.ve(e,t,(o,l)=>{const h=this.be(o,l);r=r.insert(o,h)}).next(()=>r)}Ve(e,t){let r=ho(),o=new Zr(Et.comparator);return this.ve(e,t,(l,h)=>{const p=this.be(l,h);r=r.insert(l,p),o=o.insert(l,cg(h))}).next(()=>({documents:r,Se:o}))}ve(e,t,r){if(t.isEmpty())return He.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return mc(e).jt({range:o},(p,v,C)=>{const T=Et.fromSegments(p);for(;h&&Et.comparator(h,T)<0;)r(h,null),h=l.getNext();h&&h.isEqual(T)&&(r(h,v),h=l.hasNext()?l.getNext():null),h?C.Lt(h.path.toArray()):C.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=ho();const l=t.path.length+1,h={};if(r.isEqual(en.min())){const p=t.path.toArray();h.range=IDBKeyRange.lowerBound(p)}else{const p=t.path.toArray(),v=$E(r);h.range=IDBKeyRange.lowerBound([p,v],!0),h.index=Cr.collectionReadTimeIndex}return mc(e).jt(h,(p,v,C)=>{if(p.length!==l)return;const T=jE(this.k,v);t.path.isPrefixOf(T.key.path)?Jp(t,T)&&(o=o.insert(T.key,T)):C.done()}).next(()=>o)}newChangeBuffer(e){return new QE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Oo(e).get(Ia.key).next(t=>(Gt(!!t),t))}Re(e,t){return Oo(e).put(Ia.key,t)}be(e,t){if(t){const r=jE(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(en.min()))return r}return er.newInvalidDocument(e)}}class QE extends Hh{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Ta(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new nn((l,h)=>_n(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const p=this.Ce.get(l);if(h.document.isValidDocument()){const v=$T(this.De.k,h.document,this.getReadTime(l));o=o.add(l.path.popLast()),r+=cg(v)-p,t.push(this.De.addEntry(e,l,v))}else if(r-=p,this.trackRemovals){const v=$T(this.De.k,er.newNoDocument(l,en.min()),this.getReadTime(l));t.push(this.De.addEntry(e,l,v))}else t.push(this.De.removeEntry(e,l))}),o.forEach(l=>{t.push(this.De.Jt.addToCollectionParentIndex(e,l))}),t.push(this.De.updateMetadata(e,r)),He.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:o})=>(o.forEach((l,h)=>{this.Ce.set(l,h)}),r))}}function Oo(n){return Fi(n,Ia.store)}function mc(n){return Fi(n,Cr.store)}function Au(n){return n.path.toArray()}class Qx{constructor(e){this.k=e}Nt(e,t,r,o){Gt(r<o&&r>=0&&o<=11);const l=new j_("createOrUpgrade",t);var p;r<1&&o>=1&&(e.createObjectStore(fs.store),(p=e).createObjectStore(fo.store,{keyPath:fo.keyPath}),p.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0}),p.createObjectStore(bi.store),JT(e),function(p){p.createObjectStore(Cr.store)}(e));let h=He.resolve();return r<3&&o>=3&&(0!==r&&(function(p){p.deleteObjectStore(oi.store),p.deleteObjectStore(ps.store),p.deleteObjectStore(js.store)}(e),JT(e)),h=h.next(()=>function(p){const v=p.store(js.store),C=new js(0,0,en.min().toTimestamp(),0);return v.put(js.key,C)}(l))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(p,v){return v.store(tr.store).Bt().next(C=>{p.deleteObjectStore(tr.store),p.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0});const T=v.store(tr.store),D=C.map(U=>T.put(U));return He.waitFor(D)})}(e,l))),h=h.next(()=>{!function(p){p.createObjectStore(fc.store,{keyPath:fc.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ne(l))),r<6&&o>=6&&(h=h.next(()=>(function(p){p.createObjectStore(Ia.store)}(e),this.ke(l)))),r<7&&o>=7&&(h=h.next(()=>this.xe(l))),r<8&&o>=8&&(h=h.next(()=>this.$e(e,l))),r<9&&o>=9&&(h=h.next(()=>{(function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")})(e),function(p){const v=p.objectStore(Cr.store);v.createIndex(Cr.readTimeIndex,Cr.readTimeIndexPath,{unique:!1}),v.createIndex(Cr.collectionReadTimeIndex,Cr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.Oe(l))),r<11&&o>=11&&(h=h.next(()=>{(function(p){p.createObjectStore(sg.store,{keyPath:sg.keyPath})})(e),function(p){p.createObjectStore(og.store,{keyPath:og.keyPath})}(e)})),h}ke(e){let t=0;return e.store(Cr.store).jt((r,o)=>{t+=cg(o)}).next(()=>{const r=new Ia(t);return e.store(Ia.store).put(Ia.key,r)})}Ne(e){const t=e.store(fo.store),r=e.store(tr.store);return t.Bt().next(o=>He.forEach(o,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(tr.userMutationsIndex,h).next(p=>He.forEach(p,v=>{Gt(v.userId===l.userId);const C=jh(this.k,v);return ZT(e,l.userId,C).next(()=>{})}))}))}xe(e){const t=e.store(oi.store),r=e.store(Cr.store);return e.store(js.store).get(js.key).next(o=>{const l=[];return r.jt((h,p)=>{const v=new Dn(h),C=[0,xo(v)];l.push(t.get(C).next(T=>T?He.resolve():t.put(new oi(0,xo(v),o.highestListenSequenceNumber))))}).next(()=>He.waitFor(l))})}$e(e,t){e.createObjectStore(Tu.store,{keyPath:Tu.keyPath});const r=t.store(Tu.store),o=new GE,l=h=>{if(o.add(h)){const p=h.lastSegment(),v=h.popLast();return r.put({collectionId:p,parent:xo(v)})}};return t.store(Cr.store).jt({Kt:!0},(h,p)=>{const v=new Dn(h);return l(v.popLast())}).next(()=>t.store(bi.store).jt({Kt:!0},([h,p,v],C)=>{const T=fl(p);return l(T.popLast())}))}Oe(e){const t=e.store(ps.store);return t.jt((r,o)=>{const l=lg(o),h=Su(this.k,l);return t.put(h)})}}function JT(n){n.createObjectStore(oi.store,{keyPath:oi.keyPath}).createIndex(oi.documentTargetsIndex,oi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(ps.store,{keyPath:ps.keyPath}).createIndex(ps.queryTargetsIndexName,ps.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(js.store)}const XT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ug{constructor(e,t,r,o,l,h,p,v,C,T){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=l,this.window=h,this.document=p,this.Fe=C,this.Le=T,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=D=>Promise.resolve(),!ug.Pt())throw new qe(De.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kx(this,o),this.Ge=t+"main",this.k=new BE(v),this.ze=new Ro(this.Ge,11,new Qx(this.k)),this.He=new YT(this.referenceDelegate,this.k),this.Jt=new qE,this.Je=new Yx(this.k,this.Jt),this.Ye=new GT,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===T&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new qe(De.FAILED_PRECONDITION,XT);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Vs(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,Me.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,Me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,Me.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dg(e).put(new fc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(pl(e))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return Mu(e).get(fs.key).next(t=>He.resolve(this.un(t)))}hn(e){return dg(e).delete(this.clientId)}ln(){var e=this;return(0,Me.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Fi(r,fc.store);return o.Bt().next(l=>{const h=e.dn(l,18e5),p=l.filter(v=>-1===h.indexOf(v));return He.forEach(p,v=>o.delete(v.clientId)).next(()=>p)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?He.resolve(!0):Mu(e).get(fs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new qe(De.FAILED_PRECONDITION,XT);return!1}}return!(!this.networkEnabled||!this.inForeground)||dg(e).Bt().next(r=>void 0===this.dn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,p=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Me.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[fs.store,fc.store],t=>{const r=new go(t,Vs.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>dg(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return WE.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let l;return Ze("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",VE,h=>(l=new go(h,this.Be?this.Be.next():Vs.I),"readwrite-primary"===t?this.rn(l).next(p=>!!p||this.on(l)).next(p=>{if(!p)throw Lr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new qe(De.FAILED_PRECONDITION,BT);return r(l)}).next(p=>this.an(l).next(()=>p)):this.En(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}En(e){return Mu(e).get(fs.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new qe(De.FAILED_PRECONDITION,XT)})}an(e){const t=new fs(this.clientId,this.allowTabSynchronization,Date.now());return Mu(e).put(fs.key,t)}static Pt(){return Ro.Pt()}cn(e){const t=Mu(e);return t.get(fs.key).next(r=>this.un(r)?(Ze("IndexedDbPersistence","Releasing primary lease."),t.delete(fs.key)):He.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(Lr(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Ut.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Lr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Lr("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mu(n){return Fi(n,fs.store)}function dg(n){return Fi(n,fc.store)}function hg(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class JE{constructor(e,t){this.progress=e,this.In=t}}class eS{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(o=>{for(const l of r)l.applyToLocalView(o);return o})}Pn(e,t){e.forEach((r,o)=>{for(const l of t)l.applyToLocalView(o)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return Et.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Sn(e,t.path):ME(t)?this.Dn(e,t,r):this.Cn(e,t,r);var o}Sn(e,t){return this.Rn(e,new Et(t)).next(r=>{let o=ng();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Dn(e,t,r){const o=t.collectionGroup;let l=ng();return this.Jt.getCollectionParents(e,o).next(h=>He.forEach(h,p=>{const v=(C=t,T=p.child(o),new Us(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.Cn(e,v,r).next(C=>{C.forEach((T,D)=>{l=l.insert(T,D)})})}).next(()=>l))}Cn(e,t,r){let o,l;return this.Je.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Nn(e,l,o).next(p=>{o=p;for(const v of l)for(const C of v.mutations){const T=C.key;let D=o.get(T);null==D&&(D=er.newInvalidDocument(T),o=o.insert(T,D)),xh(C,D,v.localWriteTime),D.isFoundDocument()||(o=o.remove(T))}}))).next(()=>(o.forEach((h,p)=>{Jp(t,p)||(o=o.remove(h))}),o))}Nn(e,t,r){let o=bn();for(const h of t)for(const p of h.mutations)p instanceof Bs&&null===r.get(p.key)&&(o=o.add(p.key));let l=r;return this.Je.getEntries(e,o).next(h=>(h.forEach((p,v)=>{v.isFoundDocument()&&(l=l.insert(p,v))}),l))}}class XE{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=o}static $n(e,t){let r=bn(),o=bn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new XE(e,t.fromCache,r,o)}}class tS{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(en.min())?this.Fn(e,t):this.Mn.vn(e,o).next(l=>{const h=this.Ln(t,l);return(SE(t)||R_(t))&&this.Bn(t.limitType,h,o,r)?this.Fn(e,t):(gE()<=Ns.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ET(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(p=>(h.forEach(v=>{p=p.insert(v.key,v)}),p)))});var l}Ln(e,t){let r=new nn(Dh(e));return t.forEach((o,l)=>{Jp(e,l)&&(r=r.add(l))}),r}Bn(e,t,r,o){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Fn(e,t){return gE()<=Ns.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",ET(t)),this.Mn.getDocumentsMatchingQuery(e,t,en.min())}}class Jx{constructor(e,t,r,o){this.persistence=e,this.Un=t,this.k=o,this.qn=new Zr(_n),this.Kn=new Ta(l=>_u(l),wh),this.jn=en.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new eS(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function e0(n,e,t,r){return new Jx(n,e,t,r)}function q_(n,e){return z_.apply(this,arguments)}function z_(){return(z_=(0,Me.Z)(function*(n,e){const t=it(n);let r=t.An,o=t.Wn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let p;return t.An.getAllMutationBatches(h).next(v=>(p=v,r=t.persistence.getMutationQueue(e),o=new eS(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(v=>{const C=[],T=[];let D=bn();for(const U of p){C.push(U.batchId);for(const B of U.mutations)D=D.add(B.key)}for(const U of v){T.push(U.batchId);for(const B of U.mutations)D=D.add(B.key)}return o.vn(h,D).next(U=>({Gn:U,removedBatchIds:C,addedBatchIds:T}))})});return t.An=r,t.Wn=o,t.Un.On(t.Wn),l})).apply(this,arguments)}function nS(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Qn.newChangeBuffer({trackRemovals:!0});return function(h,p,v,C){const T=v.batch,D=T.keys();let U=He.resolve();return D.forEach(B=>{U=U.next(()=>C.getEntry(p,B)).next(Y=>{const Te=v.docVersions.get(B);Gt(null!==Te),Y.version.compareTo(Te)<0&&(T.applyToRemoteDocument(Y,v),Y.isValidDocument()&&C.addEntry(Y,v.commitVersion))})}),U.next(()=>h.An.removeMutationBatch(p,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,o))})}function t0(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function rS(n,e){const t=it(n),r=e.snapshotVersion;let o=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Qn.newChangeBuffer({trackRemovals:!0});o=t.qn;const p=[];e.targetChanges.forEach((C,T)=>{const D=o.get(T);if(!D)return;p.push(t.He.removeMatchingKeys(l,C.removedDocuments,T).next(()=>t.He.addMatchingKeys(l,C.addedDocuments,T)));let U=D.withSequenceNumber(l.currentSequenceNumber);var B,Y,Te;e.targetMismatches.has(T)?U=U.withResumeToken(Sr.EMPTY_BYTE_STRING,en.min()).withLastLimboFreeSnapshotVersion(en.min()):C.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(C.resumeToken,r)),o=o.insert(T,U),Y=U,Te=C,(0===(B=D).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||Te.addedDocuments.size+Te.modifiedDocuments.size+Te.removedDocuments.size>0)&&p.push(t.He.updateTargetData(l,U))});let v=ho();if(e.documentUpdates.forEach((C,T)=>{e.resolvedLimboDocuments.has(C)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),p.push(iS(l,h,e.documentUpdates,r,void 0).next(C=>{v=C})),!r.isEqual(en.min())){const C=t.He.getLastRemoteSnapshotVersion(l).next(T=>t.He.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(C)}return He.waitFor(p).next(()=>h.apply(l)).next(()=>t.Wn.Vn(l,v)).next(()=>v)}).then(l=>(t.qn=o,l))}function iS(n,e,t,r,o){let l=bn();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let p=ho();return t.forEach((v,C)=>{const T=h.get(v),D=(null==o?void 0:o.get(v))||r;C.isNoDocument()&&C.version.isEqual(en.min())?(e.removeEntry(v,D),p=p.insert(v,C)):!T.isValidDocument()||C.version.compareTo(T.version)>0||0===C.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(C,D),p=p.insert(v,C)):Ze("LocalStore","Ignoring outdated watch update for ",v,". Current version:",T.version," Watch version:",C.version)}),p})}function sS(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function xu(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.He.getTargetData(r,e).next(l=>l?(o=l,He.resolve(o)):t.He.allocateTargetId(r).next(h=>(o=new gl(e,h,0,r.currentSequenceNumber),t.He.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.qn.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Gh(n,e,t){return W_.apply(this,arguments)}function W_(){return(W_=(0,Me.Z)(function*(n,e,t){const r=it(n),o=r.qn.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!pl(h))throw h;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.qn=r.qn.remove(e),r.Kn.delete(o.target)})).apply(this,arguments)}function Z_(n,e,t){const r=it(n);let o=en.min(),l=bn();return r.persistence.runTransaction("Execute query","readonly",h=>function(p,v,C){const T=it(p),D=T.Kn.get(C);return void 0!==D?He.resolve(T.qn.get(D)):T.He.getTargetData(v,C)}(r,h,lo(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(h,p.targetId).next(v=>{l=v})}).next(()=>r.Un.getDocumentsMatchingQuery(h,e,t?o:en.min(),t?l:bn())).next(p=>({documents:p,zn:l})))}function Xx(n,e){const t=it(n),r=it(t.He),o=t.qn.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(h=>h?h.target:null))}function Li(n){const e=it(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,l){const h=it(r);let p=ho(),v=$E(l);const C=mc(o),T=IDBKeyRange.lowerBound(v,!0);return C.jt({index:Cr.readTimeIndex,range:T},(D,U)=>{const B=jE(h.k,U);p=p.insert(B.key,B),v=U.readTime}).next(()=>({In:p,readTime:HE(v)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function n0(){return(n0=(0,Me.Z)(function*(n){const e=it(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=mc(r);let l=en.min();return o.jt({index:Cr.readTimeIndex,reverse:!0},(h,p,v)=>{p.readTime&&(l=HE(p.readTime)),v.done()}).next(()=>l)}(t)).then(t=>{e.jn=t})})).apply(this,arguments)}function oS(){return(oS=(0,Me.Z)(function*(n,e,t,r){const o=it(n);let l=bn(),h=ho(),p=Ph();for(const T of t){const D=e.Hn(T.metadata.name);T.document&&(l=l.add(D)),h=h.insert(D,e.Jn(T)),p=p.insert(D,e.Yn(T.metadata.readTime))}const v=o.Qn.newChangeBuffer({trackRemovals:!0}),C=yield xu(o,(T=r,lo(Th(Dn.fromString(`__bundle__/docs/${T}`)))));var T;return o.persistence.runTransaction("Apply bundle documents","readwrite",T=>iS(T,v,h,en.min(),p).next(D=>(v.apply(T),D)).next(D=>o.He.removeMatchingKeysForTargetId(T,C.targetId).next(()=>o.He.addMatchingKeys(T,l,C.targetId)).next(()=>o.Wn.Vn(T,D)).next(()=>D)))})).apply(this,arguments)}function fg(n,e){return r0.apply(this,arguments)}function r0(){return(r0=(0,Me.Z)(function*(n,e,t=bn()){const r=yield xu(n,lo(HT(e.bundledQuery))),o=it(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const h=yi(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Ye.saveNamedQuery(l,e);const p=r.withResumeToken(Sr.EMPTY_BYTE_STRING,h);return o.qn=o.qn.insert(p.targetId,p),o.He.updateTargetData(l,p).next(()=>o.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.He.addMatchingKeys(l,t,r.targetId)).next(()=>o.Ye.saveNamedQuery(l,e))})})).apply(this,arguments)}class s0{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return He.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:yi(r.createTime)}),He.resolve()}getNamedQuery(e,t){return He.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:HT(r.bundledQuery),readTime:yi(r.readTime)}),He.resolve();var r}}class o0{constructor(){this.ts=new nn(Kr.es),this.ns=new nn(Kr.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Kr(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Kr(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new Et(new Dn([])),r=new Kr(t,e),o=new Kr(t,e+1),l=[];return this.ns.forEachInRange([r,o],h=>{this.os(h),l.push(h.key)}),l}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Et(new Dn([])),r=new Kr(t,e),o=new Kr(t,e+1);let l=bn();return this.ns.forEachInRange([r,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Kr(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Kr{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Et.comparator(e.key,t.key)||_n(e.fs,t.fs)}static ss(e,t){return _n(e.fs,t.fs)||Et.comparator(e.key,t.key)}}class tR{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new nn(Kr.es)}checkEmpty(e){return He.resolve(0===this.An.length)}addMutationBatch(e,t,r,o){const l=this.ds;this.ds++;const h=new UE(l,t,r,o);this.An.push(h);for(const p of o)this.ws=this.ws.add(new Kr(p.key,l)),this.Jt.addToCollectionParentIndex(e,p.key.path.popLast());return He.resolve(h)}lookupMutationBatch(e,t){return He.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.gs(t+1),l=o<0?0:o;return He.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return He.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kr(t,0),o=new Kr(t,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,o],h=>{const p=this._s(h.fs);l.push(p)}),He.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new nn(_n);return t.forEach(o=>{const l=new Kr(o,0),h=new Kr(o,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,h],p=>{r=r.add(p.fs)})}),He.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Et.isDocumentKey(l)||(l=l.child(""));const h=new Kr(new Et(l),0);let p=new nn(_n);return this.ws.forEachWhile(v=>{const C=v.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(p=p.add(v.fs)),!0)},h),He.resolve(this.ys(p))}ys(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Gt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return He.forEach(t.mutations,o=>{const l=new Kr(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Kr(t,0),o=this.ws.firstAfterOrEqual(r);return He.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return He.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class nR{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Zr(Et.comparator),this.size=0}addEntry(e,t,r){const o=t.key,l=this.docs.get(o),h=l?l.size:0,p=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:p,readTime:r}),this.size+=p-h,this.Jt.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return He.resolve(r?r.document.mutableCopy():er.newInvalidDocument(t))}getEntries(e,t){let r=ho();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():er.newInvalidDocument(o))}),He.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=ho();const l=new Et(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:p,value:{document:v,readTime:C}}=h.getNext();if(!t.path.isPrefixOf(p.path))break;C.compareTo(r)<=0||Jp(t,v)&&(o=o.insert(v.key,v.mutableCopy()))}return He.resolve(o)}Es(e,t){return He.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new a0(this)}getSize(e){return He.resolve(this.size)}}class a0 extends Hh{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.De.addEntry(e,o.document,this.getReadTime(r))):this.De.removeEntry(r)}),He.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class aS{constructor(e){this.persistence=e,this.Is=new Ta(t=>_u(t),wh),this.lastRemoteSnapshotVersion=en.min(),this.highestTargetId=0,this.As=0,this.Rs=new o0,this.targetCount=0,this.bs=ko.ie()}forEachTarget(e,t){return this.Is.forEach((r,o)=>t(o)),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),He.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,He.resolve()}updateTargetData(e,t){return this.ae(t),He.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Is.forEach((h,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Is.delete(h),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),He.waitFor(l).next(()=>o)}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return He.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),He.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),He.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),He.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return He.resolve(r)}containsKey(e,t){return He.resolve(this.Rs.containsKey(t))}}class lS{constructor(e,t){this.Ps={},this.Be=new Vs(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new aS(this),this.Jt=new zT,this.Je=new nR(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new BE(t),this.Ye=new s0(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new tR(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const o=new K_(this.Be.next());return this.referenceDelegate.Vs(),r(o).next(l=>this.referenceDelegate.Ss(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ds(e,t){return He.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class K_ extends jT{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Cs=new o0,this.Ns=null}static ks(e){return new pg(e)}get xs(){if(this.Ns)return this.Ns;throw wt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),He.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),He.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),He.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.xs,r=>{const o=Et.fromPath(r);return this.$s(e,o).next(l=>{l||t.removeEntry(o)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return He.or([()=>He.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function rR(n,e){return`firestore_clients_${n}_${e}`}function l0(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function c0(n,e){return`firestore_targets_${n}_${e}`}class gg{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Os(e,t,r){const o=JSON.parse(r);let l,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new qe(o.error.code,o.error.message))),h?new gg(e,t,o.state,l):(Lr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _c{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new qe(r.error.code,r.error.message))),l?new _c(e,r.state,o):(Lr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=rg();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=dx(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return o?new mg(e,l):(Lr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class u0{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new u0(t.clientId,t.onlineState):(Lr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _g{constructor(){this.activeTargetIds=rg()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yg{constructor(e,t,r,o,l){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Zr(_n),this.started=!1,this.js=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=rR(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new _g),this.Gs=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(p){return`firestore_bundle_loaded_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Me.Z)(function*(){const t=yield e.syncEngine.Tn();for(const o of t){if(o===e.Bs)continue;const l=e.getItem(rR(e.persistenceKey,o));if(l){const h=mg.Os(o,l);h&&(e.Ks=e.Ks.insert(h.clientId,h))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const o=e.Zs(r);o&&e.ti(o)}for(const o of e.js)e.qs(o);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(c0(this.persistenceKey,e));if(r){const o=_c.Os(e,r);o&&(t=o.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(c0(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.si(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ze("SharedClientState","READ",e,t),t}setItem(e,t){Ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,Me.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const o=t.ai(r.key);return t.ui(o,null)}{const o=t.hi(r.key,r.newValue);if(o)return t.ui(o.clientId,o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.li(r.key,r.newValue);if(o)return t.fi(o)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const o=t.di(r.key,r.newValue);if(o)return t.wi(o)}}else if(r.key===t.Js){if(null!==r.newValue){const o=t.Zs(r.newValue);if(o)return t.ti(o)}}else if(r.key===t.Ws){const o=function(l){let h=Vs.I;if(null!=l)try{const p=JSON.parse(l);Gt("number"==typeof p),h=p}catch(p){Lr("SharedClientState","Failed to read sequence number from WebStorage",p)}return h}(r.newValue);o!==Vs.I&&t.sequenceNumberHandler(o)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const o=new gg(this.currentUser,e,t,r),l=l0(this.persistenceKey,this.currentUser,e);this.setItem(l,o.Ms())}si(e){const t=l0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const o=c0(this.persistenceKey,e),l=new _c(e,t,r);this.setItem(o,l.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return mg.Os(r,t)}li(e,t){const r=this.zs.exec(e),o=Number(r[1]);return gg.Os(new _i(void 0!==r[2]?r[2]:null),o,t)}di(e,t){const r=this.Hs.exec(e),o=Number(r[1]);return _c.Os(o,t)}Zs(e){return u0.Os(e)}fi(e){var t=this;return(0,Me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),o=this.ei(this.Ks),l=this.ei(r),h=[],p=[];return l.forEach(v=>{o.has(v)||h.push(v)}),o.forEach(v=>{l.has(v)||p.push(v)}),this.syncEngine.yi(h,p).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=rg();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class cS{constructor(){this.pi=new _g,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new _g,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class iR{Ei(e){}shutdown(){}}class d0{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const uS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class dS{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class sR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,o,l){const h=this.Ui(e,t);Ze("RestConnection","Sending: ",h,r);const p={};return this.qi(p,o,l),this.Ki(e,h,p,r).then(v=>(Ze("RestConnection","Received: ",v),v),v=>{throw yh("RestConnection",`${e} failed with error: `,v,"url: ",h,"request:",r),v})}ji(e,t,r,o,l){return this.Bi(e,t,r,o,l)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_h,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}Ui(e,t){return`${this.Fi}/v1/${t}:${uS[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,o){return new Promise((l,h)=>{const p=new tx;p.listenOnce(XM.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case mh.NO_ERROR:const C=p.getResponseJson();Ze("Connection","XHR received:",JSON.stringify(C)),l(C);break;case mh.TIMEOUT:Ze("Connection",'RPC "'+e+'" timed out'),h(new qe(De.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const T=p.getStatus();if(Ze("Connection",'RPC "'+e+'" failed with status:',T,"response text:",p.getResponseText()),T>0){const D=p.getResponseJson().error;if(D&&D.status&&D.message){const U=function(B){const Y=B.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(Y)>=0?Y:De.UNKNOWN}(D.status);h(new qe(U,D.message))}else h(new qe(De.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new qe(De.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{Ze("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(o);p.send(t,"POST",v,r,15)})}Qi(e,t,r){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=i1(),h=iT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new Gp({})),this.qi(p.initMessageHeaders,t,r),(0,Ut.uI)()||(0,Ut.b$)()||(0,Ut.d)()||(0,Ut.w1)()||(0,Ut.Mn)()||(0,Ut.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");Ze("Connection","Creating WebChannel: "+v,p);const C=l.createWebChannel(v,p);let T=!1,D=!1;const U=new dS({Vi:Y=>{D?Ze("Connection","Not sending because WebChannel is closed:",Y):(T||(Ze("Connection","Opening WebChannel transport."),C.open(),T=!0),Ze("Connection","WebChannel sending:",Y),C.send(Y))},Si:()=>C.close()}),B=(Y,Te,Oe)=>{Y.listen(Te,et=>{try{Oe(et)}catch(ct){setTimeout(()=>{throw ct},0)}})};return B(C,M_.EventType.OPEN,()=>{D||Ze("Connection","WebChannel transport opened.")}),B(C,M_.EventType.CLOSE,()=>{D||(D=!0,Ze("Connection","WebChannel transport closed"),U.Oi())}),B(C,M_.EventType.ERROR,Y=>{D||(D=!0,yh("Connection","WebChannel transport errored:",Y),U.Oi(new qe(De.UNAVAILABLE,"The operation could not be completed")))}),B(C,M_.EventType.MESSAGE,Y=>{var Te;if(!D){const Oe=Y.data[0];Gt(!!Oe);const et=Oe,ct=et.error||(null===(Te=et[0])||void 0===Te?void 0:Te.error);if(ct){Ze("Connection","WebChannel received error:",ct);const St=ct.status;let at=function(qn){const Ir=Wr[qn];if(void 0!==Ir)return Sx(Ir)}(St),En=ct.message;void 0===at&&(at=De.INTERNAL,En="Unknown error status: "+St+" with message "+ct.message),D=!0,U.Oi(new qe(at,En)),C.close()}else Ze("Connection","WebChannel received:",Oe),U.Mi(Oe)}}),B(h,ex.STAT_EVENT,Y=>{Y.stat===pE.PROXY?Ze("Connection","Detected buffering proxy"):Y.stat===pE.NOPROXY&&Ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{U.$i()},0),U}}function h0(){return"undefined"!=typeof window?window:null}function vg(){return"undefined"!=typeof document?document:null}function bg(n){return new Mx(n,!0)}class f0{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=o,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),o=Math.max(0,t-r);o>0&&Ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,o,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class p0{constructor(e,t,r,o,l,h,p,v){this.Me=e,this.nr=r,this.sr=o,this.ir=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new f0(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,Me.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,Me.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,Me.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===De.RESOURCE_EXHAUSTED?(Lr(t.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===De.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.rr===t&&this.Ir(r,o)},r=>{e(()=>{const o=new qe(De.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(o)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(o=>{r(()=>this.Ar(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}dr(){var e=this;this.state=5,this.ur.Zi((0,Me.Z)(function*(){e.state=0,e.start()}))}Ar(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oR extends p0{constructor(e,t,r,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.k=l}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:wt(),o=e.targetChange.targetIds||[],l=function(v,C){return v.C?(Gt(void 0===C||"string"==typeof C),Sr.fromBase64String(C||"")):(Gt(void 0===C||C instanceof Uint8Array),Sr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(v){const C=void 0===v.code?De.UNKNOWN:Sx(v.code);return new qe(C,v.message||"")}(h);t=new Cu(r,o,l,p||null)}else if("documentChange"in e){const r=e.documentChange,o=Ca(n,r.document.name),l=yi(r.document.updateTime),h=new Pi({mapValue:{fields:r.document.fields}}),p=er.newFoundDocument(o,l,h);t=new Nh(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,o=Ca(n,r.document),l=r.readTime?yi(r.readTime):en.min(),h=er.newNoDocument(o,l);t=new Nh([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Ca(n,r.document);t=new Nh([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return wt();{const r=e.filter,l=new Eu(r.count||0);t=new OE(r.targetId,l)}}var v;return t}(this.k,e),r=function(o){if(!("targetChange"in o))return en.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?en.min():l.readTime?yi(l.readTime):en.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=U_(this.k),t.addTarget=function(o,l){let h;const p=l.target;return h=Zp(p)?{documents:OT(o,p)}:{query:PT(o,p)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=V_(o,l.resumeToken):l.snapshotVersion.compareTo(en.min())>0&&(h.readTime=Iu(o,l.snapshotVersion.toTimestamp())),h}(this.k,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=U_(this.k),t.removeTarget=e,this.gr(t)}}class hS extends p0{constructor(e,t,r,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(Gt(void 0!==e),n.map(t=>function(r,o){let l=yi(r.updateTime?r.updateTime:o);return l.isEqual(en.min())&&(l=yi(o)),new Ix(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.Cr(r,t)}return Gt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=U_(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Fh(this.k,r))};this.gr(t)}}class fS extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=o,this.$r=!1}Or(){if(this.$r)throw new qe(De.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.Bi(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(De.UNKNOWN,o.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.ir.ji(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(De.UNKNOWN,o.toString())})}terminate(){this.$r=!0}}class pS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Lr(t),this.Lr=!1):Ze("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class gS{constructor(e,t,r,o,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(p=>{r.enqueueAndForget((0,Me.Z)(function*(){var v;Ru(h)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Me.Z)(function*(C){const T=it(C);T.Gr.add(4),yield zh(T),T.Jr.set("Unknown"),T.Gr.delete(4),yield Eg(T)}),function(C){return v.apply(this,arguments)})(h))}))}),this.Jr=new pS(r,o)}}function Eg(n){return g0.apply(this,arguments)}function g0(){return(g0=(0,Me.Z)(function*(n){if(Ru(n))for(const e of n.zr)yield e(!0)})).apply(this,arguments)}function zh(n){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,Me.Z)(function*(n){for(const e of n.zr)yield e(!1)})).apply(this,arguments)}function m0(n,e){const t=it(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),yS(t)?_S(t):yc(t).lr()&&mS(t,e))}function Q_(n,e){const t=it(n),r=yc(t);t.Wr.delete(e),r.lr()&&aR(t,e),0===t.Wr.size&&(r.lr()?r._r():Ru(t)&&t.Jr.set("Unknown"))}function mS(n,e){n.Yr.X(e.targetId),yc(n).Pr(e)}function aR(n,e){n.Yr.X(e),yc(n).vr(e)}function _S(n){n.Yr=new F_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),yc(n).start(),n.Jr.Br()}function yS(n){return Ru(n)&&!yc(n).hr()&&n.Wr.size>0}function Ru(n){return 0===it(n).Gr.size}function lR(n){n.Yr=void 0}function c1(n){return vS.apply(this,arguments)}function vS(){return(vS=(0,Me.Z)(function*(n){n.Wr.forEach((e,t)=>{mS(n,e)})})).apply(this,arguments)}function u1(n,e){return bS.apply(this,arguments)}function bS(){return(bS=(0,Me.Z)(function*(n,e){lR(n),yS(n)?(n.Jr.Kr(e),_S(n)):n.Jr.set("Unknown")})).apply(this,arguments)}function d1(n,e,t){return ES.apply(this,arguments)}function ES(){return(ES=(0,Me.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof Cu&&2===e.state&&e.cause)try{yield(r=(0,Me.Z)(function*(o,l){const h=l.cause;for(const p of l.targetIds)o.Wr.has(p)&&(yield o.remoteSyncer.rejectListen(p,h),o.Wr.delete(p),o.Yr.removeTarget(p))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _0(n,r)}else if(e instanceof Nh?n.Yr.ot(e):e instanceof OE?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(en.min()))try{const r=yield t0(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const h=o.Yr.gt(l);return h.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const C=o.Wr.get(v);C&&o.Wr.set(v,C.withResumeToken(p.resumeToken,l))}}),h.targetMismatches.forEach(p=>{const v=o.Wr.get(p);if(!v)return;o.Wr.set(p,v.withResumeToken(Sr.EMPTY_BYTE_STRING,v.snapshotVersion)),aR(o,p);const C=new gl(v.target,p,1,v.sequenceNumber);mS(o,C)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield _0(n,r)}var r})).apply(this,arguments)}function _0(n,e,t){return wS.apply(this,arguments)}function wS(){return(wS=(0,Me.Z)(function*(n,e,t){if(!pl(e))throw e;n.Gr.add(1),yield zh(n),n.Jr.set("Offline"),t||(t=()=>t0(n.localStore)),n.asyncQueue.enqueueRetryable((0,Me.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Eg(n)}))})).apply(this,arguments)}function cR(n,e){return e().catch(t=>_0(n,t,e))}function Wh(n){return y0.apply(this,arguments)}function y0(){return(y0=(0,Me.Z)(function*(n){const e=it(n),t=$s(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;uR(e);)try{const o=yield sS(e.localStore,r);if(null===o){0===e.Qr.length&&t._r();break}r=o.batchId,h1(e,o)}catch(o){yield _0(e,o)}dR(e)&&hR(e)})).apply(this,arguments)}function uR(n){return Ru(n)&&n.Qr.length<10}function h1(n,e){n.Qr.push(e);const t=$s(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function dR(n){return Ru(n)&&!$s(n).hr()&&n.Qr.length>0}function hR(n){$s(n).start()}function fR(n){return v0.apply(this,arguments)}function v0(){return(v0=(0,Me.Z)(function*(n){$s(n).kr()})).apply(this,arguments)}function pR(n){return CS.apply(this,arguments)}function CS(){return(CS=(0,Me.Z)(function*(n){const e=$s(n);for(const t of n.Qr)e.Dr(t.mutations)})).apply(this,arguments)}function f1(n,e,t){return IS.apply(this,arguments)}function IS(){return(IS=(0,Me.Z)(function*(n,e,t){const r=n.Qr.shift(),o=H_.from(r,e,t);yield cR(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Wh(n)})).apply(this,arguments)}function p1(n,e){return b0.apply(this,arguments)}function b0(){return(b0=(0,Me.Z)(function*(n,e){var t;e&&$s(n).Sr&&(yield(t=(0,Me.Z)(function*(r,o){if(kE(l=o.code)&&l!==De.ABORTED){const h=r.Qr.shift();$s(r).wr(),yield cR(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Wh(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),dR(n)&&hR(n)})).apply(this,arguments)}function TS(n,e){return E0.apply(this,arguments)}function E0(){return(E0=(0,Me.Z)(function*(n,e){const t=it(n);e?(t.Gr.delete(2),yield Eg(t)):e||(t.Gr.add(2),yield zh(t),t.Jr.set("Unknown"))})).apply(this,arguments)}function yc(n){return n.Xr||(n.Xr=function(e,t,r){const o=it(e);return o.Or(),new oR(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:c1.bind(null,n),Ni:u1.bind(null,n),br:d1.bind(null,n)}),n.zr.push(function(){var e=(0,Me.Z)(function*(t){t?(n.Xr.wr(),yS(n)?_S(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),lR(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function $s(n){return n.Zr||(n.Zr=function(e,t,r){const o=it(e);return o.Or(),new hS(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:fR.bind(null,n),Ni:p1.bind(null,n),Nr:pR.bind(null,n),Cr:f1.bind(null,n)}),n.zr.push(function(){var e=(0,Me.Z)(function*(t){t?(n.Zr.wr(),yield Wh(n)):(yield n.Zr.stop(),n.Qr.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class J_{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,l){const h=Date.now()+r,p=new J_(e,t,h,o,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qe(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zh(n,e){if(Lr("AsyncQueue",`${e}: ${n}`),pl(n))return new qe(De.UNAVAILABLE,`${e}: ${n}`);throw n}class Kh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Et.comparator(t.key,r.key):(t,r)=>Et.comparator(t.key,r.key),this.keyedMap=ng(),this.sortedSet=new Zr(this.comparator)}static emptySet(e){return new Kh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Kh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class X_{constructor(){this.eo=new Zr(Et.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):wt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class ku{constructor(e,t,r,o,l,h,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new ku(e,t,Kh.emptySet(t),l,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class SS{constructor(){this.so=void 0,this.listeners=[]}}class DS{constructor(){this.queries=new Ta(e=>bT(e),Qp),this.onlineState="Unknown",this.io=new Set}}function AS(n,e){return ey.apply(this,arguments)}function ey(){return(ey=(0,Me.Z)(function*(n,e){const t=it(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new SS),o)try{l.so=yield t.onListen(r)}catch(h){const p=Zh(h,`Initialization of query '${ET(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.ro(t.onlineState),l.so&&e.oo(l.so)&&MS(t)})).apply(this,arguments)}function Yh(n,e){return ty.apply(this,arguments)}function ty(){return(ty=(0,Me.Z)(function*(n,e){const t=it(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function g1(n,e){const t=it(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const p of h.listeners)p.oo(o)&&(r=!0);h.so=o}}r&&MS(t)}function m1(n,e,t){const r=it(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function MS(n){n.io.forEach(e=>{e.next()})}class w0{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class _1{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class wg{constructor(e){this.k=e}Hn(e){return Ca(this.k,e)}Jn(e){return e.metadata.exists?vi(this.k,e.document,!1):er.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return yi(e)}}class gR{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=mR(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new wg(this.k);for(const o of e)if(o.metadata.queries){const l=r.Hn(o.metadata.name);for(const h of o.metadata.queries){const p=(t.get(h)||bn()).add(l);t.set(h,p)}}return t}complete(){var e=this;return(0,Me.Z)(function*(){const t=yield function(n,e,t,r){return oS.apply(this,arguments)}(e.localStore,new wg(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const o of e.queries)yield fg(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new JE(Object.assign({},e.progress),t)})()}}function mR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _R{constructor(e){this.key=e}}class ny{constructor(e){this.key=e}}class xS{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=bn(),this.mutatedKeys=bn(),this.Ao=Dh(e),this.Ro=new Kh(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new X_,o=t?t.Ro:this.Ro;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const v=SE(this.query)&&o.size===this.query.limit?o.last():null,C=R_(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,D)=>{const U=o.get(T),B=Jp(this.query,D)?D:null,Y=!!U&&this.mutatedKeys.has(U.key),Te=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Oe=!1;U&&B?U.data.isEqual(B.data)?Y!==Te&&(r.track({type:3,doc:B}),Oe=!0):this.Vo(U,B)||(r.track({type:2,doc:B}),Oe=!0,(v&&this.Ao(B,v)>0||C&&this.Ao(B,C)<0)&&(p=!0)):!U&&B?(r.track({type:0,doc:B}),Oe=!0):U&&!B&&(r.track({type:1,doc:U}),Oe=!0,(v||C)&&(p=!0)),Oe&&(B?(h=h.add(B),l=Te?l.add(T):l.delete(T)):(h=h.delete(T),l=l.delete(T)))}),SE(this.query)||R_(this.query))for(;h.size>this.query.limit;){const T=SE(this.query)?h.last():h.first();h=h.delete(T.key),l=l.delete(T.key),r.track({type:1,doc:T})}return{Ro:h,vo:r,Bn:p,mutatedKeys:l}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const l=e.vo.no();l.sort((C,T)=>function(D,U){const B=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return B(D)-B(U)}(C.type,T.type)||this.Ao(C.doc,T.doc)),this.So(r);const h=t?this.Do():[],p=0===this.Io.size&&this.current?1:0,v=p!==this.Eo;return this.Eo=p,0!==l.length||v?{snapshot:new ku(this.query,e.Ro,o,l,e.mutatedKeys,0===p,v,!1),Co:h}:{Co:h}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new X_,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=bn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new ny(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new _R(r))}),t}ko(e){this.To=e.zn,this.Io=bn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return ku.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class y1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class v1{constructor(e){this.key=e,this.$o=!1}}class yR{constructor(e,t,r,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Oo={},this.Mo=new Ta(p=>bT(p),Qp),this.Fo=new Map,this.Lo=new Set,this.Bo=new Zr(Et.comparator),this.Uo=new Map,this.qo=new o0,this.Ko={},this.jo=new Map,this.Qo=ko.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function b1(n,e){return ry.apply(this,arguments)}function ry(){return(ry=(0,Me.Z)(function*(n,e){const t=uy(n);let r,o;const l=t.Mo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.xo();else{const h=yield xu(t.localStore,lo(e)),p=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield C0(t,e,r,"current"===p),t.isPrimaryClient&&m0(t.remoteStore,h)}return o})).apply(this,arguments)}function C0(n,e,t,r){return RS.apply(this,arguments)}function RS(){return(RS=(0,Me.Z)(function*(n,e,t,r){n.Go=(T,D,U)=>{return(B=(0,Me.Z)(function*(Y,Te,Oe,et){let ct=Te.view.Po(Oe);ct.Bn&&(ct=yield Z_(Y.localStore,Te.query,!1).then(({documents:En})=>Te.view.Po(En,ct)));const St=et&&et.targetChanges.get(Te.targetId),at=Te.view.applyChanges(ct,Y.isPrimaryClient,St);return R0(Y,Te.targetId,at.Co),at.snapshot}),function(Y,Te,Oe,et){return B.apply(this,arguments)})(n,T,D,U);var B};const o=yield Z_(n.localStore,e,!0),l=new xS(e,o.zn),h=l.Po(o.documents),p=dl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=l.applyChanges(h,n.isPrimaryClient,p);R0(n,t,v.Co);const C=new y1(e,t,l);return n.Mo.set(e,C),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),v.snapshot})).apply(this,arguments)}function E1(n,e){return I0.apply(this,arguments)}function I0(){return(I0=(0,Me.Z)(function*(n,e){const t=it(n),r=t.Mo.get(e),o=t.Fo.get(r.targetId);if(o.length>1)return t.Fo.set(r.targetId,o.filter(l=>!Qp(l,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Gh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Q_(t.remoteStore,r.targetId),Ou(t,r.targetId)}).catch(gc))):(Ou(t,r.targetId),yield Gh(t.localStore,r.targetId,!0))})).apply(this,arguments)}function T0(){return(T0=(0,Me.Z)(function*(n,e,t){const r=F0(n);try{const o=yield function(l,h){const p=it(l),v=qr.now(),C=h.reduce((D,U)=>D.add(U.key),bn());let T;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>p.Wn.vn(D,C).next(U=>{T=U;const B=[];for(const Y of h){const Te=a1(Y,T.get(Y.key));null!=Te&&B.push(new Bs(Y.key,Te,fx(Te.value.mapValue),Dr.exists(!0)))}return p.An.addMutationBatch(D,v,B,h)})).then(D=>(D.applyToLocalDocumentSet(T),{batchId:D.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,h,p){let v=l.Ko[l.currentUser.toKey()];v||(v=new Zr(_n)),v=v.insert(h,p),l.Ko[l.currentUser.toKey()]=v}(r,o.batchId,t),yield Sa(r,o.changes),yield Wh(r.remoteStore)}catch(o){const l=Zh(o,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function kS(n,e){return S0.apply(this,arguments)}function S0(){return(S0=(0,Me.Z)(function*(n,e){const t=it(n);try{const r=yield rS(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Uo.get(l);h&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.$o=!0:o.modifiedDocuments.size>0?Gt(h.$o):o.removedDocuments.size>0&&(Gt(h.$o),h.$o=!1))}),yield Sa(t,r,e)}catch(r){yield gc(r)}})).apply(this,arguments)}function iy(n,e,t){const r=it(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Mo.forEach((l,h)=>{const p=h.view.ro(e);p.snapshot&&o.push(p.snapshot)}),function(l,h){const p=it(l);p.onlineState=h;let v=!1;p.queries.forEach((C,T)=>{for(const D of T.listeners)D.ro(h)&&(v=!0)}),v&&MS(p)}(r.eventManager,e),o.length&&r.Oo.br(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function vR(n,e,t){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,Me.Z)(function*(n,e,t){const r=it(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Uo.get(e),l=o&&o.key;if(l){let h=new Zr(Et.comparator);h=h.insert(l,er.newNoDocument(l,en.min()));const p=bn().add(l),v=new wu(en.min(),new Map,new nn(_n),h,p);yield kS(r,v),r.Bo=r.Bo.remove(l),r.Uo.delete(e),Tg(r)}else yield Gh(r.localStore,e,!1).then(()=>Ou(r,e,t)).catch(gc)})).apply(this,arguments)}function bR(n,e){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,Me.Z)(function*(n,e){const t=it(n),r=e.batch.batchId;try{const o=yield nS(t.localStore,e);M0(t,r,null),oy(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Sa(t,o)}catch(o){yield gc(o)}})).apply(this,arguments)}function ER(n,e,t){return D0.apply(this,arguments)}function D0(){return(D0=(0,Me.Z)(function*(n,e,t){const r=it(n);try{const o=yield function(l,h){const p=it(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let C;return p.An.lookupMutationBatch(v,h).next(T=>(Gt(null!==T),C=T.keys(),p.An.removeMutationBatch(v,T))).next(()=>p.An.performConsistencyCheck(v)).next(()=>p.Wn.vn(v,C))})}(r.localStore,e);M0(r,e,t),oy(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Sa(r,o)}catch(o){yield gc(o)}})).apply(this,arguments)}function sy(){return(sy=(0,Me.Z)(function*(n,e){const t=it(n);Ru(t.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=it(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>h.An.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const o=t.jo.get(r)||[];o.push(e),t.jo.set(r,o)}catch(r){const o=Zh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}})).apply(this,arguments)}function oy(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function M0(n,e,t){const r=it(n);let o=r.Ko[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Ko[r.currentUser.toKey()]=o}}function Ou(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||x0(n,r)})}function x0(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(Q_(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),Tg(n))}function R0(n,e,t){for(const r of t)r instanceof _R?(n.qo.addReference(r.key,e),wR(n,r)):r instanceof ny?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||x0(n,r.key)):wt()}function wR(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(Ze("SyncEngine","New document in limbo: "+t),n.Lo.add(r),Tg(n))}function Tg(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new Et(Dn.fromString(e)),r=n.Qo.next();n.Uo.set(r,new v1(t)),n.Bo=n.Bo.insert(t,r),m0(n.remoteStore,new gl(lo(Th(t.path)),r,2,Vs.I))}}function Sa(n,e,t){return ay.apply(this,arguments)}function ay(){return(ay=(0,Me.Z)(function*(n,e,t){const r=it(n),o=[],l=[],h=[];var p;r.Mo.isEmpty()||(r.Mo.forEach((p,v)=>{h.push(r.Go(v,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,C.fromCache?"not-current":"current"),o.push(C);const T=XE.$n(v.targetId,C);l.push(T)}}))}),yield Promise.all(h),r.Oo.br(o),yield(p=(0,Me.Z)(function*(v,C){const T=it(v);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>He.forEach(C,U=>He.forEach(U.kn,B=>T.persistence.referenceDelegate.addReference(D,U.targetId,B)).next(()=>He.forEach(U.xn,B=>T.persistence.referenceDelegate.removeReference(D,U.targetId,B)))))}catch(D){if(!pl(D))throw D;Ze("LocalStore","Failed to update sequence numbers: "+D)}for(const D of C){const U=D.targetId;if(!D.fromCache){const B=T.qn.get(U),Te=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.qn=T.qn.insert(U,Te)}}}),function(v,C){return p.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function k0(n,e){return O0.apply(this,arguments)}function O0(){return(O0=(0,Me.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=yield q_(t.localStore,e);t.currentUser=e,(o=t).jo.forEach(h=>{h.forEach(p=>{p.reject(new qe(De.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Sa(t,r.Gn)}var o})).apply(this,arguments)}function Po(n,e){const t=it(n),r=t.Uo.get(e);if(r&&r.$o)return bn().add(r.key);{let o=bn();const l=t.Fo.get(e);if(!l)return o;for(const h of l){const p=t.Mo.get(h);o=o.unionWith(p.view.bo)}return o}}function CR(n,e){return OS.apply(this,arguments)}function OS(){return(OS=(0,Me.Z)(function*(n,e){const t=it(n),r=yield Z_(t.localStore,e.query,!0),o=e.view.ko(r);return t.isPrimaryClient&&R0(t,e.targetId,o.Co),o})).apply(this,arguments)}function IR(n){return PS.apply(this,arguments)}function PS(){return(PS=(0,Me.Z)(function*(n){const e=it(n);return Li(e.localStore).then(t=>Sa(e,t))})).apply(this,arguments)}function TR(n,e,t,r){return P0.apply(this,arguments)}function P0(){return(P0=(0,Me.Z)(function*(n,e,t,r){const o=it(n),l=yield function(h,p){const v=it(h),C=it(v.An);return v.persistence.runTransaction("Lookup mutation documents","readonly",T=>C.Zt(T,p).next(D=>D?v.Wn.vn(T,D):He.resolve(null)))}(o.localStore,e);var p;null!==l?("pending"===t?yield Wh(o.remoteStore):"acknowledged"===t||"rejected"===t?(M0(o,e,r||null),oy(o,e),p=e,it(it(o.localStore).An).ee(p)):wt(),yield Sa(o,l)):Ze("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function NS(){return(NS=(0,Me.Z)(function*(n,e){const t=it(n);if(uy(t),F0(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield FS(t,r.toArray());t.Wo=!0,yield TS(t.remoteStore,!0);for(const l of o)m0(t.remoteStore,l)}else if(!1===e&&!1!==t.Wo){const r=[];let o=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Ou(t,h),Gh(t.localStore,h,!0))),Q_(t.remoteStore,h)}),yield o,yield FS(t,r),function(l){const h=it(l);h.Uo.forEach((p,v)=>{Q_(h.remoteStore,v)}),h.qo.hs(),h.Uo=new Map,h.Bo=new Zr(Et.comparator)}(t),t.Wo=!1,yield TS(t.remoteStore,!1)}})).apply(this,arguments)}function FS(n,e,t){return ly.apply(this,arguments)}function ly(){return(ly=(0,Me.Z)(function*(n,e,t){const r=it(n),o=[],l=[];for(const h of e){let p;const v=r.Fo.get(h);if(v&&0!==v.length){p=yield xu(r.localStore,lo(v[0]));for(const C of v){const T=r.Mo.get(C),D=yield CR(r,T);D.snapshot&&l.push(D.snapshot)}}else{const C=yield Xx(r.localStore,h);p=yield xu(r.localStore,C),yield C0(r,LS(C),h,!1)}o.push(p)}return r.Oo.br(l),o})).apply(this,arguments)}function LS(n){return yT(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function DR(n){const e=it(n);return it(it(e.localStore).persistence).Tn()}function VS(n,e,t,r){return N0.apply(this,arguments)}function N0(){return(N0=(0,Me.Z)(function*(n,e,t,r){const o=it(n);if(o.Wo)Ze("SyncEngine","Ignoring unexpected query state notification.");else if(o.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield Li(o.localStore),h=wu.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Sa(o,l,h);break}case"rejected":yield Gh(o.localStore,e,!0),Ou(o,e,r);break;default:wt()}})).apply(this,arguments)}function w1(n,e,t){return cy.apply(this,arguments)}function cy(){return(cy=(0,Me.Z)(function*(n,e,t){const r=uy(n);if(r.Wo){for(const o of e){if(r.Fo.has(o)){Ze("SyncEngine","Adding an already active target "+o);continue}const l=yield Xx(r.localStore,o),h=yield xu(r.localStore,l);yield C0(r,LS(l),h.targetId,!1),m0(r.remoteStore,h)}for(const o of t)r.Fo.has(o)&&(yield Gh(r.localStore,o,!1).then(()=>{Q_(r.remoteStore,o),Ou(r,o)}).catch(gc))}})).apply(this,arguments)}function uy(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Po.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vR.bind(null,e),e.Oo.br=g1.bind(null,e.eventManager),e.Oo.zo=m1.bind(null,e.eventManager),e}function F0(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ER.bind(null,e),e}class L0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Me.Z)(function*(){t.k=bg(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return e0(this.persistence,new tS,e.initialUser,this.k)}Yo(e){return new lS(pg.ks,this.k)}Jo(e){return new cS}terminate(){var e=this;return(0,Me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Qh extends L0{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Me.Z)(function*(){yield t().call(r,e),yield function(n){return n0.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield F0(r.tc.syncEngine),yield Wh(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return e0(this.persistence,new tS,e.initialUser,this.k)}Xo(e){return new Wx(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=hg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Qi.withCacheSize(this.cacheSizeBytes):Qi.DEFAULT;return new ug(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,h0(),vg(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new cS}}class V0 extends Qh{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Me.Z)(function*(){yield t().call(r,e);const o=r.tc.syncEngine;r.sharedClientState instanceof yg&&(r.sharedClientState.syncEngine={mi:TR.bind(null,o),gi:VS.bind(null,o),yi:w1.bind(null,o),Tn:DR.bind(null,o),_i:IR.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,Me.Z)(function*(h){yield function(n,e){return NS.apply(this,arguments)}(r.tc.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Jo(e){const t=h0();if(!yg.Pt(t))throw new qe(De.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=hg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class dy{initialize(e,t){var r=this;return(0,Me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>iy(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=k0.bind(null,r.syncEngine),yield TS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new DS}createDatastore(e){const t=bg(e.databaseInfo.databaseId),r=new sR(e.databaseInfo);return new fS(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=p=>iy(this.syncEngine,p,0),h=d0.Pt()?new d0:new iR,new gS(t,r,o,l,h);var t,r,o,l,h}createSyncEngine(e,t){return function(r,o,l,h,p,v,C){const T=new yR(r,o,l,h,p,v);return C&&(T.Wo=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Me.Z)(function*(t){const r=it(t);Ze("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield zh(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function US(n,e=10240){let t=0;return{read:()=>(0,Me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class C1{constructor(e,t){this.sc=e,this.k=t,this.metadata=new Gr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,Me.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,Me.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),o=Number(r);isNaN(o)&&e.cc(`length string (${r}) is not valid number`);const l=yield e.ac(o);return new _1(JSON.parse(l),t.length+o)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,Me.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,Me.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,Me.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class I1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new qe(De.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Me.Z)(function*(l,h){const p=it(l),v=U_(p.k)+"/documents",C={documents:h.map(B=>hl(p.k,B))},T=yield p.ji("BatchGetDocuments",v,C),D=new Map;T.forEach(B=>{const Y=function(n,e){return"found"in e?function(t,r){Gt(!!r.found);const o=Ca(t,r.found.name),l=yi(r.found.updateTime),h=new Pi({mapValue:{fields:r.found.fields}});return er.newFoundDocument(o,l,h)}(n,e):"missing"in e?function(t,r){Gt(!!r.missing),Gt(!!r.readTime);const o=Ca(t,r.missing),l=yi(r.readTime);return er.newNoDocument(o,l)}(n,e):wt()}(p.k,B);D.set(Y.key.toString(),Y)});const U=[];return h.forEach(B=>{const Y=D.get(B.toString());Gt(!!Y),U.push(Y)}),U}),function(l,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ni(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=Et.fromPath(o);e.mutations.push(new tg(l,e.precondition(l)))}),yield(r=(0,Me.Z)(function*(o,l){const h=it(o),p=U_(h.k)+"/documents",v={writes:l.map(C=>Fh(h.k,C))};yield h.Bi("Commit",p,v)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wt();t=en.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new qe(De.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Dr.updateTime(t):Dr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(en.min()))throw new qe(De.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(t)}return Dr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class T1{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.lc=5,this.ur=new f0(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,Me.Z)(function*(){const t=new I1(e.datastore),r=e.dc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.wc(l)}))}).catch(o=>{e.wc(o)})}))}dc(e){try{const t=this.updateFunction(e);return!dc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!kE(t)}return!1}}class BS{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=_i.UNAUTHENTICATED,this.clientId=aT.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,Me.Z)(function*(p){Ze("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,Me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new qe(De.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Zh(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function U0(n,e){return B0.apply(this,arguments)}function B0(){return(B0=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Me.Z)(function*(l){r.isEqual(l)||(yield q_(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function jS(n,e){return j0.apply(this,arguments)}function j0(){return(j0=(0,Me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield $0(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(l=(0,Me.Z)(function*(h,p){const v=it(h);v.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const C=Ru(v);v.Gr.add(3),yield zh(v),C&&v.Jr.set("Unknown"),yield v.remoteSyncer.handleCredentialChange(p),v.Gr.delete(3),yield Eg(v)}),function(h,p){return l.apply(this,arguments)})(e.remoteStore,o);var l}),n.onlineComponents=e})).apply(this,arguments)}function $0(n){return fy.apply(this,arguments)}function fy(){return(fy=(0,Me.Z)(function*(n){return n.offlineComponents||(Ze("FirestoreClient","Using default OfflineComponentProvider"),yield U0(n,new L0)),n.offlineComponents})).apply(this,arguments)}function H0(n){return $S.apply(this,arguments)}function $S(){return($S=(0,Me.Z)(function*(n){return n.onlineComponents||(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield jS(n,new dy)),n.onlineComponents})).apply(this,arguments)}function HS(n){return $0(n).then(e=>e.persistence)}function Sg(n){return $0(n).then(e=>e.localStore)}function Yr(n){return H0(n).then(e=>e.remoteStore)}function GS(n){return H0(n).then(e=>e.syncEngine)}function Pu(n){return py.apply(this,arguments)}function py(){return(py=(0,Me.Z)(function*(n){const e=yield H0(n),t=e.eventManager;return t.onListen=b1.bind(null,e.syncEngine),t.onUnlisten=E1.bind(null,e.syncEngine),t})).apply(this,arguments)}function qS(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(o,l,h,p,v){const C=new hy({next:D=>{l.enqueueAndForget(()=>Yh(o,T));const U=D.docs.has(h);!U&&D.fromCache?v.reject(new qe(De.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&D.fromCache&&p&&"server"===p.source?v.reject(new qe(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(D)},error:D=>v.reject(D)}),T=new w0(Th(h.path),C,{includeMetadataChanges:!0,wo:!0});return AS(o,T)}(yield Pu(n),n.asyncQueue,e,t,r)})),r.promise}function vc(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(o,l,h,p,v){const C=new hy({next:D=>{l.enqueueAndForget(()=>Yh(o,T)),D.fromCache&&"server"===p.source?v.reject(new qe(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(D)},error:D=>v.reject(D)}),T=new w0(h,C,{includeMetadataChanges:!0,wo:!0});return AS(o,T)}(yield Pu(n),n.asyncQueue,e,t,r)})),r.promise}class my{constructor(e,t,r,o,l,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.useFetchStreams=v}}class Jh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Jh&&e.projectId===this.projectId&&e.database===this.database}}const _y=new Map;function yy(n,e,t){if(!t)throw new qe(De.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Qr(n,e,t,r){if(!0===e&&!0===r)throw new qe(De.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kR(n){if(!Et.isDocumentKey(n))throw new qe(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZS(n){if(Et.isDocumentKey(n))throw new qe(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vy(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":wt()}function In(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new qe(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vy(n);throw new qe(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Dg(n,e){if(e<=0)throw new qe(De.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class KS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new qe(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new qe(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Qr("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class by{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KS({}),this._settingsFrozen=!1,e instanceof Jh?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new qe(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jh(o.options.projectId)}(e))}get app(){if(!this._app)throw new qe(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new qe(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new rx;switch(t.type){case"gapi":const r=t.client;return Gt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new ox(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new qe(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_y.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),_y.delete(e),t.terminate())}(this),Promise.resolve()}}class nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class Vi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vi(this.firestore,e,this._query)}}class Da extends Vi{constructor(e,t,r){super(e,t,Th(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new Et(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function YS(n,e,...t){if(n=(0,Ut.m9)(n),yy("collection","path",e),n instanceof by){const r=Dn.fromString(e,...t);return ZS(r),new Da(n,null,r)}{if(!(n instanceof nr||n instanceof Da))throw new qe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dn.fromString(e,...t));return ZS(r),new Da(n.firestore,null,r)}}function Ey(n,e,...t){if(n=(0,Ut.m9)(n),1===arguments.length&&(e=aT.A()),yy("doc","path",e),n instanceof by){const r=Dn.fromString(e,...t);return kR(r),new nr(n,null,new Et(r))}{if(!(n instanceof nr||n instanceof Da))throw new qe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Dn.fromString(e,...t));return kR(r),new nr(n.firestore,n instanceof Da?n.converter:null,new Et(r))}}function PR(n,e){return n=(0,Ut.m9)(n),e=(0,Ut.m9)(e),(n instanceof nr||n instanceof Da)&&(e instanceof nr||e instanceof Da)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function QS(n,e){return n=(0,Ut.m9)(n),e=(0,Ut.m9)(e),n instanceof Vi&&e instanceof Vi&&n.firestore===e.firestore&&Qp(n._query,e._query)&&n.converter===e.converter}class NR{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new f0(this,"async_queue_retry"),this.bc=()=>{const t=vg();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=vg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=vg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new Gr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,Me.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!pl(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,Lr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const o=J_.createAndSchedule(this,e,t,r,l=>this.Sc(l));return this.Tc.push(o),o}Pc(){this.Ec&&wt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,Me.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function z0(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class D1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fr extends by{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new NR,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||JS(this),this._firestoreClient.terminate()}}function Jr(n){return n._firestoreClient||JS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function JS(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new my(n._databaseId,l,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var l,p;n._firestoreClient=new BS(n._authCredentials,n._appCheckCredentials,n._queue,r)}function XS(n,e,t){const r=new Gr;return n.asyncQueue.enqueue((0,Me.Z)(function*(){try{yield U0(n,t),yield jS(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(l=o).name?l.code===De.FAILED_PRECONDITION||l.code===De.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function W0(n){if(n._initialized||n._terminated)throw new qe(De.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new qe(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _l{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _l(Sr.fromBase64String(e))}catch(t){throw new qe(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _l(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xh{constructor(e){this._methodName=e}}class Z0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qe(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qe(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _n(this._lat,e._lat)||_n(this._long,e._long)}}const K0=/^__.*__$/;class jR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new co(e,this.data,t,this.fieldTransforms)}}class eD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Y0{constructor(e,t,r,o,l,h){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=o,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new Y0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Oc({path:r,Fc:!1});return o.Lc(e),o}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Oc({path:r,Fc:!1});return o.xc(),o}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return kg(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(tD(this.$c)&&K0.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class $R{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||bg(e)}Qc(e,t,r,o=!1){return new Y0({$c:e,methodName:t,jc:r,path:zr.emptyPath(),Fc:!1,Kc:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Nu(n){const e=n._freezeSettings(),t=bg(n._databaseId);return new $R(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wy(n,e,t,r,o,l={}){const h=n.Qc(l.merge||l.mergeFields?2:0,e,t,o);Sy("Data must be an object, but it was:",h,r);const p=xg(r,h);let v,C;if(l.merge)v=new cc(h.fieldMask),C=h.fieldTransforms;else if(l.mergeFields){const T=[];for(const D of l.mergeFields){const U=Dy(e,D,t);if(!h.contains(U))throw new qe(De.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);iD(T,U)||T.push(U)}v=new cc(T),C=h.fieldTransforms.filter(D=>v.covers(D.field))}else v=null,C=h.fieldTransforms;return new jR(new Pi(p),v,C)}class Xi extends Xh{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xi}}function HR(n,e,t){return new Y0({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class Cy extends Xh{_toFieldTransform(e){return new Mh(e.path,new Ah)}isEqual(e){return e instanceof Cy}}class GR extends Xh{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=HR(this,e,!0),r=this.Wc.map(l=>yl(l,t)),o=new wa(r);return new Mh(e.path,o)}isEqual(e){return this===e}}class nD extends Xh{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=HR(this,e,!0),r=this.Wc.map(l=>yl(l,t)),o=new vu(r);return new Mh(e.path,o)}isEqual(e){return this===e}}class rD extends Xh{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new bu(e.k,Xp(e.k,this.Gc));return new Mh(e.path,t)}isEqual(e){return this===e}}function Iy(n,e,t,r){const o=n.Qc(1,e,t);Sy("Data must be an object, but it was:",o,r);const l=[],h=Pi.empty();pu(r,(v,C)=>{const T=Q0(e,v,t);C=(0,Ut.m9)(C);const D=o.Bc(T);if(C instanceof Xi)l.push(T);else{const U=yl(C,D);null!=U&&(l.push(T),h.set(T,U))}});const p=new cc(l);return new eD(h,p,o.fieldTransforms)}function Mg(n,e,t,r,o,l){const h=n.Qc(1,e,t),p=[Dy(e,r,t)],v=[o];if(l.length%2!=0)throw new qe(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<l.length;U+=2)p.push(Dy(e,l[U])),v.push(l[U+1]);const C=[],T=Pi.empty();for(let U=p.length-1;U>=0;--U)if(!iD(C,p[U])){const B=p[U];let Y=v[U];Y=(0,Ut.m9)(Y);const Te=h.Bc(B);if(Y instanceof Xi)C.push(B);else{const Oe=yl(Y,Te);null!=Oe&&(C.push(B),T.set(B,Oe))}}const D=new cc(C);return new eD(T,D,h.fieldTransforms)}function Ty(n,e,t,r=!1){return yl(t,n.Qc(r?4:3,e))}function yl(n,e){if(Rg(n=(0,Ut.m9)(n)))return Sy("Unsupported field value:",e,n),xg(n,e);if(n instanceof Xh)return function(t,r){if(!tD(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const h of t){let p=yl(h,r.Uc(l));null==p&&(p={nullValue:"NULL_VALUE"}),o.push(p),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Ut.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Xp(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=qr.fromDate(t);return{timestampValue:Iu(r.k,o)}}if(t instanceof qr){const o=new qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Iu(r.k,o)}}if(t instanceof Z0)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof _l)return{bytesValue:V_(r.k,t._byteString)};if(t instanceof nr){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r.qc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qt(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${vy(t)}`)}(n,e)}function xg(n,e){const t={};return bE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pu(n,(r,o)=>{const l=yl(o,e.Mc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function Rg(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qr||n instanceof Z0||n instanceof _l||n instanceof nr||n instanceof Xh)}function Sy(n,e,t){if(!Rg(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=vy(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function Dy(n,e,t){if((e=(0,Ut.m9)(e))instanceof bc)return e._internalPath;if("string"==typeof e)return Q0(n,e);throw kg("Field path arguments must be of type string or ",n,!1,void 0,t)}const qR=new RegExp("[~\\*/\\[\\]]");function Q0(n,e,t){if(e.search(qR)>=0)throw kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bc(...e.split("."))._internalPath}catch(r){throw kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kg(n,e,t,r,o){const l=r&&!r.isEmpty(),h=void 0!==o;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(l||h)&&(v+=" (found",l&&(v+=` in field ${r}`),h&&(v+=` in document ${o}`),v+=")"),new qe(De.INVALID_ARGUMENT,p+n+v)}function iD(n,e){return n.some(t=>t.isEqual(e))}class Og{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ef("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zR extends Og{data(){return super.data()}}function ef(n,e){return"string"==typeof e?Q0(n,e):e instanceof bc?e._internalPath:e._delegate._internalPath}class Fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pr extends Og{constructor(e,t,r,o,l,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ef("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class vl extends pr{data(e={}){return super.data(e)}}class Fo{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Fu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vl(this._firestore,this._userDataWriter,r.key,r,new Fu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qe(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new vl(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Fu(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const p=new vl(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Fu(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,C=-1;return 0!==h.type&&(v=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),C=l.indexOf(h.doc.key)),{type:sD(h.type),doc:p,oldIndex:v,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}function Pg(n,e){return n instanceof pr&&e instanceof pr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Fo&&e instanceof Fo&&n._firestore===e._firestore&&QS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Ay(n){if(R_(n)&&0===n.explicitOrderBy.length)throw new qe(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tf{}function Lo(n,...e){for(const t of e)n=t._apply(n);return n}class WR extends tf{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=Nu(e.firestore),r=function(o,l,h,p,v,C,T){let D;if(v.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new qe(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){lD(T,C);const B=[];for(const Y of T)B.push(xy(p,o,Y));D={arrayValue:{values:B}}}else D=xy(p,o,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||lD(T,C),D=Ty(h,"where",T,"in"===C||"not-in"===C);const U=Yi.create(v,C,D);return function(B,Y){if(Y.V()){const Oe=AE(B);if(null!==Oe&&!Oe.isEqual(Y.field))throw new qe(De.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Oe.toString()}' and '${Y.field.toString()}'`);const et=DE(B);null!==et&&X0(0,Y.field,et)}const Te=function(Oe,et){for(const ct of Oe.filters)if(et.indexOf(ct.op)>=0)return ct.op;return null}(B,function(Oe){switch(Oe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Y.op));if(null!==Te)throw new qe(De.INVALID_ARGUMENT,Te===Y.op?`Invalid query. You cannot use more than one '${Y.op.toString()}' filter.`:`Invalid query. You cannot use '${Y.op.toString()}' filters with '${Te.toString()}' filters.`)}(o,U),U}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Vi(e.firestore,e.converter,function(o,l){const h=o.filters.concat([l]);return new Us(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class KR extends tf{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new qe(De.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new qe(De.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Ih(o,l);return function(p,v){if(null===DE(p)){const C=AE(p);null!==C&&X0(0,C,v.field)}}(r,h),h}(e._query,this.zc,this.Yc);return new Vi(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Us(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class J0 extends tf{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new Vi(e.firestore,e.converter,vT(e._query,this.Xc,this.Zc))}}class oD extends tf{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=aD(e,this.type,this.ta,this.ea);return new Vi(e.firestore,e.converter,(o=t,new Us((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class My extends tf{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=aD(e,this.type,this.ta,this.ea);return new Vi(e.firestore,e.converter,(o=t,new Us((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function aD(n,e,t,r){if(t[0]=(0,Ut.m9)(t[0]),t[0]instanceof Og)return function(o,l,h,p,v){if(!p)throw new qe(De.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const C=[];for(const T of Sh(o))if(T.field.isKeyField())C.push(wE(l,p.key));else{const D=p.data.field(T.field);if(x_(D))throw new qe(De.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const U=T.field.canonicalString();throw new qe(De.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}C.push(D)}return new Ch(C,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Nu(n.firestore);return function(l,h,p,v,C,T){const D=l.explicitOrderBy;if(C.length>D.length)throw new qe(De.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let B=0;B<C.length;B++){const Y=C[B];if(D[B].field.isKeyField()){if("string"!=typeof Y)throw new qe(De.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof Y}`);if(!ME(l)&&-1!==Y.indexOf("/"))throw new qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${Y}' contains a slash.`);const Te=l.path.child(Dn.fromString(Y));if(!Et.isDocumentKey(Te))throw new qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${Te}' is not because it contains an odd number of segments.`);const Oe=new Et(Te);U.push(wE(h,Oe))}else{const Te=Ty(p,v,Y);U.push(Te)}}return new Ch(U,T)}(n._query,n.firestore._databaseId,o,e,t,r)}}function xy(n,e,t){if("string"==typeof(t=(0,Ut.m9)(t))){if(""===t)throw new qe(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ME(e)&&-1!==t.indexOf("/"))throw new qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Dn.fromString(t));if(!Et.isDocumentKey(r))throw new qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wE(n,new Et(r))}if(t instanceof nr)return wE(n,t._key);throw new qe(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vy(t)}.`)}function lD(n,e){if(!Array.isArray(n)||0===n.length)throw new qe(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new qe(De.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function X0(n,e,t){if(!t.isEqual(e))throw new qe(De.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Ry{convertValue(e,t="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wt()}}convertObject(e,t){const r={};return pu(e.fields,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new Z0(wr(e.latitude),wr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dT(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Eh(e));default:return null}}convertTimestamp(e){const t=uc(e);return new qr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Dn.fromString(e);Gt(UT(r));const o=new Jh(r.get(1),r.get(3)),l=new Et(r.popFirst(5));return o.isEqual(t)||Lr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function ky(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class tk extends Ry{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}class cD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nu(e)}set(e,t,r){this._verifyNotCommitted();const o=Ui(e,this._firestore),l=ky(o.converter,t,r),h=wy(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Dr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Ui(e,this._firestore);let h;return h="string"==typeof(t=(0,Ut.m9)(t))||t instanceof bc?Mg(this._dataReader,"WriteBatch.update",l._key,t,r,o):Iy(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ui(e,this._firestore);return this._mutations=this._mutations.concat(new Ni(t._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new qe(De.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ui(n,e){if((n=(0,Ut.m9)(n)).firestore!==e)throw new qe(De.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mo extends Ry{constructor(e){super(),this.firestore=e}convertBytes(e){return new _l(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}function ew(n,e,t){n=In(n,nr);const r=In(n.firestore,fr),o=ky(n.converter,e,t);return rf(r,[wy(Nu(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Dr.none())])}function tw(n,e,t,...r){n=In(n,nr);const o=In(n.firestore,fr),l=Nu(o);let h;return h="string"==typeof(e=(0,Ut.m9)(e))||e instanceof bc?Mg(l,"updateDoc",n._key,e,t,r):Iy(l,"updateDoc",n._key,e),rf(o,[h.toMutation(n._key,Dr.exists(!0))])}function Py(n,...e){var t,r,o;n=(0,Ut.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||z0(e[h])||(l=e[h],h++);const p={includeMetadataChanges:l.includeMetadataChanges};if(z0(e[h])){const D=e[h];e[h]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[h+1]=null===(r=D.error)||void 0===r?void 0:r.bind(D),e[h+2]=null===(o=D.complete)||void 0===o?void 0:o.bind(D)}let v,C,T;if(n instanceof nr)C=In(n.firestore,fr),T=Th(n._key.path),v={next:D=>{e[h]&&e[h](Ny(C,n,D))},error:e[h+1],complete:e[h+2]};else{const D=In(n,Vi);C=In(D.firestore,fr),T=D._query;const U=new mo(C);v={next:B=>{e[h]&&e[h](new Fo(C,U,D,B))},error:e[h+1],complete:e[h+2]},Ay(n._query)}return function(D,U,B,Y){const Te=new hy(Y),Oe=new w0(U,Te,B);return D.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return AS(yield Pu(D),Oe)})),()=>{Te.nc(),D.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return Yh(yield Pu(D),Oe)}))}}(Jr(C),T,p,v)}function rf(n,e){return function(t,r){const o=new Gr;return t.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(n,e,t){return T0.apply(this,arguments)}(yield GS(t),r,o)})),o.promise}(Jr(n),e)}function Ny(n,e,t){const r=t.docs.get(e._key),o=new mo(n);return new pr(n,o,e._key,r,new Fu(t.hasPendingWrites,t.fromCache),e.converter)}class Lu extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Nu(e)}get(e){const t=Ui(e,this._firestore),r=new tk(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return wt();const l=o[0];if(l.isFoundDocument())return new Og(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Og(this._firestore,r,t._key,null,t.converter);throw wt()})}set(e,t,r){const o=Ui(e,this._firestore),l=ky(o.converter,t,r),h=wy(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const l=Ui(e,this._firestore);let h;return h="string"==typeof(t=(0,Ut.m9)(t))||t instanceof bc?Mg(this._dataReader,"Transaction.update",l._key,t,r,o):Iy(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Ui(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ui(e,this._firestore),r=new mo(this._firestore);return super.get(e).then(o=>new pr(this._firestore,r,t._key,o._document,new Fu(!1,!1),t.converter))}}function hD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function uk(){if("undefined"==typeof Uint8Array)throw new qe("unimplemented","Uint8Arrays are not available in this environment.")}function dk(){if("undefined"==typeof atob)throw new qe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){_h=ii.SDK_VERSION,(0,ii._registerComponent)(new Mo.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),l=new fr(o,new sx(t.getProvider("auth-internal")),new ax(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,ii.registerVersion)(sT,"3.4.3",n),(0,ii.registerVersion)(sT,"3.4.3","esm2017")}();class Fy{constructor(e){this._delegate=e}static fromBase64String(e){return dk(),new Fy(_l.fromBase64String(e))}static fromUint8Array(e){return uk(),new Fy(_l.fromUint8Array(e))}toBase64(){return dk(),this._delegate.toBase64()}toUint8Array(){return uk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function rw(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class V1{enableIndexedDbPersistence(e,t){return function(n,e){W0(n=In(n,fr));const t=Jr(n),r=n._freezeSettings(),o=new dy;return XS(t,o,new Qh(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){W0(n=In(n,fr));const e=Jr(n),t=n._freezeSettings(),r=new dy;return XS(e,r,new V0(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new qe(De.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Me.Z)(function*(){try{yield(t=(0,Me.Z)(function*(r){if(!Ro.Pt())return Promise.resolve();const o=r+"main";yield Ro.delete(o)}),function(r){return t.apply(this,arguments)})(hg(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hk{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Jh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const l=(n=In(n,by))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&yh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,p;if("string"==typeof r.mockUserToken)h=r.mockUserToken,p=_i.MOCK_USER;else{h=(0,Ut.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new qe(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new _i(v)}n._authCredentials=new ix(new _E(h,p))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield HS(n),t=yield Yr(n);return e.setNetworkEnabled(!0),function(r){const o=it(r);return o.Gr.delete(0),Eg(o)}(t)}))}(Jr(n=In(n,fr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,Me.Z)(function*(){const e=yield HS(n),t=yield Yr(n);return e.setNetworkEnabled(!1),(r=(0,Me.Z)(function*(o){const l=it(o);l.Gr.add(0),yield zh(l),l.Jr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Jr(n=In(n,fr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Qr("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Gr;return e.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return function(n,e){return sy.apply(this,arguments)}(yield GS(e),t)})),t.promise}(Jr(n=In(n,fr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new hy(e);return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return r=yield Pu(n),o=t,it(r).io.add(o),void o.next();var r,o})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return r=yield Pu(n),o=t,void it(r).io.delete(o);var r,o}))}}(Jr(n=In(n,fr)),z0(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new qe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new H(this,YS(this._delegate,e))}catch(t){throw f(t,"collection()","Firestore.collection()")}}doc(e){try{return new d(this,Ey(this._delegate,e))}catch(t){throw f(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new S(this,function(n,e){if(n=In(n,by),yy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qe(De.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Vi(n,null,(t=e,new Us(Dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw f(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){const r=yield(o=n,H0(o).then(l=>l.datastore));var o;new T1(n.asyncQueue,r,e,t).run()})),t.promise}(Jr(n=In(n,fr)),t=>e(new Lu(n,t)))}(this._delegate,t=>e(new s(this,t)))}batch(){return Jr(this._delegate),new a(new cD(this._delegate,e=>rf(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Jr(n=In(n,fr)),r=new D1;return function(n,e,t,r){const o=function(l,h){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,v=function(v,C){if(v instanceof Uint8Array)return US(v,C);if(v instanceof ArrayBuffer)return US(new Uint8Array(v),C);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new C1(v,h);var v}(t,bg(e));n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){!function(n,e,t){const r=it(n);var o;(o=(0,Me.Z)(function*(l,h,p){try{const v=yield h.getMetadata();if(yield function(U,B){const Y=it(U),Te=yi(B.createTime);return Y.persistence.runTransaction("hasNewerBundle","readonly",Oe=>Y.Ye.getBundleMetadata(Oe,B.id)).then(Oe=>!!Oe&&Oe.createTime.compareTo(Te)>=0)}(l.localStore,v))return yield h.close(),void p._completeWith((U=v,{taskState:"Success",documentsLoaded:U.totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}));p._updateProgress(mR(v));const C=new gR(v,l.localStore,h.k);let T=yield h.Ho();for(;T;){const U=yield C.yo(T);U&&p._updateProgress(U),T=yield h.Ho()}const D=yield C.complete();yield Sa(l,D.In,void 0),yield function(U,B){const Y=it(U);return Y.persistence.runTransaction("Save bundle","readwrite",Te=>Y.Ye.saveBundleMetadata(Te,B))}(l.localStore,v),p._completeWith(D.progress)}catch(v){yh("SyncEngine",`Loading bundle failed with ${v}`),p._failWith(v)}var U}),function(l,h,p){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield GS(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,Me.Z)(function*(){return function(t,r){const o=it(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.Ye.getNamedQuery(l,r))}(yield Sg(n),e)}))}(Jr(n=In(n,fr)),e).then(t=>t?new Vi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new S(this,t):null)}}class iw extends Ry{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fy(new _l(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return d.forKey(t,this.firestore,null)}}class s{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new iw(e)}get(e){const t=Q(e);return this._delegate.get(t).then(r=>new E(this._firestore,new pr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Q(e);return r?(hD("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Q(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Q(e);return this._delegate.delete(t),this}}class a{constructor(e){this._delegate=e}set(e,t,r){const o=Q(e);return r?(hD("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=Q(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=Q(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class c{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new vl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new I(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=c.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new c(e,new iw(e),t),o.set(t,l)),l}}c.INSTANCES=new WeakMap;class d{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new iw(e)}static forPath(e,t,r){if(e.length%2!=0)throw new qe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new d(t,new nr(t._delegate,r,new Et(e)))}static forKey(e,t,r){return new d(t,new nr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new H(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new H(this.firestore,YS(this._delegate,e))}catch(t){throw f(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ut.m9)(e))instanceof nr&&PR(this._delegate,e)}set(e,t){t=hD("DocumentReference.set",t);try{return t?ew(this._delegate,e,t):ew(this._delegate,e)}catch(r){throw f(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?tw(this._delegate,e):tw(this._delegate,e,t,...r)}catch(o){throw f(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return rf(In(n.firestore,fr),[new Ni(n._key,Dr.none())])}(this._delegate)}onSnapshot(...e){const t=g(e),r=y(e,o=>new E(this.firestore,new pr(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return Py(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=In(n,nr);const e=In(n.firestore,fr),t=Jr(e),r=new mo(e);return function(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(r=(0,Me.Z)(function*(o,l,h){try{const p=yield function(v,C){const T=it(v);return T.persistence.runTransaction("read document","readonly",D=>T.Wn.Rn(D,C))}(o,l);p.isFoundDocument()?h.resolve(p):p.isNoDocument()?h.resolve(null):h.reject(new qe(De.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const v=Zh(p,`Failed to get document '${l} from cache`);h.reject(v)}}),function(o,l,h){return r.apply(this,arguments)})(yield Sg(n),e,t);var r})),t.promise}(t,n._key).then(o=>new pr(e,r,n._key,o,new Fu(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=In(n,nr);const e=In(n.firestore,fr);return qS(Jr(e),n._key,{source:"server"}).then(t=>Ny(e,n,t))}(this._delegate):function(n){n=In(n,nr);const e=In(n.firestore,fr);return qS(Jr(e),n._key).then(t=>Ny(e,n,t))}(this._delegate),t.then(r=>new E(this.firestore,new pr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new d(this.firestore,this._delegate.withConverter(e?c.getInstance(this.firestore,e):null))}}function f(n,e,t){return n.message=n.message.replace(e,t),n}function g(n){for(const e of n)if("object"==typeof e&&!rw(e))return e;return{}}function y(n,e){var t,r;let o;return o=rw(n[0])?n[0]:rw(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class E{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new d(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Pg(this._delegate,e._delegate)}}class I extends E{data(e){const t=this._delegate.data(e);return function(n,e){n||wt()}(void 0!==t),t}}class S{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new iw(e)}where(e,t,r){try{return new S(this.firestore,Lo(this._delegate,function(n,e,t){const r=e,o=ef("where",n);return new WR(o,r,t)}(e,t,r)))}catch(o){throw f(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new S(this.firestore,Lo(this._delegate,function(n,e="asc"){const t=e,r=ef("orderBy",n);return new KR(r,t)}(e,t)))}catch(r){throw f(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new S(this.firestore,Lo(this._delegate,function(n){return Dg("limit",n),new J0("limit",n,"F")}(e)))}catch(t){throw f(t,"limit()","Query.limit()")}}limitToLast(e){try{return new S(this.firestore,Lo(this._delegate,function(n){return Dg("limitToLast",n),new J0("limitToLast",n,"L")}(e)))}catch(t){throw f(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new S(this.firestore,Lo(this._delegate,function(...n){return new oD("startAt",n,!0)}(...e)))}catch(t){throw f(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new S(this.firestore,Lo(this._delegate,function(...n){return new oD("startAfter",n,!1)}(...e)))}catch(t){throw f(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new S(this.firestore,Lo(this._delegate,function(...n){return new My("endBefore",n,!0)}(...e)))}catch(t){throw f(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new S(this.firestore,Lo(this._delegate,function(...n){return new My("endAt",n,!1)}(...e)))}catch(t){throw f(t,"endAt()","Query.endAt()")}}isEqual(e){return QS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=In(n,Vi);const e=In(n.firestore,fr),t=Jr(e),r=new mo(e);return function(n,e){const t=new Gr;return n.asyncQueue.enqueueAndForget((0,Me.Z)(function*(){return(r=(0,Me.Z)(function*(o,l,h){try{const p=yield Z_(o,l,!0),v=new xS(l,p.zn),C=v.Po(p.documents),T=v.applyChanges(C,!1);h.resolve(T.snapshot)}catch(p){const v=Zh(p,`Failed to execute query '${l} against cache`);h.reject(v)}}),function(o,l,h){return r.apply(this,arguments)})(yield Sg(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Fo(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=In(n,Vi);const e=In(n.firestore,fr),t=Jr(e),r=new mo(e);return vc(t,n._query,{source:"server"}).then(o=>new Fo(e,r,n,o))}(this._delegate):function(n){n=In(n,Vi);const e=In(n.firestore,fr),t=Jr(e),r=new mo(e);return Ay(n._query),vc(t,n._query).then(o=>new Fo(e,r,n,o))}(this._delegate),t.then(r=>new R(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=g(e),r=y(e,o=>new R(this.firestore,new Fo(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return Py(this._delegate,t,r)}withConverter(e){return new S(this.firestore,this._delegate.withConverter(e?c.getInstance(this.firestore,e):null))}}class x{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new I(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class R{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new S(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new I(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new x(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new I(this._firestore,r))})}isEqual(e){return Pg(this._delegate,e._delegate)}}class H extends S{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new d(this.firestore,e):null}doc(e){try{return new d(this.firestore,void 0===e?Ey(this._delegate):Ey(this._delegate,e))}catch(t){throw f(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=In(n.firestore,fr),r=Ey(n),o=ky(n.converter,e);return rf(t,[wy(Nu(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new d(this.firestore,t))}isEqual(e){return PR(this._delegate,e._delegate)}withConverter(e){return new H(this.firestore,this._delegate.withConverter(e?c.getInstance(this.firestore,e):null))}}function Q(n){return In(n,nr)}class be{constructor(...e){this._delegate=new bc(...e)}static documentId(){return new be(zr.keyField().canonicalString())}isEqual(e){return(e=(0,Ut.m9)(e))instanceof bc&&this._delegate._internalPath.isEqual(e._internalPath)}}class ae{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Cy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ae(e)}static delete(){const e=new Xi("deleteField");return e._methodName="FieldValue.delete",new ae(e)}static arrayUnion(...e){const t=function(...n){return new GR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ae(t)}static arrayRemove(...e){const t=function(...n){return new nD("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ae(t)}static increment(e){const t=function(n){return new rD("increment",n)}(e);return t._methodName="FieldValue.increment",new ae(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ze={Firestore:hk,GeoPoint:Z0,Timestamp:qr,Blob:Fy,Transaction:s,WriteBatch:a,DocumentReference:d,DocumentSnapshot:E,Query:S,QueryDocumentSnapshot:I,QuerySnapshot:R,CollectionReference:H,FieldPath:be,FieldValue:ae,setLogLevel:function(n){!function(n){ll.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Mo.wA("firestore-compat",t=>((e,t)=>new hk(e,t,new V1))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},ze)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.12")}(su.Z);var jt=k(6682),an=k(6136),Xr=k(7771),_o=k(8858);class Lg extends Wi.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new sf(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,l=r.length;let h;if(this.closed)throw new Rv.N;if(this.isStopped||this.hasError?h=Vd.w.EMPTY:(this.observers.push(e),h=new _o.W(this,e)),o&&e.add(e=new an.ht(e,o)),t)for(let p=0;p<l&&!e.closed;p++)e.next(r[p]);else for(let p=0;p<l&&!e.closed;p++)e.next(r[p].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||Xr.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,l=o.length;let h=0;for(;h<l&&!(e-o[h].time<r);)h++;return l>t&&(h=Math.max(h,l-t)),h>0&&o.splice(0,h),o}}class sf{constructor(e,t){this.time=e,this.value=t}}function Vu(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,l=0,p=!1,v=!1;return function(T){let D;l++,!o||p?(p=!1,o=new Lg(n,e,r),D=o.subscribe(this),h=T.subscribe({next(U){o.next(U)},error(U){p=!0,o.error(U)},complete(){v=!0,h=void 0,o.complete()}}),v&&(h=void 0)):D=o.subscribe(this),this.add(()=>{l--,D.unsubscribe(),D=void 0,h&&!v&&t&&0===l&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}function Ly(n,e){return e?Er(()=>n,e):Er(()=>n)}var Vg=k(3101),lf=k(2329);const U1=new Map,kL={activated:!1,tokenObservers:[]},OL={initialized:!1,enabled:!1};function Bi(n){return U1.get(n)||kL}function El(n,e){U1.set(n,e)}function fD(){return OL}class VL{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Me.Z)(function*(){t.stop();try{t.pending=new Ut.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ut.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hs=new Ut.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function j1(n){if(!Bi(n).activated)throw Hs.create("use-before-activation",{appName:n.name})}function mk(n,e){return _k.apply(this,arguments)}function _k(){return(_k=(0,Me.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,p;try{h=yield fetch(n,l)}catch(D){throw Hs.create("fetch-network-error",{originalErrorMessage:D.message})}if(200!==h.status)throw Hs.create("fetch-status-error",{httpStatus:h.status});try{p=yield h.json()}catch(D){throw Hs.create("fetch-parse-error",{originalErrorMessage:D.message})}const v=p.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Hs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const C=1e3*Number(v[1]),T=Date.now();return{token:p.attestationToken,expireTimeMillis:T+C,issuedAtTimeMillis:T}})).apply(this,arguments)}function GL(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const ow="firebase-app-check-store";let mD=null;function H1(){return mD||(mD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Hs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{const o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(ow,{keyPath:"compositeKey"})}}}catch(t){e(Hs.create("storage-open",{originalErrorMessage:t.message}))}}),mD)}function yk(){return(yk=(0,Me.Z)(function*(n,e){const r=(yield H1()).transaction(ow,"readwrite"),l=r.objectStore(ow).put({compositeKey:n,value:e});return new Promise((h,p)=>{l.onsuccess=v=>{h()},r.onerror=v=>{var C;p(Hs.create("storage-set",{originalErrorMessage:null===(C=v.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const aw=new Ns.Yd("@firebase/app-check");function W1(n,e){return(0,Ut.hl)()?function(n,e){return function(n,e){return yk.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{aw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Z1(){return fD().enabled}function K1(){return wk.apply(this,arguments)}function wk(){return(wk=(0,Me.Z)(function*(){const n=fD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const eV={error:"UNKNOWN_ERROR"};function tV(n){return Ut.US.encodeString(JSON.stringify(n),!1)}function _D(n){return Ck.apply(this,arguments)}function Ck(){return(Ck=(0,Me.Z)(function*(n,e=!1){const t=n.app;j1(t);const r=Bi(t);let l,o=r.token;if(!o){const v=yield r.cachedTokenPromise;v&&yD(v)&&(o=v)}if(!e&&o&&yD(o))return{token:o.token};let p,h=!1;if(Z1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=mk(GL(t,yield K1()),n.platformLoggerProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),h=!0);const v=yield r.exchangeTokenPromise;return yield W1(t,v),El(t,Object.assign(Object.assign({},r),{token:v})),{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(v=>(r.exchangeTokenPromise=void 0,v)),h=!0),o=yield r.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?aw.warn(v.message):aw.error(v),l=v}return o?(p={token:o.token},El(t,Object.assign(Object.assign({},r),{token:o})),yield W1(t,o)):p=rV(l),h&&Q1(t,p),p})).apply(this,arguments)}function Tk(n,e){const t=Bi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),El(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Y1(n){const{app:e}=n,t=Bi(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new VL((0,Me.Z)(function*(){let r;if(r=Bi(e).token?yield _D(n,!0):yield _D(n),r.error)throw r.error}),()=>!0,()=>{const t=Bi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),El(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Q1(n,e){const t=Bi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function yD(n){return n.expireTimeMillis-Date.now()>0}function rV(n){return{token:tV(eV),error:n}}class iV{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Bi(this.app);for(const t of e)Tk(this.app,t.next);return Promise.resolve()}}const sP="app-check-internal";(0,ii._registerComponent)(new Mo.wA("app-check",n=>function(n,e){return new iV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(sP).initialize()})),(0,ii._registerComponent)(new Mo.wA(sP,n=>function(n){return{getToken:e=>_D(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,l=Bi(o),h={next:t,error:r,type:e};if(El(o,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]})),l.token&&yD(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),Y1(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Y1(n))}(n,"INTERNAL",e),removeTokenListener:e=>Tk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ii.registerVersion)("@firebase/app-check","0.5.3");class bD{constructor(){return(0,Pt.vb)("app-check")}}"undefined"!=typeof window&&window;var CV=k(7841);const aP=new u.OlP("angularfire2.auth.use-emulator"),lP=new u.OlP("angularfire2.auth.settings"),cP=new u.OlP("angularfire2.auth.tenant-id"),uP=new u.OlP("angularfire2.auth.langugage-code"),dP=new u.OlP("angularfire2.auth.use-device-language"),hP=new u.OlP("angularfire.auth.persistence"),fP=(n,e,t,r,o,l,h,p)=>(0,Or.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,l&&v.useDeviceLanguage(),h)for(const[C,T]of Object.entries(h))v.settings[C]=T;return p&&v.setPersistence(p),v},[t,r,o,l,h,p]);let pP=(()=>{class n{constructor(t,r,o,l,h,p,v,C,T,D,U,B){const Y=new Wi.xQ,Te=(0,bt.of)(void 0).pipe((0,an.QV)(h.outsideAngular),Er(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4828)))),(0,Rt.U)(()=>(0,Or.on)(t,l,r)),(0,Rt.U)(Oe=>fP(Oe,l,p,C,T,D,v,U)),Vu({bufferSize:1,refCount:!1}));if(di(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,bt.of)(null);else{Te.pipe(To()).subscribe();const et=Te.pipe(Er(at=>at.getRedirectResult().then(En=>En,()=>null)),Pt.iC,Vu({bufferSize:1,refCount:!1})),ct=Te.pipe(Er(at=>new Zi.y(En=>({unsubscribe:l.runOutsideAngular(()=>at.onAuthStateChanged(qn=>En.next(qn),qn=>En.error(qn),()=>En.complete()))})))),St=Te.pipe(Er(at=>new Zi.y(En=>({unsubscribe:l.runOutsideAngular(()=>at.onIdTokenChanged(qn=>En.next(qn),qn=>En.error(qn),()=>En.complete()))}))));this.authState=et.pipe(Ly(ct),(0,Vg.R)(h.outsideAngular),(0,an.QV)(h.insideAngular)),this.user=et.pipe(Ly(St),(0,Vg.R)(h.outsideAngular),(0,an.QV)(h.insideAngular)),this.idToken=this.user.pipe(Er(at=>at?(0,Gn.D)(at.getIdToken()):(0,bt.of)(null))),this.idTokenResult=this.user.pipe(Er(at=>at?(0,Gn.D)(at.getIdTokenResult()):(0,bt.of)(null))),this.credential=(0,jt.T)(et,Y,this.authState.pipe(Xs(at=>!at))).pipe((0,Rt.U)(at=>(null==at?void 0:at.user)?at:null),(0,Vg.R)(h.outsideAngular),(0,an.QV)(h.insideAngular))}return(0,Or.pX)(this,Te,l,{spy:{apply:(Oe,et,ct)=>{(Oe.startsWith("signIn")||Oe.startsWith("createUser"))&&ct.then(St=>Y.next(St))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Or.Dh),u.LFG(Or.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Pt.HU),u.LFG(aP,8),u.LFG(lP,8),u.LFG(cP,8),u.LFG(uP,8),u.LFG(dP,8),u.LFG(hP,8),u.LFG(bD,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function gP(n,e){return function(n,e=Yd.z){return new Zi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function xk(n,e){return gP(n,e).pipe((0,Rt.U)(t=>({payload:t,type:"query"})))}function ED(n,e){return xk(n,e).pipe(Jc(void 0),_a(),(0,Rt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,p)=>{const v=o.find(T=>T.doc.ref.isEqual(h.ref)),C=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&C&&JSON.stringify(C.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:h}})}),l}))}function mP(n,e,t){return ED(n,t).pipe(Ld((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Rk(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Rk(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Rk(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),bp(),(0,Rt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Rk(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function _P(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class yP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ED(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Rt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Jc(void 0),_a(),Xs(([r,o])=>o.length>0||!r),(0,Rt.U)(([r,o])=>o),Pt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ld((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_P(e);return mP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pt.iC)}valueChanges(e={}){return xk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Pt.iC)}get(e){return(0,Gn.D)(this.query.get(e)).pipe(Pt.iC)}add(e){return this.ref.add(e)}doc(e){return new vP(this.ref.doc(e),this.afs)}}class vP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=bP(r,t);return new yP(o,l,this.afs)}snapshotChanges(){return function(n,e){return gP(n,e).pipe(Jc(void 0),_a(),(0,Rt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Rt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Gn.D)(this.ref.get(e)).pipe(Pt.iC)}}class MV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ED(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Xs(t=>t.length>0),Pt.iC):ED(this.query,this.afs.schedulers.outsideAngular).pipe(Pt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ld((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=_P(e);return mP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pt.iC)}valueChanges(e={}){return xk(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Pt.iC)}get(e){return(0,Gn.D)(this.query.get(e)).pipe(Pt.iC)}}const xV=new u.OlP("angularfire2.enableFirestorePersistence"),RV=new u.OlP("angularfire2.firestore.persistenceSettings"),kV=new u.OlP("angularfire2.firestore.settings"),OV=new u.OlP("angularfire2.firestore.use-emulator");function bP(n,e=(t=>t)){return{query:e(n),ref:n}}let PV=(()=>{class n{constructor(t,r,o,l,h,p,v,C,T,D,U,B,Y,Te,Oe,et,ct){this.schedulers=v;const St=(0,Or.on)(t,p,r),at=T;D&&fP(St,p,U,Y,Te,Oe,B,et),[this.firestore,this.persistenceEnabled$]=(0,Or.cc)(`${St.name}.firestore`,"AngularFirestore",St.name,()=>{const En=p.runOutsideAngular(()=>St.firestore());if(l&&En.settings(l),at&&En.useEmulator(...at),o&&!di(h)){const qn=()=>{try{return(0,Gn.D)(En.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Ir){return"undefined"!=typeof console&&console.warn(Ir),(0,bt.of)(!1)}};return[En,p.runOutsideAngular(qn)]}return[En,(0,bt.of)(!1)]},[l,at,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=bP(o,r),p=this.schedulers.ngZone.run(()=>l);return new yP(p,h,this)}collectionGroup(t,r){const o=r||(h=>h),l=this.firestore.collectionGroup(t);return new MV(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new vP(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Or.Dh),u.LFG(Or.xv,8),u.LFG(xV,8),u.LFG(kV,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Pt.HU),u.LFG(RV,8),u.LFG(OV,8),u.LFG(pP,8),u.LFG(aP,8),u.LFG(lP,8),u.LFG(cP,8),u.LFG(uP,8),u.LFG(dP,8),u.LFG(hP,8),u.LFG(bD,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),lw=(()=>{class n{constructor(t){this.afs=t,this.trainStationData=new kr(null),this.trainData=new kr(null),this.platformData=new kr(null),this.selectedStation=new kr(null),this.trainStationCollection=t.collection("train_station"),this.train_stationDB=this.trainStationCollection.snapshotChanges().pipe((0,Rt.U)(r=>r.map(o=>{const l=o.payload.doc.data();return Object.assign({id:o.payload.doc.id},l)}))),this.afs.collection("train_station").doc("platforms").valueChanges().pipe(Ja(1)).subscribe(r=>{this.platformData.next(r.list),this.setTrainStation()}),this.afs.collection("train_station").doc("train").valueChanges().pipe(Ja(1)).subscribe(r=>{this.trainData.next(r.list[0]),this.setTrainStation()})}setTrainStation(){var t,r;null!==this.platformData.value&&null!==this.trainData.value&&(this.trainStationData.next({platform:this.platformData.value,train:this.trainData.value}),(null===(t=this.trainStationData.value)||void 0===t?void 0:t.platform[0])&&this.selectedStation.next(null===(r=this.trainStationData.value)||void 0===r?void 0:r.platform[0]))}setSelectedStation(t){this.selectedStation.next(t)}setTrainStationPlatform(){let t=[];this.getIconList().pipe(Ja(1)).subscribe(r=>{t=r,this.afs.collection("train_station").doc("platforms").set({list:[{title:"2009",subTitle:"School Diploma",description:"My name is Hanna but I prefer Hanny, and I\u2019m looking for my next Angular developer position to hone my skills. I work as a developer and designer by day and a computer science student by night. In my free time I enjoy watching comedy horror movies and once a year I have my usual Skyrim replay.",type:"one",index:1,scr:"/assets/single.png",iconsGroup:[this.findIconByName(t.list,"diploma")],className:"one"},{title:"2010-2015",subTitle:"HELD - Branch Manager, Graphic Designer & Photographer",description:"Held is a chain of shops that offers all types of printing solutions ,such as digital photo developing,  printing on products, printing on canvases, glass and more. As part of my employment in Held I was responsible for the whole store operation including graphic design, digital photo development and printing on products. I was promoted to be the brunch manager and my responsibilities  was to hire new employees and teach them to use the store machines, the programs we use to design client's products, the store protocols and more. Also as branch manager I was responsible to do the employees work schedule and to help the employees when they had problems with customers or with their peers.",type:"two",index:2,scr:"/assets/double.png",iconsGroup:[this.findIconByName(t.list,"camera"),this.findIconByName(t.list,"graphic-design")],className:"two"},{title:"2014-2015",subTitle:"Graphic Design Diploma at Shenkar College of  Engineering, Design and Art",description:"In my studies at Shenkar College of  Engineering, Design and Art I learned the fundamentals of graphic design, understanding the graphic expression, learned the history of graphic design, got the ability to translate design ideas and develop creativity, learned the knowledge of typography and the history of writing, photography, learned the most advanced and required graphic software in the industry,  i got extensive knowledge and experience in branding design, book, posters, and packaging and much more.",type:"one",index:3,scr:"/assets/single.png",iconsGroup:[this.findIconByName(t.list,"indesign"),this.findIconByName(t.list,"photoshop"),this.findIconByName(t.list,"illustrator")],className:"three"},{title:"2015-2017",subTitle:"Tzevet Aphacot - Graphic Designer",description:"Tzevet Aphacot is a studio that specializes in print design. I was a designer there and I worked on many projects such as branding new companies or rebranding existed companies, designing book covers, designing from scratch catalogs and posters for big companies such as \u201c\u05d0\u05e8\u05d2\u05d5\u05df \u05d4\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd\u201d and \u2018Sothys\u2019 an international care products company and much more.",type:"two",index:4,scr:"/assets/double.png",iconsGroup:[this.findIconByName(t.list,"poster"),this.findIconByName(t.list,"logoDesign"),this.findIconByName(t.list,"printDesign"),this.findIconByName(t.list,"brandingDesign")],className:"four"},{title:"2017-2018",subTitle:"Capital Unit - Web Designer",description:"At Capital Unit I designed and updated websites and landing pages, collaborated with the marketing department on a range of campaigns that includes landing pages, mailers and banners. I designed various social networks campaigns  and I was responsible for all the graphic design within the company, such as posters, flyers, prints for company events, and more.",type:"one",index:5,scr:"/assets/single.png",iconsGroup:[this.findIconByName(t.list,"web-design"),this.findIconByName(t.list,"marketing")],className:"five"},{title:"2018-2019",subTitle:"Business Wizard - Web Designer & Web Developer",description:"Business Wizard was a marketing company that had small to medium-sized customers. As part of my position at Business Wizard I managed the studio, led the design decisions, created, maintained and updated websites and landing pages hosted on Unbounce with custom scripts and custom design. I learned and used HTML, CSS and JavaScript In order to provide features and designs that Unbounce couldn't provide for the clients needs.",type:"two",index:6,scr:"/assets/double.png",iconsGroup:[this.findIconByName(t.list,"unbounce"),this.findIconByName(t.list,"xd"),this.findIconByName(t.list,"css"),this.findIconByName(t.list,"html"),this.findIconByName(t.list,"js")],className:"six"},{title:"2019-2020",subTitle:"Freelance - Web Designer & Web Developer",description:"As a freelance designer and developer I worked with various clients on developing and designing websites and landing pages with Angular (8+) from scratch using libraries such as Bootstrap and Angular Material to build and design custom components. For storing Data I used cloud firestore and firebase for hosting. Also I developed and designed static landing pages with HTML, CSS, JavaScript (vanilla js) and  jQuery. As a designer I did various graphic design work tailored to client\u2019s needs.",type:"two",index:7,scr:"/assets/double.png",iconsGroup:[this.findIconByName(t.list,"unbounce"),this.findIconByName(t.list,"xd"),this.findIconByName(t.list,"css"),this.findIconByName(t.list,"html"),this.findIconByName(t.list,"js")],className:"seven"},{title:"2019-2021",subTitle:"Volunteer in she codes - Web course Manager ",description:"Manager and instructor in WEB course which includes HTML, CSS, JavaScript and jQuery. I was a student at She codes learning HTML, CSS & JS. After finishing the course I became a teacher of the course and after a short time I was promoted to course manager. As part of managing and teaching students the basics of HTML, CSS & JS I was required to master as much as possible the languages and help students understand them, Debug a lot of code and teach them how to improve their code.",type:"one",index:8,scr:"/assets/single.png",iconsGroup:[this.findIconByName(t.list,"css"),this.findIconByName(t.list,"html"),this.findIconByName(t.list,"js")],className:"eight"},{title:"2020 - current",subTitle:"SkillBee - Front End Developer & main Designer ",description:"SkillBee is a course creating platform that helps teachers to create, manage and sell their courses. As part of my position at SkillBee I was responsible for the FrontEnd development, design and UI\\UX from the grounds up. We used Angular 12 as the Framework for the FrontEnd, Python and fastAPI as the backend and MongoDB as the database as well as Firebase for its RealtimeDB and Authentication. GitHub was used as the Source Control. I was creating, improving, designing and implementing different types of Components, Services and Directives while heavily relying on RxJS for Data state management and Data Sharing between elements. To Share Data between different components when EventListeners and Inputs were not enough, I used services with Observables, Subjects, Behavioral Subjects and functions. Angular Material and PrimeNG were the libraries I used to design the components and made them more interactive with Animations, Custom Themes, SCSS, HTML and Typescript. To manage user data I used HTTP requests to an API (FastAPI) which was validating the request and storing it to MongoDB. Firebase was used for authentication and realtime data sharing between users like chats and realtime updates.",type:"three",index:9,scr:"/assets/three.png",iconsGroup:[this.findIconByName(t.list,"angular"),this.findIconByName(t.list,"angular-material"),this.findIconByName(t.list,"rxjs"),this.findIconByName(t.list,"firebase"),this.findIconByName(t.list,"scss"),this.findIconByName(t.list,"ts")],className:"nine"},{title:"My Next Station",subTitle:"Lorem ipsum dolor sit amet",description:"Designed and updated \nwebsites, collaborated with \nthe marketing department \non a range of campaigns \n(landing pages, mailers and \nbanners). designed for social \nnetworks and office events",type:"final",index:10,scr:"/assets/final.png",iconsGroup:t.list,className:"ten"}]}),this.afs.collection("train_station").doc("train").set({list:[{icons:this.hideIcons(t.list),trainScr:"/assets/train.png",trainWagon:"/assets/wagon.png"}]})})}setTrainStationIcons(){this.afs.collection("train_station").doc("icons").set({list:[{name:"diploma",src:"/assets/icons/diploma.png",index:1,visible:!0},{name:"camera",src:"/assets/icons/camera.png",index:1,visible:!0},{name:"graphic-design",src:"/assets/icons/graphic-design.png",index:1,visible:!0},{name:"poster",src:"/assets/icons/poster.png",index:2,visible:!0},{name:"logoDesign",src:"/assets/icons/logo.png",index:2,visible:!0},{name:"printDesign",src:"/assets/icons/flyer.png",index:2,visible:!0},{name:"brandingDesign",src:"/assets/icons/branding.png",index:2,visible:!0},{name:"illustrator",src:"/assets/icons/illustrator.png",index:3,visible:!0},{name:"photoshop",src:"/assets/icons/photoshop.png",index:3,visible:!0},{name:"indesign",src:"/assets/icons/indesign.png",index:3,visible:!0},{name:"web-design",src:"/assets/icons/web-design.png",index:2,visible:!0},{name:"marketing",src:"/assets/icons/marketing.png",index:2,visible:!0},{name:"unbounce",src:"/assets/icons/unbounce.png",index:2,visible:!0},{name:"xd",src:"/assets/icons/xd.png",index:2,visible:!0},{name:"html",src:"/assets/icons/html.png",index:3,visible:!0},{name:"css",src:"/assets/icons/css.png",index:3,visible:!0},{name:"js",src:"/assets/icons/js.png",index:3,visible:!0},{name:"angular",src:"/assets/icons/angular.png",index:2,visible:!0},{name:"angular-material",src:"/assets/icons/angular-material.png",index:2,visible:!0},{name:"rxjs",src:"/assets/icons/rxjs.png",index:2,visible:!0},{name:"firebase",src:"/assets/icons/firebase.png",index:2,visible:!0},{name:"scss",src:"/assets/icons/scss.png",index:2,visible:!0},{name:"ts",src:"/assets/icons/ts.png",index:2,visible:!0}]})}getIconList(){return this.afs.collection("train_station").doc("icons").valueChanges()}findIconByName(t,r){for(let o of t)if(o.name===r)return o;return{name:"error",src:"/assets/icons/error.png",index:2,visible:!0}}hideIcons(t){for(let r of t)r.visible=!1;return t}getStation(){this.afs.collection("train_station").doc("train").valueChanges().pipe(Ja(1)).subscribe(t=>{console.log(t.list[0]),this.trainStationData.next(t)})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(PV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wD=(()=>{class n{constructor(t){this.firebase=t,this.isTrainMoving=new kr("noMove"),this.selectedStation=new kr(null),this.startAnimation=new kr(""),this.isFinalStationAnimation=new kr("")}getIconList(){return this.IconList=[{name:"diploma",src:"/assets/icons/diploma.png",index:1,visible:!0},{name:"camera",src:"/assets/icons/camera.png",index:1,visible:!0},{name:"graphic-design",src:"/assets/icons/graphic-design.png",index:1,visible:!0},{name:"poster",src:"/assets/icons/poster.png",index:2,visible:!0},{name:"logoDesign",src:"/assets/icons/logo.png",index:2,visible:!0},{name:"printDesign",src:"/assets/icons/flyer.png",index:2,visible:!0},{name:"brandingDesign",src:"/assets/icons/branding.png",index:2,visible:!0},{name:"illustrator",src:"/assets/icons/illustrator.png",index:3,visible:!0},{name:"photoshop",src:"/assets/icons/photoshop.png",index:3,visible:!0},{name:"indesign",src:"/assets/icons/indesign.png",index:3,visible:!0},{name:"web-design",src:"/assets/icons/web-design.png",index:2,visible:!0},{name:"marketing",src:"/assets/icons/marketing.png",index:2,visible:!0},{name:"unbounce",src:"/assets/icons/unbounce.png",index:2,visible:!0},{name:"xd",src:"/assets/icons/xd.png",index:2,visible:!0},{name:"html",src:"/assets/icons/html.png",index:3,visible:!0},{name:"css",src:"/assets/icons/css.png",index:3,visible:!0},{name:"js",src:"/assets/icons/js.png",index:3,visible:!0},{name:"angular",src:"/assets/icons/angular.png",index:2,visible:!0},{name:"angular-material",src:"/assets/icons/angular-material.png",index:2,visible:!0},{name:"rxjs",src:"/assets/icons/rxjs.png",index:2,visible:!0},{name:"firebase",src:"/assets/icons/firebase.png",index:2,visible:!0},{name:"scss",src:"/assets/icons/scss.png",index:2,visible:!0},{name:"ts",src:"/assets/icons/ts.png",index:2,visible:!0}]}getPlatforms(){return this.platforms=[{title:"2009",subTitle:"School Diploma",description:"My name is Hanna but I prefer Hanny, and I\u2019m looking for my next Angular developer position to hone my skills. I work as a developer and designer by day and a computer science student by night. In my free time I enjoy watching comedy horror movies and once a year I have my usual Skyrim replay.",type:"one",index:1,scr:"/assets/single.png",iconsGroup:[this.findIconByName("diploma")],className:"one"},{title:"2010-2015",subTitle:"HELD - Branch Manager, Graphic Designer & Photographer",description:"Held is a chain of shops that offers all types of printing solutions ,such as digital photo developing,  printing on products, printing on canvases, glass and more. As part of my employment in Held I was responsible for the whole store operation including graphic design, digital photo development and printing on products. I was promoted to be the brunch manager and my responsibilities  was to hire new employees and teach them to use the store machines, the programs we use to design client's products, the store protocols and more. Also as branch manager I was responsible to do the employees work schedule and to help the employees when they had problems with customers or with their peers.",type:"two",index:2,scr:"/assets/double.png",iconsGroup:[this.findIconByName("camera"),this.findIconByName("graphic-design")],className:"two"},{title:"2014-2015",subTitle:"Graphic Design Diploma at Shenkar College of  Engineering, Design and Art",description:"In my studies at Shenkar College of  Engineering, Design and Art I learned the fundamentals of graphic design, understanding the graphic expression, learned the history of graphic design, got the ability to translate design ideas and develop creativity, learned the knowledge of typography and the history of writing, photography, learned the most advanced and required graphic software in the industry,  i got extensive knowledge and experience in branding design, book, posters, and packaging and much more.",type:"one",index:3,scr:"/assets/single.png",iconsGroup:[this.findIconByName("indesign"),this.findIconByName("photoshop"),this.findIconByName("illustrator")],className:"three"},{title:"2015-2017",subTitle:"Tzevet Aphacot - Graphic Designer",description:"Tzevet Aphacot is a studio that specializes in print design. I was a designer there and I worked on many projects such as branding new companies or rebranding existed companies, designing book covers, designing from scratch catalogs and posters for big companies such as \u201c\u05d0\u05e8\u05d2\u05d5\u05df \u05d4\u05e2\u05d5\u05d1\u05d3\u05d9\u05dd\u201d and \u2018Sothys\u2019 an international care products company and much more.",type:"two",index:4,scr:"/assets/double.png",iconsGroup:[this.findIconByName("posterDesign"),this.findIconByName("logoDesign"),this.findIconByName("printDesign"),this.findIconByName("brandingDesign")],className:"four"},{title:"2017-2018",subTitle:"Capital Unit - Web Designer",description:"At Capital Unit I designed and updated websites and landing pages, collaborated with the marketing department on a range of campaigns that includes landing pages, mailers and banners. I designed various social networks campaigns  and I was responsible for all the graphic design within the company, such as posters, flyers, prints for company events, and more.",type:"one",index:5,scr:"/assets/single.png",iconsGroup:[this.findIconByName("web-design"),this.findIconByName("marketing")],className:"five"},{title:"2018-2019",subTitle:"Business Wizard - Web Designer & Web Developer",description:"Business Wizard was a marketing company that had small to medium-sized customers. As part of my position at Business Wizard I managed the studio, led the design decisions, created, maintained and updated websites and landing pages hosted on Unbounce with custom scripts and custom design. I learned and used HTML, CSS and JavaScript In order to provide features and designs that Unbounce couldn't provide for the clients needs.",type:"two",index:6,scr:"/assets/double.png",iconsGroup:[this.findIconByName("unbounce"),this.findIconByName("xd"),this.findIconByName("css"),this.findIconByName("html"),this.findIconByName("js")],className:"six"},{title:"2019-2020",subTitle:"Freelance - Web Designer & Web Developer",description:"As a freelance designer and developer I worked with various clients on developing and designing websites and landing pages with Angular (8+) from scratch using libraries such as Bootstrap and Angular Material to build and design custom components. For storing Data I used cloud firestore and firebase for hosting. Also I developed and designed static landing pages with HTML, CSS, JavaScript (vanilla js) and  jQuery. As a designer I did various graphic design work tailored to client\u2019s needs.",type:"two",index:7,scr:"/assets/double.png",iconsGroup:[this.findIconByName("unbounce"),this.findIconByName("xd"),this.findIconByName("css"),this.findIconByName("html"),this.findIconByName("js")],className:"seven"},{title:"2019-2021",subTitle:"Volunteer in she codes - Web course Manager ",description:"Manager and instructor in WEB course which includes HTML, CSS, JavaScript and jQuery. I was a student at She codes learning HTML, CSS & JS. After finishing the course I became a teacher of the course and after a short time I was promoted to course manager. As part of managing and teaching students the basics of HTML, CSS & JS I was required to master as much as possible the languages and help students understand them, Debug a lot of code and teach them how to improve their code.",type:"one",index:8,scr:"/assets/single.png",iconsGroup:[this.findIconByName("css"),this.findIconByName("html"),this.findIconByName("js")],className:"eight"},{title:"2020 - current",subTitle:"SkillBee - Front End Developer & main Designer ",description:"SkillBee is a course creating platform that helps teachers to create, manage and sell their courses. As part of my position at SkillBee I was responsible for the FrontEnd development, design and UI\\UX from the grounds up. We used Angular 12 as the Framework for the FrontEnd, Python and fastAPI as the backend and MongoDB as the database as well as Firebase for its RealtimeDB and Authentication. GitHub was used as the Source Control. I was creating, improving, designing and implementing different types of Components, Services and Directives while heavily relying on RxJS for Data state management and Data Sharing between elements. To Share Data between different components when EventListeners and Inputs were not enough, I used services with Observables, Subjects, Behavioral Subjects and functions. Angular Material and PrimeNG were the libraries I used to design the components and made them more interactive with Animations, Custom Themes, SCSS, HTML and Typescript. To manage user data I used HTTP requests to an API (FastAPI) which was validating the request and storing it to MongoDB. Firebase was used for authentication and realtime data sharing between users like chats and realtime updates.",type:"three",index:9,scr:"/assets/three.png",iconsGroup:[this.findIconByName("angular"),this.findIconByName("angular-material"),this.findIconByName("rxjs"),this.findIconByName("firebase"),this.findIconByName("scss"),this.findIconByName("ts")],className:"nine"},{title:"My Next Station",subTitle:"Lorem ipsum dolor sit amet",description:"Designed and updated \nwebsites, collaborated with \nthe marketing department \non a range of campaigns \n(landing pages, mailers and \nbanners). designed for social \nnetworks and office events",type:"final",index:10,scr:"/assets/final.png",iconsGroup:this.getIconList(),className:"ten"}]}getTrain(){return this.train={icons:this.hideIcons(this.getIconList()),trainScr:"/assets/train.png",trainWagon:"/assets/wagon.png"}}getStation(){return this.trainStation={train:this.getTrain(),platform:this.getPlatforms()},this.selectedStation.next(this.trainStation.platform[0]),this.trainStation}setStartAnimation(t){this.startAnimation.next(t)}findIconByName(t){let r=this.getIconList();for(let o of r)if(o.name===t)return o;return{name:"error",src:"/assets/icons/error.png",index:2,visible:!0}}hideIcons(t){for(let r of t)r.visible=!1;return t}setIsTrainMoving(t){this.isTrainMoving.next(t)}getIsTrainMoving(){return this.isTrainMoving}setSelectedStation(t){this.selectedStation.next(t)}setFinalAnimation(t){this.isFinalStationAnimation.next(t)}geSelectedStation(){return this.selectedStation}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lw))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NV(n,e){if(1&n&&(u.TgZ(0,"p"),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.selectedStation.description)}}let FV=(()=>{class n{constructor(t,r){this.trainService=t,this.DB=r}ngOnInit(){this.selectedStationSub=this.DB.selectedStation.subscribe(t=>{this.selectedStation=t})}ngOnDestroy(){this.selectedStationSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wD),u.Y36(lw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-illustration-and-bubble"]],decls:5,vars:1,consts:[[1,"section-container"],[1,"my-illustration"],[1,"talk-bubble"],[1,"bubble-text"],[4,"ngIf"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.YNc(4,NV,2,1,"p",4),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(4),u.Q6J("ngIf",r.selectedStation))},directives:[ci],styles:[".section-container[_ngcontent-%COMP%]{width:95%;height:95%;margin:auto;display:flex;flex-direction:row;justify-content:center;position:relative}.my-illustration[_ngcontent-%COMP%]{width:250px;height:250px;position:relative;background-image:url(my-illustration-with-border.0df206802e14106ecebd.png);background-repeat:no-repeat;background-position:center;background-size:contain;margin:0 50px}.talk-bubble[_ngcontent-%COMP%]{background-image:url(bubble.6940070d262577e7e83f.png);width:1050px;height:250px;background-repeat:no-repeat;background-position:center;background-size:contain;display:flex;justify-content:center;align-items:center;transform:scale(1.15);position:relative}.bubble-text[_ngcontent-%COMP%]{width:78%;height:90%;position:relative;left:20px;font-size:14px;color:var(--text-color-default)}"]}),n})();const LV=["icons"],VV=function(n,e){return{"second-row":n,"first-row":e}};function UV(n,e){if(1&n&&u._UZ(0,"img",15),2&n){const t=u.oxw(),o=t.index;u.Q6J("src",t.$implicit.src,u.LSH)("ngClass",u.WLB(2,VV,o>11,o>=11))}}function BV(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,UV,1,5,"img",14),u.qZA()),2&n){const t=e.$implicit,r=u.oxw();u.xp6(1),u.Q6J("ngIf",t.visible&&!r.finalStation)}}const jV=function(n){return{goToStation:n}};let $V=(()=>{class n{constructor(t,r,o){this.trainService=t,this.renderer=r,this.DB=o,this.isTrainMoving="noMove",this.isFinalStationAnimation="noMove",this.finalStation=!1}ngOnInit(){this.isTrainMovingSub=this.trainService.isTrainMoving.subscribe(t=>{this.isTrainMoving=t}),this.isFinalStationAnimationSub=this.trainService.isFinalStationAnimation.subscribe(t=>{this.isFinalStationAnimation=t}),this.selectedPlatformSub=this.DB.selectedStation.subscribe(t=>{10===(null==t?void 0:t.index)?setTimeout(()=>{this.finalStation=!0},1500):setTimeout(()=>{this.finalStation=!1},400)})}ngOnDestroy(){this.isTrainMovingSub.unsubscribe(),this.selectedPlatformSub.unsubscribe(),this.isFinalStationAnimationSub.unsubscribe()}getWheelDirection(){return"backward"===this.isTrainMoving?"wheel-backward-animation":"forward"===this.isTrainMoving?"wheel-forward-animation":""}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wD),u.Y36(u.Qsj),u.Y36(lw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-train-illustration"]],viewQuery:function(t,r){if(1&t&&u.Gf(LV,5),2&t){let o;u.iGM(o=u.CRH())&&(r.icons=o.first)}},inputs:{train:"train"},decls:17,vars:6,consts:[[1,"toy-train"],[1,"engine"],[1,"window"],[1,"engine-main"],[1,"smokes"],[1,"engine-body"],[1,"wheels",3,"ngClass"],[1,"big-wheel"],[1,"normal-wheel"],[1,"locomotive"],[1,"train-icons",3,"ngClass"],["icons",""],[4,"ngFor","ngForOf"],[1,"small-wheel"],["class","icon-image",3,"src","ngClass",4,"ngIf"],[1,"icon-image",3,"src","ngClass"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u.TgZ(3,"div",3),u.TgZ(4,"div",4),u._UZ(5,"span"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(6,"div",5),u.TgZ(7,"div",6),u._UZ(8,"div",7),u._UZ(9,"div",8),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"div",9),u.TgZ(11,"div",10,11),u.YNc(13,BV,2,1,"div",12),u.qZA(),u.TgZ(14,"div",6),u._UZ(15,"div",13),u._UZ(16,"div",13),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(7),u.Q6J("ngClass",r.getWheelDirection()),u.xp6(4),u.Q6J("ngClass",u.VKq(4,jV,"toStation"===r.isFinalStationAnimation)),u.xp6(2),u.Q6J("ngForOf",r.train.icons),u.xp6(1),u.Q6J("ngClass",r.getWheelDirection()))},directives:[es,gn,ci],styles:['.toy-train[_ngcontent-%COMP%]{position:relative;width:109px}.engine[_ngcontent-%COMP%]{float:right;position:relative}.window[_ngcontent-%COMP%]{height:28px;width:30px;background-color:#194488;position:relative;border:2px solid #000}.window[_ngcontent-%COMP%]:before, .window[_ngcontent-%COMP%]:after{content:"";position:absolute;left:50%;border:2px solid #000}.window[_ngcontent-%COMP%]:before{height:7px;background-color:#ea6853;width:45px;margin-top:-11px;margin-left:-25px;border-radius:8px}.window[_ngcontent-%COMP%]:after{margin-left:-8px;margin-top:3px;border-radius:50%;height:11px;width:11px;background-color:#fff}.engine-main[_ngcontent-%COMP%]{height:10px;width:35px;border:2px solid #000;background-color:#7cbaf1;position:absolute;border-radius:0 8px 8px 0;right:-39px;bottom:-3px}.engine-main[_ngcontent-%COMP%]:before{content:"";height:10px;width:8px;background-color:#000;position:absolute;top:-11px;left:4px;transform:rotate(180deg);border-radius:50%/90% 90% 40% 40%}.engine-main[_ngcontent-%COMP%]:after{content:"";height:10px;width:6px;position:absolute;display:block;right:10px;top:-14px;border-radius:50%/90% 90% 40% 40%;transform:rotate(180deg);z-index:-1;background-color:#194488;border:2px solid #000}.engine-body[_ngcontent-%COMP%]{height:17px;width:75px;position:absolute;left:-2px;top:30px;background-color:#f69f00;border:2px solid #000;border-radius:5px}.engine-body[_ngcontent-%COMP%]   .big-wheel[_ngcontent-%COMP%]{top:3px;left:2px}.engine-body[_ngcontent-%COMP%]   .normal-wheel[_ngcontent-%COMP%]{left:45px;top:5px}.engine-body[_ngcontent-%COMP%]:before{content:"";position:absolute;height:5px;width:5px;left:-11px;bottom:2px;z-index:-1;background-color:#fff;border-radius:50%;border:2px solid #000}.wheels[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;background-color:#ea6853;border-radius:50%;border:2px solid #000}.wheels[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;border-bottom:1px solid #000;top:50%;margin-top:-1px}.wheels[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{content:"";height:8px;width:8px;position:absolute;background-color:#000;border-radius:50%;left:50%;top:50%;margin-left:-4px;margin-top:-4px}.wheels[_ngcontent-%COMP%]   .big-wheel[_ngcontent-%COMP%]{width:22px;height:22px;animation-delay:-.3s}.wheels[_ngcontent-%COMP%]   .normal-wheel[_ngcontent-%COMP%]{height:20px;width:20px;animation-delay:-.6s}.wheels[_ngcontent-%COMP%]   .small-wheel[_ngcontent-%COMP%]{height:15px;width:15px;animation-delay:-.6s}.wheels[_ngcontent-%COMP%]   .small-wheel[_ngcontent-%COMP%]:after{content:"";height:7px;width:7px;position:absolute;background-color:#000;border-radius:50%;left:50%;top:50%;margin-left:-4px;margin-top:-4px}.locomotive[_ngcontent-%COMP%]{height:5px;width:370px;border:2px solid #000;background-color:#f69f00;border-radius:5px;position:relative;left:-309px;top:38px}.locomotive[_ngcontent-%COMP%]   .wheels[_ngcontent-%COMP%]{position:absolute;top:-20px;left:10px;padding:0 175px}.locomotive[_ngcontent-%COMP%]   .wheels[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{top:22px;animation-delay:-.6s}.locomotive[_ngcontent-%COMP%]   .wheels[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{animation-delay:-.9s}.locomotive[_ngcontent-%COMP%]   .normal-wheel[_ngcontent-%COMP%]:first-of-type{left:5px}.locomotive[_ngcontent-%COMP%]   .normal-wheel[_ngcontent-%COMP%]:last-of-type{right:5px}.locomotive[_ngcontent-%COMP%]   .small-wheel[_ngcontent-%COMP%]:first-of-type{left:5px}.locomotive[_ngcontent-%COMP%]   .small-wheel[_ngcontent-%COMP%]:last-of-type{right:5px}.smokes[_ngcontent-%COMP%]:before, .smokes[_ngcontent-%COMP%]:after, .smokes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{display:block;content:"";height:8px;width:8px;background-color:#d5d5d5;border-radius:50%;position:absolute;right:11px;top:15px;z-index:-1}.smokes[_ngcontent-%COMP%]:before{animation:smoke 1s linear infinite}.smokes[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{animation:smoke 1s linear infinite;animation-delay:-.6s}.smokes[_ngcontent-%COMP%]:after{animation:smoke 1s linear infinite;animation-delay:-.3s}.wheel-forward-animation[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{animation:wheel-forward-rotate 1s linear infinite}.wheel-backward-animation[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{animation:wheel-backward-rotate 1s linear infinite}@keyframes smoke{to{top:-50px;opacity:.5}}@keyframes wheel-forward-rotate{to{transform:rotate(360deg)}}@keyframes wheel-backward-rotate{to{transform:rotate(-360deg)}}@keyframes track{to{left:-200px}}.train-icons[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:340px;position:relative;top:-72px;justify-content:center;align-items:center;left:16px}.icon-image[_ngcontent-%COMP%]{width:40px;height:40px;margin:0 -13px}.goToStation[_ngcontent-%COMP%]{animation:toStation .4s linear;animation-iteration-count:1}@keyframes toStation{50%{top:-130px}to{top:-95px}}']}),n})();const HV=function(n,e,t,r,o,l,h,p,v,C){return{"add-marge-right":n,"icon-up-front":e,"move-icons-left":t,"move-left":r,"platforms-six-seven":o,final:l,"platforms-nine-move-right":h,"platforms-nine-move-left":p,iconsStartAnimation:v,iconsFinishAnimation:C}};function GV(n,e){if(1&n&&u._UZ(0,"img",9),2&n){const t=u.oxw(),r=t.$implicit,o=t.index,l=u.oxw();u.Q6J("src",r.src,u.LSH)("ngClass",u.rFY(2,HV,[1===o&&l.platform.iconsGroup.length>2&&"final"!==l.platform.type,(1===o&&8!==l.platform.index||3===o||8===l.platform.index&&1===o)&&l.platform.iconsGroup.length>2&&"final"!==l.platform.type,(2===o||3===o)&&4==l.platform.iconsGroup.length&&"final"!==l.platform.type,!(6!==l.platform.index&&7!==l.platform.index||1!==o&&0!==o||"final"===l.platform.type),!(6!==l.platform.index&&7!==l.platform.index||2!=o&&3!=o&&4!=o||"final"===l.platform.type),"final"===l.platform.type,9===l.platform.index&&(0===o||1===o),9===l.platform.index&&(4===o||5===o),"nextAnimation"===l.startAnimation,"backAnimation"===l.startAnimation]))}}const qV=function(n,e,t,r){return{"two-icon-group":n,"three-icons-group":e,"final-icons":t,goToWagon2:r}};function zV(n,e){if(1&n&&(u.TgZ(0,"div",7),u.YNc(1,GV,1,13,"img",8),u.qZA()),2&n){const t=e.$implicit,r=u.oxw();u.Q6J("ngClass",u.l5B(2,qV,2===t.index&&"final"!==r.platform.type,(3===t.index||8===t.index)&&"final"!==r.platform.type,"final"===r.platform.type,"toWagon"===r.isFinalStationAnimation)),u.xp6(1),u.Q6J("ngIf",t.visible&&!r.finalStation&&r.platform.iconsGroup)}}const WV=function(n){return{"max-width":n}};let kk,ZV=(()=>{class n{constructor(t,r){this.trainService=t,this.DB=r,this.startAnimation="",this.finalStation=!1,this.isFinalStationAnimation="noMove"}ngOnInit(){this.selectedPlatformSub=this.DB.selectedStation.subscribe(t=>{var r;this.selectedPlatform=t,10==(null===(r=this.selectedPlatform)||void 0===r?void 0:r.index)&&setTimeout(()=>{this.finalStation=!1},1450)}),this.finalStation=10===this.platform.index,this.isFinalStationAnimationSub=this.trainService.isFinalStationAnimation.subscribe(t=>{this.isFinalStationAnimation=t})}ngOnDestroy(){this.startAnimationSub.unsubscribe(),this.selectedPlatformSub.unsubscribe(),this.isFinalStationAnimationSub.unsubscribe()}ngAfterViewInit(){this.startAnimationSub=this.trainService.startAnimation.subscribe(t=>{var r;(null===(r=this.selectedPlatform)||void 0===r?void 0:r.index)===this.platform.index&&(this.startAnimation=t)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wD),u.Y36(lw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-platform"]],inputs:{platform:"platform"},decls:9,vars:7,consts:[[1,"platform-container"],[1,"platform-wrapper","position-center-column"],[1,"platform-title"],[1,"platform-subtitle",3,"ngStyle"],[1,"platform-illustration-wrapper"],[3,"src"],["class","platform-icons",3,"ngClass",4,"ngFor","ngForOf"],[1,"platform-icons",3,"ngClass"],[3,"src","ngClass",4,"ngIf"],[3,"src","ngClass"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"h4",2),u._uU(3),u.qZA(),u.TgZ(4,"p",3),u._uU(5),u.qZA(),u.TgZ(6,"div",4),u._UZ(7,"img",5),u.YNc(8,zV,2,7,"div",6),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Oqu(r.platform.title),u.xp6(1),u.Q6J("ngStyle",u.VKq(5,WV,2===r.platform.index||3===r.platform.index||4===r.platform.index?"310px":"")),u.xp6(1),u.Oqu(r.platform.subTitle),u.xp6(2),u.Q6J("src",r.platform.scr,u.LSH),u.xp6(1),u.Q6J("ngForOf",r.platform.iconsGroup))},directives:[Ks,gn,es,ci],styles:[".platform-container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;top:-5px}.platform-container[_ngcontent-%COMP%]   .platform-wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.platform-container[_ngcontent-%COMP%]   .platform-wrapper[_ngcontent-%COMP%]   .platform-subtitle[_ngcontent-%COMP%]{font-size:18px;color:var(--text-color-default);max-width:217px;text-align:center;margin:6px 0 25px}.platform-container[_ngcontent-%COMP%]   .platform-illustration-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;left:0;height:92px;width:100%}.platform-container[_ngcontent-%COMP%]   .platform-illustration-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;max-height:115px}.platform-container[_ngcontent-%COMP%]   .two-icon-group[_ngcontent-%COMP%]{margin:0 22px!important}.platform-container[_ngcontent-%COMP%]   .three-icons-group[_ngcontent-%COMP%]{margin:0 -10px!important}.platform-container[_ngcontent-%COMP%]   .platform-icons[_ngcontent-%COMP%]{position:relative;margin:10px 45px;top:9px}.platform-container[_ngcontent-%COMP%]   .iconsStartAnimation[_ngcontent-%COMP%]{animation:goToWagon .4s linear;animation-iteration-count:1}@keyframes goToWagon{50%{top:-30px;opacity:1}to{top:10px}}.platform-container[_ngcontent-%COMP%]   .iconsFinishAnimation[_ngcontent-%COMP%]{animation:goToStation .3s linear;animation-iteration-count:1}@keyframes goToStation{50%{top:-20px;opacity:1}to{top:-10px}}.platform-container[_ngcontent-%COMP%]   .platform-icons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;top:-10px;margin:0 30px;left:-52px}.platform-container[_ngcontent-%COMP%]   .add-marge-right[_ngcontent-%COMP%]{margin-right:30px!important}.platform-container[_ngcontent-%COMP%]   .move-left[_ngcontent-%COMP%]{left:-129px!important}.platform-container[_ngcontent-%COMP%]   .platform-seven[_ngcontent-%COMP%]{position:relative!important;margin:-36px 2px!important}.platform-container[_ngcontent-%COMP%]   .move-icons-left[_ngcontent-%COMP%]{left:-48px!important}.platform-container[_ngcontent-%COMP%]   .icon-up-front[_ngcontent-%COMP%]{z-index:500;margin-right:60px}.platform-container[_ngcontent-%COMP%]   .move-icon-left[_ngcontent-%COMP%]{left:7px!important}.platform-container[_ngcontent-%COMP%]   .platforms-nine-move-right[_ngcontent-%COMP%]{left:-63px!important}.platform-container[_ngcontent-%COMP%]   .platforms-nine-move-left[_ngcontent-%COMP%]{left:-42px!important}.platform-container[_ngcontent-%COMP%]   .final-icons[_ngcontent-%COMP%]{left:5px!important;margin:0 -10px!important}.platform-container[_ngcontent-%COMP%]   .platforms-six-seven[_ngcontent-%COMP%]{left:-44px!important}.goToWagon2[_ngcontent-%COMP%]{animation:toWagon .4s linear;animation-iteration-count:1}@keyframes toWagon{50%{top:-30px}to{top:40px}}"]}),n})();function wl(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}try{kk="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){kk=!1}let Pk,Aa=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!kk)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.Lbi))},token:n,providedIn:"root"}),n})(),Ok=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class w2{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new C2(e,this.dueTime,this.scheduler))}}class C2 extends Jn.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(I2,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function I2(n){n.debouncedNext()}"undefined"!=typeof Element&&Element;const UP="cdk-high-contrast-black-on-white",BP="cdk-high-contrast-white-on-black",Fk="cdk-high-contrast-active";let jP=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,l=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Fk),t.remove(UP),t.remove(BP),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Fk),t.add(UP)):2===r&&(t.add(Fk),t.add(BP))}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Aa),u.LFG(ue))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(Aa),u.LFG(ue))},token:n,providedIn:"root"}),n})(),GP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const qP=new u.GfV("12.2.13"),zP=new u.GfV("12.2.13"),eU=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Bg,gs=(()=>{class n{constructor(t,r,o){this._hasDoneGlobalChecks=!1,this._document=o,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,u.X6Q)()||"undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&zP.full!==qP.full&&console.warn("The Angular Material version ("+zP.full+") does not match the Angular CDK version ("+qP.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(jP),u.LFG(eU,8),u.LFG(ue))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[GP],GP]}),n})();function Lk(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}try{Bg="undefined"!=typeof Intl}catch(n){Bg=!1}let eN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gs,Ok],gs]}),n})();var SU=k(205),DU=k(1555);function AD(n,e){return new Zi.y(t=>{const r=n.length;if(0===r)return void t.complete();const o=new Array(r);let l=0,h=0;for(let p=0;p<r;p++){const v=(0,Gn.D)(n[p]);let C=!1;t.add(v.subscribe({next:T=>{C||(C=!0,h++),o[p]=T},error:T=>t.error(T),complete:()=>{l++,(l===r||!C)&&(h===r&&t.next(e?e.reduce((T,D,U)=>(T[D]=o[U],T),{}):o),t.complete())}}))}})}var AU=k(8819);class sN{}class Uu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),l=o.toLowerCase(),h=t.slice(r+1).trim();this.maybeSetNormalizedName(o,l),this.headers.has(l)?this.headers.get(l).push(h):this.headers.set(l,[h])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Uu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Uu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Uu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const l=e.value;if(l){let h=this.headers.get(t);if(!h)return;h=h.filter(p=>-1===l.indexOf(p)),0===h.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,h)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class MU{encodeKey(e){return aN(e)}encodeValue(e){return aN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const RU=/%(\d[a-f0-9])/gi,kU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function aN(n){return encodeURIComponent(n).replace(RU,(e,t)=>{var r;return null!==(r=kU[t])&&void 0!==r?r:e})}function lN(n){return`${n}`}class cf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new MU,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const l=o.indexOf("="),[h,p]=-1==l?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,l)),e.decodeValue(o.slice(l+1))],v=t.get(h)||[];v.push(p),t.set(h,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new cf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(lN(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(lN(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class OU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function cN(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function uN(n){return"undefined"!=typeof Blob&&n instanceof Blob}function dN(n){return"undefined"!=typeof FormData&&n instanceof FormData}class hw{constructor(e,t,r,o){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,l=o):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Uu),this.context||(this.context=new OU),this.params){const h=this.params.toString();if(0===h.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+h}}else this.params=new cf,this.urlWithParams=t}serializeBody(){return null===this.body?null:cN(this.body)||uN(this.body)||dN(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof cf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dN(this.body)?null:uN(this.body)?this.body.type||null:cN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,l=e.responseType||this.responseType,h=void 0!==e.body?e.body:this.body,p=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,v=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,T=e.params||this.params;const D=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce((U,B)=>U.set(B,e.setHeaders[B]),C)),e.setParams&&(T=Object.keys(e.setParams).reduce((U,B)=>U.set(B,e.setParams[B]),T)),new hw(r,o,h,{params:T,headers:C,context:D,reportProgress:v,responseType:l,withCredentials:p})}}var ai=(()=>((ai=ai||{})[ai.Sent=0]="Sent",ai[ai.UploadProgress=1]="UploadProgress",ai[ai.ResponseHeader=2]="ResponseHeader",ai[ai.DownloadProgress=3]="DownloadProgress",ai[ai.Response=4]="Response",ai[ai.User=5]="User",ai))();class MD extends class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Uu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=ai.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new MD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function jk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xD=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let l;if(t instanceof hw)l=t;else{let v,C;v=o.headers instanceof Uu?o.headers:new Uu(o.headers),o.params&&(C=o.params instanceof cf?o.params:new cf({fromObject:o.params})),l=new hw(t,r,void 0!==o.body?o.body:null,{headers:v,context:o.context,params:C,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const h=(0,bt.of)(l).pipe(Xa(v=>this.handler.handle(v)));if(t instanceof hw||"events"===o.observe)return h;const p=h.pipe(Xs(v=>v instanceof MD));switch(o.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,Rt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return p.pipe((0,Rt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return p.pipe((0,Rt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));case"json":default:return p.pipe((0,Rt.U)(v=>v.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new cf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,jk(o,r))}post(t,r,o={}){return this.request("POST",t,jk(o,r))}put(t,r,o={}){return this.request("PUT",t,jk(o,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const $U=["*"];function _N(n){return Error(`Unable to find icon with the name "${n}"`)}function yN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function vN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class jg{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let RD=(()=>{class n{constructor(t,r,o,l){this._httpClient=t,this._sanitizer=r,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(t,r,o){return this.addSvgIconInNamespace("",t,r,o)}addSvgIconLiteral(t,r,o){return this.addSvgIconLiteralInNamespace("",t,r,o)}addSvgIconInNamespace(t,r,o,l){return this._addSvgIconConfig(t,r,new jg(o,null,l))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,o,l){const h=this._sanitizer.sanitize(u.q3G.HTML,o);if(!h)throw vN(o);return this._addSvgIconConfig(t,r,new jg("",h,l))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,o){return this._addSvgIconSetConfig(t,new jg(r,null,o))}addSvgIconSetLiteralInNamespace(t,r,o){const l=this._sanitizer.sanitize(u.q3G.HTML,r);if(!l)throw vN(r);return this._addSvgIconSetConfig(t,new jg("",l,o))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw yN(t);const o=this._cachedIconsByUrl.get(r);return o?(0,bt.of)(kD(o)):this._loadSvgIconFromConfig(new jg(t,null)).pipe((0,ki.b)(l=>this._cachedIconsByUrl.set(r,l)),(0,Rt.U)(l=>kD(l)))}getNamedSvgIcon(t,r=""){const o=bN(r,t);let l=this._svgIconConfigs.get(o);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(r,t),l)return this._svgIconConfigs.set(o,l),this._getSvgFromConfig(l);const h=this._iconSetConfigs.get(r);return h?this._getSvgFromIconSetConfigs(t,h):(0,SU._)(_N(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,bt.of)(kD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Rt.U)(r=>kD(r)))}_getSvgFromIconSetConfigs(t,r){const o=this._extractIconWithNameFromAnySet(t,r);return o?(0,bt.of)(o):function(...n){if(1===n.length){const e=n[0];if((0,Xl.k)(e))return AD(e,null);if((0,DU.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return AD(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return AD(n=1===n.length&&(0,Xl.k)(n[0])?n[0]:n,null).pipe((0,Rt.U)(t=>e(...t)))}return AD(n,null)}(r.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(us(p=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,h.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(C)),(0,bt.of)(null)})))).pipe((0,Rt.U)(()=>{const h=this._extractIconWithNameFromAnySet(t,r);if(!h)throw _N(t);return h}))}_extractIconWithNameFromAnySet(t,r){for(let o=r.length-1;o>=0;o--){const l=r[o];if(l.svgText&&l.svgText.indexOf(t)>-1){const h=this._svgElementFromConfig(l),p=this._extractSvgIconFromSet(h,t,l.options);if(p)return p}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,ki.b)(r=>t.svgText=r),(0,Rt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,bt.of)(null):this._fetchIcon(t).pipe((0,ki.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,o){const l=t.querySelector(`[id="${r}"]`);if(!l)return null;const h=l.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,o);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),o);const p=this._svgElementFromString("<svg></svg>");return p.appendChild(h),this._setSvgAttributes(p,o)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){const r=this._svgElementFromString("<svg></svg>"),o=t.attributes;for(let l=0;l<o.length;l++){const{name:h,value:p}=o[l];"id"!==h&&r.setAttribute(h,p)}for(let l=0;l<t.childNodes.length;l++)t.childNodes[l].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[l].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:o,options:l}=t,h=null!==(r=null==l?void 0:l.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const p=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,o);if(!p)throw yN(o);const v=this._inProgressUrlFetches.get(p);if(v)return v;const C=this._httpClient.get(p,{responseType:"text",withCredentials:h}).pipe(dC(()=>this._inProgressUrlFetches.delete(p)),(0,AU.B)());return this._inProgressUrlFetches.set(p,C),C}_addSvgIconConfig(t,r,o){return this._svgIconConfigs.set(bN(t,r),o),this}_addSvgIconSetConfig(t,r){const o=this._iconSetConfigs.get(t);return o?o.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let o=0;o<this._resolvers.length;o++){const l=this._resolvers[o](r,t);if(l)return qU(l)?new jg(l.url,null,l.options):new jg(l,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xD,8),u.LFG(Go),u.LFG(ue,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(xD,8),u.LFG(Go),u.LFG(ue,8),u.LFG(u.qLn))},token:n,providedIn:"root"}),n})();function kD(n){return n.cloneNode(!0)}function bN(n,e){return n+":"+e}function qU(n){return!(!n.url||!n.options)}const zU=Lk(class{constructor(n){this._elementRef=n}}),WU=new u.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,u.f3M)(ue),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),EN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],YU=EN.map(n=>`[${n}]`).join(", "),QU=/^url\(['"]?#(.*?)['"]?\)$/;let JU=(()=>{class n extends zU{constructor(t,r,o,l,h){super(t),this._iconRegistry=r,this._location=l,this._errorHandler=h,this._inline=!1,this._currentIconFetch=Vd.w.EMPTY,o||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=function(n){return null!=n&&"false"!=`${n}`}(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let l=0;l<r.length;l++)r[l].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=t.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&t.removeChild(o)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((o,l)=>{o.forEach(h=>{l.setAttribute(h.name,`url('${t}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(YU),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<r.length;l++)EN.forEach(h=>{const p=r[l],v=p.getAttribute(h),C=v?v.match(QU):null;if(C){let T=o.get(p);T||(T=[],o.set(p,T)),T.push({name:h,value:C[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,o]=this._splitIconName(t);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Ja(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${l.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(RD),u.$8M("aria-hidden"),u.Y36(WU),u.Y36(u.qLn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:$U,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),XU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gs],gs]}),n})();const eB=["*"];let wN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-sub-titles"]],ngContentSelectors:eB,decls:10,vars:0,consts:[[1,"title-container","position-center-row"],[1,"lines","position-center-row"],[1,"small-line","line"],[1,"large-line","line"],[1,"content"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._UZ(2,"div",2),u._UZ(3,"div",3),u.qZA(),u.TgZ(4,"div",4),u.TgZ(5,"h3"),u.Hsn(6),u.qZA(),u.qZA(),u.TgZ(7,"div",1),u._UZ(8,"div",3),u._UZ(9,"div",2),u.qZA(),u.qZA())},styles:[".title-container[_ngcontent-%COMP%]{justify-content:center;margin:80px 200px}.title-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:40%;text-align:center}.title-container[_ngcontent-%COMP%]   .lines[_ngcontent-%COMP%]{width:45%;justify-content:space-between}.title-container[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border:solid 1px var(--primary-default)}.title-container[_ngcontent-%COMP%]   .small-line[_ngcontent-%COMP%]{width:2%}.title-container[_ngcontent-%COMP%]   .large-line[_ngcontent-%COMP%]{width:95%}"]}),n})();const tB=["circleGraph"],qk=function(n){return{"circle-animation":n}};let nB=(()=>{class n{constructor(){this.starCircleAnimation=!1}ngOnInit(){}checkScroll(){const t=window.pageYOffset+window.innerHeight;let r=this.circleGraph.nativeElement.getBoundingClientRect().top+this.circleGraph.nativeElement.getBoundingClientRect().height;this.starCircleAnimation=r+200<=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-languages"]],viewQuery:function(t,r){if(1&t&&u.Gf(tB,5),2&t){let o;u.iGM(o=u.CRH())&&(r.circleGraph=o.first)}},hostBindings:function(t,r){1&t&&u.NdJ("scroll",function(){return r.checkScroll()},!1,u.Jf7)},decls:34,vars:9,consts:[[1,"languages-wrapper"],[1,"click-on-lang","position-center-row-complete"],[1,"graph-circles"],[1,"animation-item"],[1,"animation-graph-container"],["viewBox","-2 -12 40 60"],["d","M18 2.0845\n                                       a 15.9155 15.9155 0 0 1 0 31.831\n                                       a 15.9155 15.9155 0 0 1 0 -31.831",1,"circle-bg"],["stroke-dasharray","100, 100","d","M18 2.0845\n                     a 15.9155 15.9155 0 0 1 0 31.831\n                     a 15.9155 15.9155 0 0 1 0 -31.831",1,"graph-circle",3,"ngClass"],["circleGraph",""],["x","12.5","y","-2.5","font-family","Quicksand","font-weight","500","font-size","4px",1,"graph-text"],[1,"subtitle-lang"],["stroke-dasharray","85, 100","d","M18 2.0845\n                     a 15.9155 15.9155 0 0 1 0 31.831\n                     a 15.9155 15.9155 0 0 1 0 -31.831",1,"graph-circle",3,"ngClass"],["x","14.5","y","-2.5","font-family","Quicksand","font-weight","500","font-size","4px",1,"graph-text"],["stroke-dasharray","75, 100","d","M18 2.0845\n                     a 15.9155 15.9155 0 0 1 0 31.831\n                     a 15.9155 15.9155 0 0 1 0 -31.831",1,"graph-circle",3,"ngClass"]],template:function(t,r){1&t&&(u.TgZ(0,"app-sub-titles"),u._uU(1,"Languages"),u.qZA(),u.TgZ(2,"div",0),u.TgZ(3,"h4",1),u._uU(4,"Click on the language"),u.qZA(),u.TgZ(5,"div",2),u.TgZ(6,"div",3),u.TgZ(7,"div",4),u.O4$(),u.TgZ(8,"svg",5),u._UZ(9,"path",6),u._UZ(10,"path",7,8),u.TgZ(12,"text",9),u._uU(13,"100%"),u.qZA(),u.qZA(),u.qZA(),u.kcU(),u.TgZ(14,"h5",10),u._uU(15,"Hebrew"),u.qZA(),u.qZA(),u.TgZ(16,"div",3),u.TgZ(17,"div",4),u.O4$(),u.TgZ(18,"svg",5),u._UZ(19,"path",6),u._UZ(20,"path",11),u.TgZ(21,"text",12),u._uU(22,"85%"),u.qZA(),u.qZA(),u.qZA(),u.kcU(),u.TgZ(23,"h5",10),u._uU(24,"English"),u.qZA(),u.qZA(),u.TgZ(25,"div",3),u.TgZ(26,"div",4),u.O4$(),u.TgZ(27,"svg",5),u._UZ(28,"path",6),u._UZ(29,"path",13),u.TgZ(30,"text",12),u._uU(31,"75%"),u.qZA(),u.qZA(),u.qZA(),u.kcU(),u.TgZ(32,"h5",10),u._uU(33,"Russian"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(10),u.Q6J("ngClass",u.VKq(3,qk,r.starCircleAnimation)),u.xp6(10),u.Q6J("ngClass",u.VKq(5,qk,r.starCircleAnimation)),u.xp6(9),u.Q6J("ngClass",u.VKq(7,qk,r.starCircleAnimation)))},directives:[wN,es],styles:['.languages-wrapper[_ngcontent-%COMP%]{position:relative;top:30px}.click-on-lang[_ngcontent-%COMP%]{font-family:"Quicksand",sans-serif;font-weight:700;font-size:26px;position:relative;top:10px}.click-on-lang[_ngcontent-%COMP%]:after{content:"";height:10px;width:280px;background:var(--background-default);position:absolute;z-index:-1;top:22px}.graph-circles[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.animation-item[_ngcontent-%COMP%]{width:190px;margin:50px 110px}.graph-text[_ngcontent-%COMP%]{fill:var(--text-color-default)}.subtitle-lang[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;top:20px;left:30px;font-weight:600;font-size:26px;cursor:pointer;transition:all .2s ease-out}.subtitle-lang[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.subtitle-lang[_ngcontent-%COMP%]:hover:after{content:"";height:7px;width:100px;background:var(--background-default);position:absolute;z-index:-1;top:22px}.animation-graph-container[_ngcontent-%COMP%]{height:15rem;margin-left:auto;margin-right:auto;position:relative;text-align:center;width:15rem}.animation-graph-container[_ngcontent-%COMP%]   .circle-bg[_ngcontent-%COMP%]{fill:none;stroke:#4a566f;stroke-width:3}.animation-graph-container[_ngcontent-%COMP%]   .graph-circle[_ngcontent-%COMP%]{fill:none;stroke-linecap:round}.animation-graph-container[_ngcontent-%COMP%]   .circle-animation[_ngcontent-%COMP%]{stroke-width:3.2;stroke:var(--selected-lighter);animation:progress 1s ease-out forwards}@keyframes progress{0%{stroke-dasharray:0 100}}']}),n})();const CN="firebasestorage.googleapis.com",IN="storageBucket";class Vr extends Ut.ZR{constructor(e,t){super(zk(e),`Firebase Storage: ${t} (${zk(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vr.prototype)}_codeEquals(e){return zk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function zk(n){return"storage/"+n}function Wk(){return new Vr("unknown","An unknown error occurred, please check the error payload for server response.")}function TN(){return new Vr("canceled","User canceled the upload/download.")}function SN(){return new Vr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function jy(n){return new Vr("invalid-argument",n)}function DN(){return new Vr("app-deleted","The Firebase app was deleted.")}function AN(n){return new Vr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fw(n,e){return new Vr("invalid-format","String does not match format '"+n+"': "+e)}function pw(n){throw new Vr("internal-error","Internal error: "+n)}class ms{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ms.makeFromUrl(e,t)}catch(o){return new ms(e,"")}if(""===r.path)return r;throw function(n){return new Vr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+o+"(/(.*))?$","i");function C(at){at.path_=decodeURIComponent(at.path)}const D=t.replace(/[.]/g,"\\."),St=[{regex:p,indices:{bucket:1,path:3},postModify:function(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${t===CN?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let at=0;at<St.length;at++){const En=St[at],qn=En.regex.exec(e);if(qn){let Zs=qn[En.indices.path];Zs||(Zs=""),r=new ms(qn[En.indices.bucket],Zs),En.postModify(r);break}}if(null==r)throw function(n){return new Vr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class mB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function OD(n){return"string"==typeof n||n instanceof String}function MN(n){return Zk()&&n instanceof Blob}function Zk(){return"undefined"!=typeof Blob}function Kk(n,e,t,r){if(r<e)throw jy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw jy(`Invalid value for '${n}'. Expected ${t} or less.`)}function Bu(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function xN(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var uf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(uf||(uf={})),uf))();class wB{constructor(e,t,r,o,l,h,p,v,C,T,D){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=v,this.timeout_=C,this.progressCallback_=T,this.connectionFactory_=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,B)=>{this.resolve_=U,this.reject_=B,this.start_()})}start_(){const t=(r,o)=>{const l=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const v=this.callback_(p,p.getResponse());!function(n){return void 0!==n}(v)?l():l(v)}catch(v){h(v)}else if(null!==p){const v=Wk();v.serverResponse=p.getErrorText(),h(this.errorCallback_?this.errorCallback_(p,v):v)}else h(o.canceled?this.appDelete_?DN():TN():new Vr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new PD(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,o=null,l=null,h=!1,p=0;function v(){return 2===p}let C=!1;function T(...Oe){C||(C=!0,e.apply(null,Oe))}function D(Oe){o=setTimeout(()=>{o=null,n(B,v())},Oe)}function U(){l&&clearTimeout(l)}function B(Oe,...et){if(C)return void U();if(Oe)return U(),void T.call(null,Oe,...et);if(v()||h)return U(),void T.call(null,Oe,...et);let St;r<64&&(r*=2),1===p?(p=2,St=0):St=1e3*(r+Math.random()),D(St)}let Y=!1;function Te(Oe){Y||(Y=!0,U(),!C&&(null!==o?(Oe||(p=2),clearTimeout(o),D(0)):Oe||(p=1)))}return D(0),l=setTimeout(()=>{h=!0,Te(!0)},t),Te}((r,o)=>{if(o)return void r(!1,new PD(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const h=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const p=l.getErrorCode()===uf.NO_ERROR,v=l.getStatus();if(!p||this.isRetryStatusCode_(v)){const T=l.getErrorCode()===uf.ABORT;return void r(!1,new PD(!1,null,T))}const C=-1!==this.successCodes_.indexOf(v);r(!0,new PD(C,l))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),l=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||l}}class PD{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function MB(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(Zk())return new Blob(n);throw new Vr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Vo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Yk{constructor(e,t){this.data=e,this.contentType=t||null}}function Qk(n,e){switch(n){case Vo.RAW:return new Yk(RN(e));case Vo.BASE64:case Vo.BASE64URL:return new Yk(kN(n,e));case Vo.DATA_URL:return new Yk(function(n){const e=new ON(n);return e.base64?kN(Vo.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw fw(Vo.DATA_URL,"Malformed data URL.")}return RN(e)}(e.rest)}(e),function(n){return new ON(n).contentType}(e))}throw Wk()}function RN(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function kN(n,e){switch(n){case Vo.BASE64:{const o=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(o||l)throw fw(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Vo.BASE64URL:{const o=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(o||l)throw fw(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(o){throw fw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class ON{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw fw(Vo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class wc{constructor(e,t){let r=0,o="";MN(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(MN(this.data_)){const o=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new wc(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new wc(r,!0)}}static getBlob(...e){if(Zk()){const t=e.map(r=>r instanceof wc?r.data_:r);return new wc(MB.apply(null,t))}{const t=e.map(h=>OD(h)?Qk(Vo.RAW,h).data:h.data_);let r=0;t.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let l=0;return t.forEach(h=>{for(let p=0;p<h.length;p++)o[l++]=h[p]}),new wc(o,!0)}}uploadData(){return this.data_}}function Jk(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function PN(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function VB(n,e){return e}class qs{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||VB}}let ND=null;function gw(){if(ND)return ND;const n=[];n.push(new qs("bucket")),n.push(new qs("generation")),n.push(new qs("metageneration")),n.push(new qs("name","fullPath",!0));const t=new qs("name");t.xform=function(l,h){return function(n){return!OD(n)||n.length<2?n:PN(n)}(h)},n.push(t);const o=new qs("size");return o.xform=function(l,h){return void 0!==h?Number(h):h},n.push(o),n.push(new qs("timeCreated")),n.push(new qs("updated")),n.push(new qs("md5Hash",null,!0)),n.push(new qs("cacheControl",null,!0)),n.push(new qs("contentDisposition",null,!0)),n.push(new qs("contentEncoding",null,!0)),n.push(new qs("contentLanguage",null,!0)),n.push(new qs("contentType",null,!0)),n.push(new qs("metadata","customMetadata",!0)),ND=n,ND}function NN(n,e,t){const r=Jk(e);return null===r?null:function(n,e,t){const r={type:"file"},o=t.length;for(let l=0;l<o;l++){const h=t[l];r[h.local]=h.xform(r,e[h.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const l=new ms(n.bucket,n.fullPath);return e._makeStorageReference(l)}})}(r,n),r}(n,r,t)}function Xk(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}const FN="prefixes";class Cc{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ic(n){if(!n)throw Wk()}function FD(n,e){return function(r,o){const l=NN(n,o,e);return Ic(null!==l),l}}function $y(n){return function(t,r){let o;return o=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new Vr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Vr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new Vr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new Vr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function mw(n){const e=$y(n);return function(r,o){let l=e(r,o);return 404===r.getStatus()&&(l=function(n){return new Vr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=o.serverResponse,l}}function VN(n,e,t){const o=Bu(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,p=new Cc(o,"GET",FD(n,t),h);return p.errorHandler=mw(e),p}function WB(n,e,t,r,o){const l={};l.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(l.delimiter=t),r&&(l.pageToken=r),o&&(l.maxResults=o);const p=Bu(e.bucketOnlyServerUrl(),n.host,n._protocol),C=n.maxOperationRetryTime,T=new Cc(p,"GET",function(n,e){return function(r,o){const l=function(n,e,t){const r=Jk(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[FN])for(const o of t[FN]){const l=o.replace(/\/$/,""),h=n._makeStorageReference(new ms(e,l));r.prefixes.push(h)}if(t.items)for(const o of t.items){const l=n._makeStorageReference(new ms(e,o.name));r.items.push(l)}return r}(n,e,r)}(n,e,o);return Ic(null!==l),l}}(n,e.bucket),C);return T.urlParams=l,T.errorHandler=$y(e),T}function BN(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class LD{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function eO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){Ic(!1)}return Ic(!!t&&-1!==(e||["active"]).indexOf(t)),t}const tj={STATE_CHANGED:"state_changed"},zs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tO(n){switch(n){case"running":case"pausing":case"canceling":return zs.RUNNING;case"paused":return zs.PAUSED;case"success":return zs.SUCCESS;case"canceled":return zs.CANCELED;case"error":default:return zs.ERROR}}class nj{constructor(e,t,r){if(function(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function Hy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class ij extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw pw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw pw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Cl(){return new ij}class GN{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=gw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,l)=>{this._resolve=o,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const l=e.bucketOnlyServerUrl(),h=BN(e,r,o),p={name:h.fullPath},v=Bu(l,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},D=Xk(h,t),Y=new Cc(v,"POST",function(Te){let Oe;eO(Te);try{Oe=Te.getResponseHeader("X-Goog-Upload-URL")}catch(et){Ic(!1)}return Ic(OD(Oe)),Oe},n.maxUploadRetryTime);return Y.urlParams=p,Y.headers=T,Y.body=D,Y.errorHandler=$y(e),Y}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Cl,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function(n,e,t,r){const v=new Cc(t,"POST",function(C){const T=eO(C,["active","final"]);let D=null;try{D=C.getResponseHeader("X-Goog-Upload-Size-Received")}catch(B){Ic(!1)}D||Ic(!1);const U=Number(D);return Ic(!isNaN(U)),new LD(U,r.size(),"final"===T)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=$y(e),v}(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(o,Cl,t,r);this._request=l,l.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new LD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,l)=>{let h;try{h=function(n,e,t,r,o,l,h,p){const v=new LD(0,0);if(h?(v.current=h.current,v.total=h.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw new Vr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const C=v.total-v.current;let T=C;o>0&&(T=Math.min(T,o));const D=v.current,Y={"X-Goog-Upload-Command":T===C?"upload, finalize":"upload","X-Goog-Upload-Offset":`${v.current}`},Te=r.slice(D,D+T);if(null===Te)throw SN();const St=new Cc(t,"POST",function(at,En){const qn=eO(at,["active","final"]),Ir=v.current+T,Zs=r.size();let Uo;return Uo="final"===qn?FD(e,l)(at,En):null,new LD(Ir,Zs,"final"===qn,Uo)},e.maxUploadRetryTime);return St.headers=Y,St.body=Te.uploadData(),St.progressCallback=p||null,St.errorHandler=$y(n),St}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const p=this._ref.storage._makeRequest(h,Cl,o,l);this._request=p,p.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=VN(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Cl,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const l=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},v=function(){let St="";for(let at=0;at<2;at++)St+=Math.random().toString().slice(2);return St}();h["Content-Type"]="multipart/related; boundary="+v;const C=BN(e,r,o),T=Xk(C,t),B=wc.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+v+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===B)throw SN();const Y={name:C.fullPath},Te=Bu(l,n.host,n._protocol),et=n.maxUploadRetryTime,ct=new Cc(Te,"POST",FD(n,t),et);return ct.urlParams=Y,ct.headers=h,ct.body=B.uploadData(),ct.errorHandler=$y(e),ct}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Cl,e,t);this._request=o,o.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=TN(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=tO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const l=new nj(t||void 0,r||void 0,o||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(tO(this._state)){case zs.SUCCESS:Hy(this._resolve.bind(null,this.snapshot))();break;case zs.CANCELED:case zs.ERROR:Hy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(tO(this._state)){case zs.RUNNING:case zs.PAUSED:e.next&&Hy(e.next.bind(e,this.snapshot))();break;case zs.SUCCESS:e.complete&&Hy(e.complete.bind(e))();break;case zs.CANCELED:case zs.ERROR:e.error&&Hy(e.error.bind(e,this._error))();break;default:e.error&&Hy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class $g{constructor(e,t){this._service=e,this._location=t instanceof ms?t:ms.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new $g(e,t)}get root(){const e=new ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PN(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ms(this._location.bucket,e);return new $g(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw AN(e)}}function zN(n,e,t){return nO.apply(this,arguments)}function nO(){return(nO=(0,Me.Z)(function*(n,e,t){const o=yield WN(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield zN(n,e,o.nextPageToken))})).apply(this,arguments)}function WN(n,e){null!=e&&"number"==typeof e.maxResults&&Kk("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=WB(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Cl)}function mj(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const o=Bu(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,p=new Cc(o,"GET",function(n,e){return function(r,o){const l=NN(n,o,e);return Ic(null!==l),function(n,e,t,r){const o=Jk(e);if(null===o||!OD(o.downloadTokens))return null;const l=o.downloadTokens;if(0===l.length)return null;const h=encodeURIComponent;return l.split(",").map(C=>{const D=n.fullPath;return Bu("/b/"+h(n.bucket)+"/o/"+h(D),t,r)+xN({alt:"media",token:C})})[0]}(l,o,n.host,n._protocol)}}(n,t),h);return p.errorHandler=mw(e),p}(n.storage,n._location,gw());return n.storage.makeRequestWithTokens(e,Cl).then(t=>{if(null===t)throw new Vr("no-download-url","The given file does not have any download URLs.");return t})}function ZN(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ms(n._location.bucket,t);return new $g(n.storage,r)}function KN(n,e){if(n instanceof rO){const t=n;if(null==t._bucket)throw new Vr("no-default-bucket","No default bucket found. Did you set the '"+IN+"' property when initializing the app?");const r=new $g(t,t._bucket);return null!=e?KN(r,e):r}return void 0!==e?ZN(n,e):n}function bj(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof rO)return function(n,e){return new $g(n,e)}(n,e);throw jy("To use ref(service, url), the first argument must be a Storage instance.")}return KN(n,e)}function YN(n,e){const t=null==e?void 0:e[IN];return null==t?null:ms.makeFromBucketSpec(t,n)}class rO{constructor(e,t,r,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=CN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?ms.makeFromBucketSpec(o,this._host):YN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ms.makeFromBucketSpec(this._url,e):YN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Kk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Kk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Me.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Me.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $g(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new mB(DN());{const l=function(n,e,t,r,o,l){const h=xN(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(v,l),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new wB(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,Me.Z)(function*(){const[o,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,l).getPromise()})()}}const QN="@firebase/storage",XN="storage";function eF(n){return mj(n=(0,Ut.m9)(n))}function iO(n,e){return bj(n=(0,Ut.m9)(n),e)}(0,ii._registerComponent)(new Mo.wA(XN,function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new rO(t,r,o,e,ii.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ii.registerVersion)(QN,"0.9.1",""),(0,ii.registerVersion)(QN,"0.9.1","esm2017");const Lj=(0,Pt.u3)(eF,!0);class VD{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class nF{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new VD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new VD(r,this,this._ref))},t)}on(e,t,r,o){let l;return t&&(l="function"==typeof t?h=>t(new VD(h,this,this._ref)):{next:t.next?h=>t.next(new VD(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,l,r||void 0,o||void 0)}}class rF{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ju(e,this._service))}get items(){return this._delegate.items.map(e=>new ju(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ju{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return ZN(n,e)}(this._delegate,e);return new ju(t,this.storage)}get root(){return new ju(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ju(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new nF(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new GN(n,new wc(e),t)}(n=(0,Ut.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Vo.RAW,r){this._throwIfRoot("putString");const o=Qk(t,e),l=Object.assign({},r);return null==l.contentType&&null!=o.contentType&&(l.contentType=o.contentType),new nF(new GN(this._delegate,new wc(o.data,!0),l),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return zN(n,e).then(()=>e)}(n=(0,Ut.m9)(n))}(this._delegate).then(e=>new rF(e,this.storage))}list(e){return function(n,e){return WN(n=(0,Ut.m9)(n),e)}(this._delegate,e||void 0).then(t=>new rF(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=VN(n.storage,n._location,gw());return n.storage.makeRequestWithTokens(e,Cl)}(n=(0,Ut.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,r){const l=Bu(e.fullServerUrl(),n.host,n._protocol),p=Xk(t,r),C=n.maxOperationRetryTime,T=new Cc(l,"PATCH",FD(n,r),C);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=p,T.errorHandler=mw(e),T}(n.storage,n._location,e,gw());return n.storage.makeRequestWithTokens(t,Cl)}(n=(0,Ut.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return eF(this._delegate)}delete(){return this._throwIfRoot("delete"),function(n){return function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const r=Bu(e.fullServerUrl(),n.host,n._protocol),p=new Cc(r,"DELETE",function(v,C){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=mw(e),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Cl)}(n=(0,Ut.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw AN(e)}}class iF{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(sF(e))throw jy("ref() expected a child path but got a URL, use refFromURL instead.");return new ju(iO(this._delegate,e),this)}refFromURL(e){if(!sF(e))throw jy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ms.makeFromUrl(e,this._delegate.host)}catch(t){throw jy("refFromUrl() expected a valid full URL but got an invalid one.")}return new ju(iO(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Ut.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function sF(n){return/^[A-Za-z]+:\/\//.test(n)}function jj(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new iF(t,r)}function Hj(n){return new Zi.y(e=>{const t=h=>e.next(h);t(n.snapshot);const l=n.on("state_changed",t);return n.then(h=>{t(h),e.complete()},h=>{t(n.snapshot),(h=>{e.error(h)})(h)}),function(){l()}}).pipe(function(n,e=Yd.P){return t=>t.lift(new w2(n,e))}(0))}function oF(n){const e=Hj(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Rt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function UD(n){return{getDownloadURL:()=>(0,bt.of)(void 0).pipe(Pt.fc,Er(()=>n.getDownloadURL()),Pt.iC),getMetadata:()=>(0,bt.of)(void 0).pipe(Pt.fc,Er(()=>n.getMetadata()),Pt.iC),delete:()=>(0,Gn.D)(n.delete()),child:e=>UD(n.child(e)),updateMetadata:e=>(0,Gn.D)(n.updateMetadata(e)),put:(e,t)=>oF(n.put(e,t)),putString:(e,t,r)=>oF(n.putString(e,t,r)),list:e=>(0,Gn.D)(n.list(e)),listAll:()=>(0,Gn.D)(n.listAll())}}!function(n){const e={TaskState:zs,TaskEvent:tj,StringFormat:Vo,Storage:iF,Reference:ju};n.INTERNAL.registerComponent(new Mo.wA("storage-compat",jj,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.9")}(su.Z);const Gj=new u.OlP("angularfire2.storageBucket"),qj=new u.OlP("angularfire2.storage.maxUploadRetryTime"),zj=new u.OlP("angularfire2.storage.maxOperationRetryTime"),Wj=new u.OlP("angularfire2.storage.use-emulator");let aF=(()=>{class n{constructor(t,r,o,l,h,p,v,C,T,D){const U=(0,Or.on)(t,h,r);this.storage=(0,Or.cc)(`${U.name}.storage.${o}`,"AngularFireStorage",U.name,()=>{const B=h.runOutsideAngular(()=>U.storage(o||void 0)),Y=T;return Y&&B.useEmulator(...Y),v&&B.setMaxUploadRetryTime(v),C&&B.setMaxOperationRetryTime(C),B},[v,C])}ref(t){return UD(this.storage.ref(t))}refFromURL(t){return UD(this.storage.refFromURL(t))}upload(t,r,o){return UD(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Or.Dh),u.LFG(Or.xv,8),u.LFG(Gj,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Pt.HU),u.LFG(qj,8),u.LFG(zj,8),u.LFG(Wj,8),u.LFG(bD,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Zj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Kj=(()=>{class n{constructor(){CV.Z.registerVersion("angularfire",Pt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[aF],imports:[Zj]}),n})(),Yj=(()=>{class n{constructor(t){this.storage=t}ngOnInit(){}onDownloadCv(){const t=function(n=(0,ii.getApp)(),e){return n=(0,Ut.m9)(n),(0,ii._getProvider)(n,XN).getImmediate({identifier:e})}();Lj(iO(t,"Resume.pdf")).then(r=>{const o=new XMLHttpRequest;o.responseType="blob",o.onload=l=>{},o.open("GET",r),o.send()}).catch(r=>{})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(aF))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contact"]],decls:16,vars:0,consts:[[1,"icons-wrapper","position-center-row-complete"],[1,"gmail-icon","icons-contact"],["src","assets/icons/gmail.png"],[1,"icon-subtitle"],[1,"whatsapp-icon","icons-contact"],["href","https://api.whatsapp.com/send?phone=972546171907&text=Hi%20I%20liked%20your%20resume%20site%20and%20i%20would%20like%20to%20offer%20you%20a%20job%20:)",1,"whatsUpLink"],["src","assets/icons/whatsapp.png"],[1,"download-icon","icons-contact",3,"click"],["src","assets/icons/downlaod.png"]],template:function(t,r){1&t&&(u.TgZ(0,"app-sub-titles"),u._uU(1,"Contact & CV"),u.qZA(),u.TgZ(2,"div",0),u.TgZ(3,"div",1),u._UZ(4,"img",2),u.TgZ(5,"p",3),u._uU(6,"hanny.y@gmail.com"),u.qZA(),u.qZA(),u.TgZ(7,"div",4),u.TgZ(8,"a",5),u._UZ(9,"img",6),u.TgZ(10,"p",3),u._uU(11,"054-6171907"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",7),u.NdJ("click",function(){return r.onDownloadCv()}),u._UZ(13,"img",8),u.TgZ(14,"p",3),u._uU(15,"download CV"),u.qZA(),u.qZA(),u.qZA())},directives:[wN],styles:['.icons-contact[_ngcontent-%COMP%]{margin:80px;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;transition:all .2s ease-out}.icons-contact[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.icons-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;font-weight:600;font-size:26px}.gmail-icon[_ngcontent-%COMP%]:hover.gmail-icon:after, .whatsapp-icon[_ngcontent-%COMP%]:hover.whatsapp-icon:after, .download-icon[_ngcontent-%COMP%]:hover.download-icon:after{content:"";height:7px;width:100%;background:var(--background-default);position:absolute;z-index:-1;top:168px}.icons-contact[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:115px;height:115px}.whatsUpLink[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-decoration:none;color:var(--text-color-p)}']}),n})(),Qj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-thank-you"]],decls:23,vars:0,consts:[[1,"thanks-container","position-center-row"],[1,"lines","left-lines"],[1,"first-line"],[1,"small-line","line-border"],[1,"large-line","line-border"],[1,"second-line"],[1,"thanks-title-wrapper"],[1,"thanks-title"],[1,"thanks-title-small"],[1,"thanks-title-next-line"],[1,"lines","right-lines"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u._UZ(3,"div",3),u._UZ(4,"div",4),u.qZA(),u.TgZ(5,"div",5),u._UZ(6,"div",3),u._UZ(7,"div",4),u.qZA(),u.qZA(),u.TgZ(8,"div",6),u.TgZ(9,"h1",7),u._uU(10," Thanks "),u.TgZ(11,"span",8),u._uU(12,"for"),u.qZA(),u._UZ(13,"br"),u.TgZ(14,"span",9),u._uU(15,"Watching!"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(16,"div",10),u.TgZ(17,"div",2),u._UZ(18,"div",3),u._UZ(19,"div",4),u.qZA(),u.TgZ(20,"div",5),u._UZ(21,"div",3),u._UZ(22,"div",4),u.qZA(),u.qZA(),u.qZA())},styles:[".thanks-container[_ngcontent-%COMP%]{width:75%;display:flex;align-items:center;position:relative;left:250px;transform:scale(.9)}.thanks-container[_ngcontent-%COMP%]   .lines[_ngcontent-%COMP%]{width:30%}.thanks-container[_ngcontent-%COMP%]   .thanks-title-wrapper[_ngcontent-%COMP%]{width:35%}.thanks-container[_ngcontent-%COMP%]   .line-border[_ngcontent-%COMP%]{border:solid 1px var(--text-color-p)}.thanks-container[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%], .thanks-container[_ngcontent-%COMP%]   .second-line[_ngcontent-%COMP%]{display:flex;margin:5px 0}.thanks-container[_ngcontent-%COMP%]   .first-line[_ngcontent-%COMP%]{width:100%}.thanks-container[_ngcontent-%COMP%]   .second-line[_ngcontent-%COMP%]{transform:rotate(180deg);width:70%}.thanks-container[_ngcontent-%COMP%]   .left-lines[_ngcontent-%COMP%], .thanks-container[_ngcontent-%COMP%]   .right-lines[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:end}.thanks-container[_ngcontent-%COMP%]   .right-lines[_ngcontent-%COMP%]{transform:rotate(180deg);position:relative;top:-35px}.thanks-container[_ngcontent-%COMP%]   .left-lines[_ngcontent-%COMP%]{position:relative;top:30px;left:120px}.thanks-container[_ngcontent-%COMP%]   .small-line[_ngcontent-%COMP%]{width:2%;margin:0 10px}.thanks-container[_ngcontent-%COMP%]   .large-line[_ngcontent-%COMP%]{width:98%}.thanks-container[_ngcontent-%COMP%]   .thanks-title[_ngcontent-%COMP%]{text-align:center;font-size:80px;color:var(--primary-default)}.thanks-container[_ngcontent-%COMP%]   .thanks-title-small[_ngcontent-%COMP%]{font-size:40px;font-weight:500}.thanks-container[_ngcontent-%COMP%]   .thanks-title-next-line[_ngcontent-%COMP%]{font-size:60px;position:relative;left:100px;top:-30px;font-weight:600}"]}),n})();const Jj=["train"],Xj=["allPlatforms"],e3=["rails"];function t3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",1),u.TgZ(1,"h2",2),u._uU(2,"Welcome To My Resume"),u.qZA(),u.TgZ(3,"div",3),u._UZ(4,"app-illustration-and-bubble"),u.qZA(),u.TgZ(5,"div",4),u.TgZ(6,"p",5),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return o.canGoToStation?o.toPreviousStation():""}),u._uU(7,"Back"),u.qZA(),u.TgZ(8,"button",6),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return o.canGoToStation?o.toPreviousStation():""}),u._uU(9,"<"),u.qZA(),u.TgZ(10,"p",7),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return o.canGoToStation?o.toNextStation():""}),u._uU(11,"Next"),u.qZA(),u.TgZ(12,"button",8),u.NdJ("click",function(){u.CHM(t);const o=u.oxw();return o.canGoToStation?o.toNextStation():""}),u._uU(13,">"),u.qZA(),u.qZA(),u.TgZ(14,"div",9),u.TgZ(15,"div",10),u._UZ(16,"img",11,12),u.qZA(),u.TgZ(18,"div",13,14),u.TgZ(20,"div",15,16),u._UZ(22,"app-train-illustration",17),u.qZA(),u._UZ(23,"app-platform",18),u._UZ(24,"app-platform",19),u._UZ(25,"app-platform",20),u._UZ(26,"app-platform",21),u._UZ(27,"app-platform",22),u._UZ(28,"app-platform",23),u._UZ(29,"app-platform",24),u._UZ(30,"app-platform",25),u._UZ(31,"app-platform",26),u._UZ(32,"app-platform",27),u.qZA(),u.qZA(),u.TgZ(33,"div",28),u.NdJ("click",function(){return u.CHM(t),u.oxw().onClick("languages-container")}),u.TgZ(34,"mat-icon",29),u._uU(35,"keyboard_arrow_down"),u.qZA(),u.qZA(),u.TgZ(36,"div",30),u._UZ(37,"app-languages"),u.qZA(),u.TgZ(38,"div",31),u._UZ(39,"app-contact"),u.qZA(),u.TgZ(40,"div",32),u._UZ(41,"app-thank-you"),u.qZA(),u.TgZ(42,"div",33),u.NdJ("click",function(){return u.CHM(t),u.oxw().onClick("pageTop")}),u.TgZ(43,"mat-icon",34),u._uU(44,"keyboard_arrow_up"),u.qZA(),u.qZA(),u.qZA()}if(2&n){const t=u.oxw();u.xp6(22),u.Q6J("train",t.trainStation.train),u.xp6(1),u.Q6J("platform",t.trainStation.platform[0]),u.xp6(1),u.Q6J("platform",t.trainStation.platform[1]),u.xp6(1),u.Q6J("platform",t.trainStation.platform[2]),u.xp6(1),u.Q6J("platform",t.trainStation.platform[3]),u.xp6(1),u.Q6J("platform",t.trainStation.platform[4]),u.xp6(1),u.Q6J("platform",t.trainStation.platform[5]),u.xp6(1),u.Q6J("platform",t.trainStation.platform[6]),u.xp6(1),u.Q6J("platform",t.trainStation.platform[7]),u.xp6(1),u.Q6J("platform",t.trainStation.platform[8]),u.xp6(1),u.Q6J("platform",t.trainStation.platform[9])}}const n3=[{path:"",component:uI},{path:"about-me",component:(()=>{class n{constructor(t,r,o,l){this.trainService=t,this.renderer=r,this.viewportScroller=o,this.DB=l,this.canGoToStation=!0,this.allPlatformLeft=0,this.randomNumNext=-50,this.randomNumBack=50}ngOnInit(){this.selectedPlatformSub=this.DB.selectedStation.subscribe(t=>{this.selectedPlatform=t}),this.DB.setTrainStationIcons(),this.DB.setTrainStationPlatform(),this.trainStationDBSub=this.DB.trainStationData.subscribe(t=>{t&&(this.trainStation=t)})}toNextStation(){var t,r,o;let l=this.selectedPlatform;if(this.canGoToStation=!1,setTimeout(()=>{this.canGoToStation=!0},1400),setTimeout(()=>{10!==l.index&&this.trainService.setIsTrainMoving("forward")},350),l&&10!==l.index&&(setTimeout(()=>{this.trainService.setStartAnimation("nextAnimation")},0),l.index<10&&(this.allPlatformLeft-=880,setTimeout(()=>{this.renderer.setStyle(this.train.nativeElement,"left",320-this.allPlatformLeft+"px")},400)),l.index<9&&setTimeout(()=>{this.renderer.setStyle(this.allPlatforms.nativeElement,"left",`${this.allPlatformLeft}px`),this.renderer.setStyle(this.rails.nativeElement,"transform",`translateX(${this.randomNumNext}px)`)},400),setTimeout(()=>{this.iconsNextAnimation(l.index),this.DB.setSelectedStation(this.trainStation.platform[l.index]),10===l.index&&this.DB.setSelectedStation(this.trainStation.platform[l.index-1])},400)),setTimeout(()=>{this.trainService.setIsTrainMoving("noMove"),this.trainService.setStartAnimation("")},1300),9===(null===(t=this.selectedPlatform)||void 0===t?void 0:t.index)&&(null===(r=this.selectedPlatform)||void 0===r?void 0:r.index)+1===10)for(let h of this.trainStation.platform[9].iconsGroup)setTimeout(()=>{h.visible=!0},1900);9===(null===(o=this.selectedPlatform)||void 0===o?void 0:o.index)&&(setTimeout(()=>{this.trainService.setFinalAnimation("toStation")},1500),setTimeout(()=>{this.trainService.setFinalAnimation("noMove")},1900)),this.randomNumNext-=50}toPreviousStation(){var t,r;let o=this.selectedPlatform;this.canGoToStation=!1,setTimeout(()=>{this.canGoToStation=!0},1200),this.canGoToStation=!1,setTimeout(()=>{this.canGoToStation=!0},1200),this.selectedPlatform&&1!==o.index&&(setTimeout(()=>{this.trainService.setStartAnimation("backAnimation")},1e3),setTimeout(()=>{this.trainService.setIsTrainMoving("noMove"),this.trainService.setStartAnimation("")},1200),this.selectedPlatform.index>=2&&(this.allPlatformLeft+=880,10!==(null===(t=this.selectedPlatform)||void 0===t?void 0:t.index)?(this.renderer.setStyle(this.train.nativeElement,"left",320-this.allPlatformLeft+"px"),this.renderer.setStyle(this.allPlatforms.nativeElement,"left",`${this.allPlatformLeft}px`),this.renderer.setStyle(this.rails.nativeElement,"transform",`translateX(${this.randomNumBack}px)`)):setTimeout(()=>{this.renderer.setStyle(this.train.nativeElement,"left",320-this.allPlatformLeft+"px"),this.renderer.setStyle(this.allPlatforms.nativeElement,"left",`${this.allPlatformLeft}px`)},500)),this.DB.setSelectedStation(this.trainStation.platform[this.selectedPlatform.index-2]),1===this.selectedPlatform.index&&this.DB.setSelectedStation(this.trainStation.platform[this.selectedPlatform.index-1])),setTimeout(()=>{var l,h;if(9===(null===(l=this.selectedPlatform)||void 0===l?void 0:l.index)&&(null===(h=this.selectedPlatform)||void 0===h?void 0:h.index)+1===10)for(let p of this.trainStation.platform[9].iconsGroup)p.visible=!1},400),9===(null===(r=this.selectedPlatform)||void 0===r?void 0:r.index)?(setTimeout(()=>{this.trainService.setFinalAnimation("toWagon")},0),setTimeout(()=>{this.trainService.setFinalAnimation("noMove"),this.iconsBackAnimation(o.index)},500),setTimeout(()=>{this.trainService.setStartAnimation("backAnimation")},1500),setTimeout(()=>{this.trainService.setIsTrainMoving("backward")},350)):1===o.index?this.trainService.setIsTrainMoving(""):(this.iconsBackAnimation(o.index),this.trainService.setIsTrainMoving("backward")),this.randomNumBack+=40}ngAfterViewInit(){setTimeout(()=>{this.allPlatformLeft=this.trainStation.platform[0]?Number(getComputedStyle(this.allPlatforms.nativeElement).left.substr(0,1))-41:Number(getComputedStyle(this.allPlatforms.nativeElement).left.substr(0,1))},500)}ngOnDestroy(){this.selectedPlatformSub.unsubscribe(),this.trainStationDBSub.unsubscribe()}iconsNextAnimation(t){if(this.trainStation.platform[t-1])for(let r of this.trainStation.platform[t-1].iconsGroup){r.visible=!1;for(let o of this.trainStation.train.icons)r.name===o.name&&(o.visible=!0)}}iconsBackAnimation(t){this.trainStation.platform[t-2]&&setTimeout(()=>{for(let r of this.trainStation.platform[t-2].iconsGroup){r.visible=!0;for(let o of this.trainStation.train.icons)r.name===o.name&&(o.visible=!1)}},1e3)}onClick(t){this.viewportScroller.scrollToAnchor(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wD),u.Y36(u.Qsj),u.Y36(Ys),u.Y36(lw))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-train"]],viewQuery:function(t,r){if(1&t&&(u.Gf(Jj,5),u.Gf(Xj,5),u.Gf(e3,5)),2&t){let o;u.iGM(o=u.CRH())&&(r.train=o.first),u.iGM(o=u.CRH())&&(r.allPlatforms=o.first),u.iGM(o=u.CRH())&&(r.rails=o.first)}},decls:1,vars:1,consts:[["class","train-page-container","id","pageTop",4,"ngIf"],["id","pageTop",1,"train-page-container"],[1,"page-title"],[1,"illustration-and-bubble"],[1,"train-buttons"],[1,"button-text","back-btn-text",3,"click"],[1,"previous-button","btn-control",3,"click"],["disabled","canGoToStation",1,"button-text","next-btn-text",3,"click"],[1,"next-button","btn-control",3,"click"],[1,"train-station"],[1,"train-rails"],["src","assets/train-rails.png",1,"rails-image"],["rails",""],[1,"train-platforms"],["allPlatforms",""],[1,"train-container"],["train",""],[3,"train"],[1,"platform-container","one",3,"platform"],[1,"platform-container","two",3,"platform"],[1,"platform-container","three",3,"platform"],[1,"platform-container","four",3,"platform"],[1,"platform-container","five",3,"platform"],[1,"platform-container","six",3,"platform"],[1,"platform-container","seven",3,"platform"],[1,"platform-container","eight",3,"platform"],[1,"platform-container","nine",3,"platform"],[1,"platform-container","ten",3,"platform"],[1,"arrow-down",3,"click"],["aria-label","go down icon",1,"goDownIcon"],["id","languages-container",1,"languages-container"],[1,"Contact-container"],[1,"thanks-container"],[1,"arrow-up",3,"click"],["aria-label","go up icon",1,"goUpIcon"]],template:function(t,r){1&t&&u.YNc(0,t3,45,11,"div",0),2&t&&u.Q6J("ngIf",r.trainStation)},directives:[ci,FV,$V,ZV,JU,nB,Yj,Qj],styles:[".train-page-container[_ngcontent-%COMP%]{height:100%;position:relative}.page-title[_ngcontent-%COMP%]{text-align:center;margin-bottom:55px;margin-top:75px}.illustration-and-bubble[_ngcontent-%COMP%]{height:308px;width:100%;position:relative}.train-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;transform:scale(1.2);top:-10px}.train-buttons[_ngcontent-%COMP%]   .btn-control[_ngcontent-%COMP%]{display:inline-block;width:25px;height:25px;border-radius:50%;margin-right:0;background:var(--primary-light);cursor:pointer;padding:5px;line-height:14px;transition:all .2s ease-in;color:var(--primary-default);font-size:20px;font-weight:600}.train-buttons[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{position:relative;top:-14px;font-weight:600;cursor:pointer;transition:all .1s ease-in}.train-buttons[_ngcontent-%COMP%]   .back-btn-text[_ngcontent-%COMP%]{left:-10px}.train-buttons[_ngcontent-%COMP%]   .next-btn-text[_ngcontent-%COMP%]{right:-70px}.train-buttons[_ngcontent-%COMP%]   .next-button[_ngcontent-%COMP%]:hover ~ .next-btn-text[_ngcontent-%COMP%], .train-buttons[_ngcontent-%COMP%]   .previous-button[_ngcontent-%COMP%]:hover ~ .back-btn-text[_ngcontent-%COMP%]{color:var(--text-color-welcome);transform:scale(1.1)}.train-buttons[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]:hover{color:var(--text-color-welcome);transform:scale(1.1)}.train-buttons[_ngcontent-%COMP%]   .btn-control[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:var(--background-default)!important;border:solid 1px var(--text-color-welcome)!important}.train-buttons[_ngcontent-%COMP%]   .back-btn-text[_ngcontent-%COMP%]:hover ~ .previous-button[_ngcontent-%COMP%], .train-buttons[_ngcontent-%COMP%]   .next-btn-text[_ngcontent-%COMP%]:hover ~ .next-button[_ngcontent-%COMP%]{transform:scale(1.1);background:var(--background-default)!important;border:solid 1px var(--text-color-welcome)!important}.train-buttons[_ngcontent-%COMP%]   .previous-button[_ngcontent-%COMP%]:hover:before, .train-buttons[_ngcontent-%COMP%]   .next-button[_ngcontent-%COMP%]:hover:before{border-top:2px solid var(--text-color-welcome)!important;border-right:2px solid var(--text-color-welcome)!important}.arrow-down[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;top:120px}.arrow-down[_ngcontent-%COMP%]   .goDownIcon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;font-weight:300;border-radius:50%;text-align:center;animation:MoveUpDown 1.5s linear infinite;position:absolute;cursor:pointer}.arrow-down[_ngcontent-%COMP%]   .goDownIcon[_ngcontent-%COMP%]:hover{background:var(--primary-light)}@keyframes MoveUpDown{0%,to{bottom:0}50%{bottom:-7px}}.train-station[_ngcontent-%COMP%]{margin:220px 200px 0;position:relative}.train-station[_ngcontent-%COMP%]   .train-rails[_ngcontent-%COMP%]   .rails-image[_ngcontent-%COMP%]{position:absolute;left:-55%;top:20px;transition:all 1s ease-in}.train-station[_ngcontent-%COMP%]   .train-container[_ngcontent-%COMP%]{position:absolute;transition:all 1s ease-in;left:360px;bottom:-6px;z-index:9999}.train-station[_ngcontent-%COMP%]   .train-containerSlow[_ngcontent-%COMP%]{transition:all 1.5s ease-in}.train-station[_ngcontent-%COMP%]   .train-platforms[_ngcontent-%COMP%]{display:flex;align-items:flex-end;position:absolute;height:100%;left:1px;transition:all 1s ease-in}.train-station[_ngcontent-%COMP%]   .train-platforms[_ngcontent-%COMP%]   .platform-container[_ngcontent-%COMP%]{margin:0 300px;width:280px}.train-station[_ngcontent-%COMP%]   .train-platforms[_ngcontent-%COMP%]   .one[_ngcontent-%COMP%]{margin-left:100px}.languages-container[_ngcontent-%COMP%]{position:relative;top:40px}.arrow-up[_ngcontent-%COMP%]{display:flex;align-items:start;justify-content:center;position:relative;top:-80px;height:100px}.arrow-up[_ngcontent-%COMP%]   .goUpIcon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;font-weight:300;border-radius:50%;text-align:center;animation:MoveUpDown 1.5s linear infinite;position:absolute;cursor:pointer}.arrow-up[_ngcontent-%COMP%]   .goUpIcon[_ngcontent-%COMP%]:hover{background:var(--primary-light)}"],data:{animation:[Sb,ma]}}),n})(),data:{animation:"isRight"}},{path:"**",component:uI}];let r3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[wb.forRoot(n3,{anchorScrolling:"enabled"})],wb]}),n})();const i3=Tf("routeAnimations",[wo("* => isLeft",BD("left")),wo("* => isRight",BD("right")),wo("isRight => *",BD("left")),wo("isLeft => *",BD("right"))]);function BD(n){const e={optional:!0};return[jc(":enter, :leave",[Ds({position:"absolute",top:0,[n]:0,width:"100%",overflow:"hidden"})],e),jc(":enter",[Ds({overflow:"hidden",[n]:"-100%"})]),Sf([jc(":leave",[$a("600ms ease",Ds({overflow:"hidden",[n]:"100%"}))],e),jc(":enter",[$a("600ms ease",Ds({overflow:"hidden",[n]:"0%"}))])])]}let s3=(()=>{class n{prepareRoute(t){var r;return null===(r=null==t?void 0:t.activatedRouteData)||void 0===r?void 0:r.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"content"],["outlet","outlet"]],template:function(t,r){if(1&t&&(u.TgZ(0,"main",0),u._UZ(1,"router-outlet",null,1),u.qZA()),2&t){const o=u.MAs(2);u.Q6J("@routeAnimations",r.prepareRoute(o))}},directives:[vb],styles:["main[_ngcontent-%COMP%]{position:relative}"],data:{animation:[i3]}}),n})(),HF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),oL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[HF]]}),n})(),X3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[oL]}),n})(),u$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ui,gs],gs]}),n})(),_$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gs],gs]}),n})();function y$(n,e){if(1&n&&(u.O4$(),u._UZ(0,"circle",3)),2&n){const t=u.oxw();u.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),u.uIk("r",t._getCircleRadius())}}function v$(n,e){if(1&n&&(u.O4$(),u._UZ(0,"circle",3)),2&n){const t=u.oxw();u.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),u.uIk("r",t._getCircleRadius())}}const C$=Lk(class{constructor(n){this._elementRef=n}},"primary"),cL=new u.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class $u extends C${constructor(e,t,r,o,l){super(e),this._document=r,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const h=$u._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),h.has(r.head)||h.set(r.head,new Set([100])),this._fallbackAnimation=t.EDGE||t.TRIDENT,this._noopAnimations="NoopAnimations"===o&&!!l&&!l._forceAnimations,l&&(l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=wl(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=wl(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,wl(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=function(n){if(function(){if(null==Pk){const n="undefined"!=typeof document?document.head:null;Pk=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Pk}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(e)||this._document.head,this._attachStyleNode(),e.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=$u._diameters;let o=r.get(e);if(!o||!o.has(t)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),e.appendChild(l),o||(o=new Set,r.set(e,o)),o.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}$u.\u0275fac=function(e){return new(e||$u)(u.Y36(u.SBq),u.Y36(Aa),u.Y36(ue,8),u.Y36(Ya,8),u.Y36(cL))},$u.\u0275cmp=u.Xpm({type:$u,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(u.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),u.Udp("width",t.diameter,"px")("height",t.diameter,"px"),u.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[u.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(u.O4$(),u.TgZ(0,"svg",0),u.YNc(1,y$,1,9,"circle",1),u.YNc(2,v$,1,7,"circle",2),u.qZA()),2&e&&(u.Udp("width",t.diameter,"px")("height",t.diameter,"px"),u.Q6J("ngSwitch","indeterminate"===t.mode),u.uIk("viewBox",t._getViewBox()),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngSwitchCase",!1))},directives:[jr,ar],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n"],encapsulation:2,changeDetection:0}),$u._diameters=new WeakMap;let S$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[gs,ui],gs]}),n})(),V$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[eN,gs],gs]}),n})();const gL_firebase={projectId:"resumesite-hanny",appId:"1:81993890820:web:3788eb44f3e163f1d40951",storageBucket:"resumesite-hanny.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAy9Dt60GROE7t2-nITdMk6AOLcX7zrujU",authDomain:"resumesite-hanny.firebaseapp.com",messagingSenderId:"81993890820",measurementId:"G-NTBT2MGBD6"};class B${constructor(e,t,r,o){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=o}call(e,t){return t.subscribe(new j$(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class j$ extends Jn.L{constructor(e,t,r,o,l){super(e),this.keySelector=t,this.elementSelector=r,this.durationSelector=o,this.subjectSelector=l,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let t;try{t=this.keySelector(e)}catch(r){return void this.error(r)}this._group(e,t)}_group(e,t){let r=this.groups;r||(r=this.groups=new Map);let l,o=r.get(t);if(this.elementSelector)try{l=this.elementSelector(e)}catch(h){this.error(h)}else l=e;if(!o){o=this.subjectSelector?this.subjectSelector():new Wi.xQ,r.set(t,o);const h=new mL(t,o,this);if(this.destination.next(h),this.durationSelector){let p;try{p=this.durationSelector(new mL(t,o))}catch(v){return void this.error(v)}this.add(p.subscribe(new $$(t,o,this)))}}o.closed||o.next(l)}_error(e){const t=this.groups;t&&(t.forEach((r,o)=>{r.error(e)}),t.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((t,r)=>{t.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class $$ extends Jn.L{constructor(e,t,r){super(t),this.key=e,this.group=t,this.parent=r}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:t}=this;this.key=this.parent=null,e&&e.removeGroup(t)}}class mL extends Zi.y{constructor(e,t,r){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=r}_subscribe(e){const t=new Vd.w,{refCountSubscription:r,groupSubject:o}=this;return r&&!r.closed&&t.add(new H$(r)),t.add(o.subscribe(e)),t}}class H$ extends Vd.w{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;!e.closed&&!this.closed&&(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}var G$=k(4762),_L=k(9554),q$=k(7379);function z$(n){return new Zi.y(function(e){return{unsubscribe:(0,q$.t)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class YD{constructor(e){return e}}const J$=(0,Pt.u3)(z$,!0);class ww{constructor(e){return e}}const bL=Pt.nk.async,eH=(0,Pt.u3)(_L.Kz,!0),tH=(0,Pt.u3)(_L.Iv,!0);let EL=(()=>{class n{constructor(t,r,o){let l;this.disposables=[],(0,lf.KN)("angularfire",Pt.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(h=>{l=h})),bL().then(()=>{const h=o.get(ww);h?this.disposables=[J$(t).subscribe(p=>{tH(h,null==p?void 0:p.uid),l()})]:l()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(YD),u.LFG(u.R0b),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const wL="firebase_screen_id",kO="outlet",Cw="screen_class",CL="screen_name";let fH=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const OO={},pH=n=>{const e=[n[Cw],n[kO]].join("#");if(OO.hasOwnProperty(e))return OO[e];{const t=fH++;return OO[e]=t,t}};let mH=(()=>{class n{constructor(t,r,o,l,h,p){(0,lf.KN)("angularfire",Pt.q4.full,"screen-tracking"),bL().then(()=>{const v=p.get(ww);!t||!v||l.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Xs(o=>o instanceof bC)).pipe(Er(o=>{var l;const p=(null===(l=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,B=>B.replace("://",":///"))).root.children[o.snapshot.outlet])||void 0===l?void 0:l.toString())||"",v=n.routerState.root.children.map(B=>B).find(B=>B.outlet===o.snapshot.outlet);if(!v)return(0,bt.of)(null);let C=v;for(;C.firstChild;)C=C.firstChild;const T=C.pathFromRoot.map(B=>{var Y;return null===(Y=B.routeConfig)||void 0===Y?void 0:Y.path}).filter(B=>B).join("/")||"/",D={[CL]:T,page_path:`/${p}`,firebase_event_origin:"auto",firebase_screen:T,[kO]:o.snapshot.outlet};e&&(D.page_title=e.getTitle());let U=v.component;if(U){if(U===Om){let B=o.snapshot;for(;B.firstChild;)B=B.firstChild;U=B.component}}else U=o.snapshot.component;if("string"==typeof U)return(0,bt.of)(Object.assign(Object.assign({},D),{[Cw]:U}));if(U){const B=t.resolveComponentFactory(U);return(0,bt.of)(Object.assign(Object.assign({},D),{[Cw]:B.selector}))}return(0,bt.of)(null)}),Xs(o=>!!o),(0,Rt.U)(o=>Object.assign({firebase_screen_class:o[Cw],[wL]:pH(o)},o)),function(n,e,t,r){return o=>o.lift(new B$(n,void 0,void 0,void 0))}(o=>o[kO]),(0,Ri.zg)(o=>o.pipe(bp((l,h)=>JSON.stringify(l)===JSON.stringify(h)),Jc(void 0),_a(),(0,Rt.U)(([l,h])=>l?Object.assign({firebase_previous_class:l[Cw],firebase_previous_screen:l[CL],firebase_previous_id:l[wL]},h):h)))))(t,r,o).pipe(Er(C=>(0,G$.mG)(this,void 0,void 0,function*(){return h&&(yield h.initialized),eH(v,"screen_view",C)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fi,8),u.LFG(If,8),u.LFG(u._Vd),u.LFG(u.R0b),u.LFG(EL,8),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),bH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[s3]}),n.\u0275inj=u.cJS({providers:[mH,EL],imports:[[em,r3,vA,u$,_$,S$,V$,X3,XU,Or.hO.initializeApp(gL_firebase),Kj]]}),n})();(0,u.G48)(),Uc().bootstrapModule(bH).catch(n=>console.error(n))},4762:(dt,Pe,k)=>{"use strict";function le(de,we){var Ce={};for(var Se in de)Object.prototype.hasOwnProperty.call(de,Se)&&we.indexOf(Se)<0&&(Ce[Se]=de[Se]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Be=0;for(Se=Object.getOwnPropertySymbols(de);Be<Se.length;Be++)we.indexOf(Se[Be])<0&&Object.prototype.propertyIsEnumerable.call(de,Se[Be])&&(Ce[Se[Be]]=de[Se[Be]])}return Ce}function ie(de,we,Ce,Se){return new(Ce||(Ce=Promise))(function(ve,It){function ln(mt){try{Dt(Se.next(mt))}catch(xt){It(xt)}}function xn(mt){try{Dt(Se.throw(mt))}catch(xt){It(xt)}}function Dt(mt){mt.done?ve(mt.value):function(ve){return ve instanceof Ce?ve:new Ce(function(It){It(ve)})}(mt.value).then(ln,xn)}Dt((Se=Se.apply(de,we||[])).next())})}k.d(Pe,{_T:()=>le,mG:()=>ie})},3394:(dt,Pe,k)=>{"use strict";k.d(Pe,{Z:()=>$e});var u=k(3854),j=k(3910),O=k(8026),le=k(5422);class fe{constructor(Ee,se){this._delegate=Ee,this.firebase=se,(0,O._addComponent)(Ee,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ee,se=O._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const pe=this._delegate.container.getProvider(Ee);return!pe.isInitialized()&&"EXPLICIT"===(null===(_e=pe.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&pe.initialize(),pe.getImmediate({identifier:se})}_removeServiceInstance(Ee,se=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(se)}_addComponent(Ee){(0,O._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,O._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ue=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function re(){const xe=function(xe){const Ee={},se={__esModule:!0,initializeApp:function(ye,Qt={}){const de=O.initializeApp(ye,Qt);if((0,u.r3)(Ee,de.name))return Ee[de.name];const we=new xe(de,se);return Ee[de.name]=we,we},app:pe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function(ye){const Qt=ye.name,de=Qt.replace("-compat","");if(O._registerComponent(ye)&&"PUBLIC"===ye.type){const we=(Ce=pe())=>{if("function"!=typeof Ce[de])throw ue.create("invalid-app-argument",{appName:Qt});return Ce[de]()};void 0!==ye.serviceProps&&(0,u.ZB)(we,ye.serviceProps),se[de]=we,xe.prototype[de]=function(...Ce){return this._getService.bind(this,Qt).apply(this,ye.multipleInstances?Ce:[])}}return"PUBLIC"===ye.type?se[de]:null},removeApp:function(ye){delete Ee[ye]},useAsService:function(ye,Qt){return"serverAuth"===Qt?null:Qt},modularAPIs:O}};function pe(ye){if(!(0,u.r3)(Ee,ye=ye||O._DEFAULT_ENTRY_NAME))throw ue.create("no-app",{appName:ye});return Ee[ye]}return se.default=se,Object.defineProperty(se,"apps",{get:function(){return Object.keys(Ee).map(ye=>Ee[ye])}}),pe.App=xe,se}(fe);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:re,extendNamespace:function(se){(0,u.ZB)(xe,se)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),xe}(),$=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const xe=self.firebase.SDK_VERSION;xe&&xe.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const $e=F;(0,O.registerVersion)("@firebase/app-compat","0.1.14",undefined)},8026:(dt,Pe,k)=>{"use strict";k.r(Pe),k.d(Pe,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Wn,_DEFAULT_ENTRY_NAME:()=>xn,_addComponent:()=>Tn,_addOrOverwriteComponent:()=>Br,_apps:()=>mt,_clearComponents:()=>cn,_components:()=>xt,_getProvider:()=>Tt,_registerComponent:()=>zn,_removeServiceInstance:()=>tn,deleteApp:()=>sr,getApp:()=>ir,getApps:()=>Nn,initializeApp:()=>Tr,onLog:()=>Ft,registerVersion:()=>lt,setLogLevel:()=>Zn});var u=k(8239),j=k(3910),O=k(5422),le=k(3854);class fe{constructor(yt){this.container=yt}getPlatformInfoString(){return this.container.getProviders().map(Zt=>{if(function(gt){const yt=gt.getComponent();return"VERSION"===(null==yt?void 0:yt.type)}(Zt)){const $t=Zt.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(Zt=>Zt).join(" ")}}const ue="@firebase/app",re=new O.Yd("@firebase/app"),xn="[DEFAULT]",Dt={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,xt=new Map;function Tn(gt,yt){try{gt.container.addComponent(yt)}catch(Zt){re.debug(`Component ${yt.name} failed to register with FirebaseApp ${gt.name}`,Zt)}}function Br(gt,yt){gt.container.addOrOverwriteComponent(yt)}function zn(gt){const yt=gt.name;if(xt.has(yt))return re.debug(`There were multiple attempts to register component ${yt}.`),!1;xt.set(yt,gt);for(const Zt of mt.values())Tn(Zt,gt);return!0}function Tt(gt,yt){return gt.container.getProvider(yt)}function tn(gt,yt,Zt=xn){Tt(gt,yt).clearInstance(Zt)}function cn(){xt.clear()}const rr=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Qn{constructor(yt,Zt,$t){this._isDeleted=!1,this._options=Object.assign({},yt),this._config=Object.assign({},Zt),this._name=Zt.name,this._automaticDataCollectionEnabled=Zt.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this.checkDestroyed(),this._automaticDataCollectionEnabled=yt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(yt){this._isDeleted=yt}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}const Wn="9.6.3";function Tr(gt,yt={}){"object"!=typeof yt&&(yt={name:yt});const Zt=Object.assign({name:xn,automaticDataCollectionEnabled:!1},yt),$t=Zt.name;if("string"!=typeof $t||!$t)throw rr.create("bad-app-name",{appName:String($t)});const Ln=mt.get($t);if(Ln){if((0,le.vZ)(gt,Ln.options)&&(0,le.vZ)(Zt,Ln.config))return Ln;throw rr.create("duplicate-app",{appName:$t})}const on=new j.H0($t);for(const tt of xt.values())on.addComponent(tt);const We=new Qn(gt,Zt,on);return mt.set($t,We),We}function ir(gt=xn){const yt=mt.get(gt);if(!yt)throw rr.create("no-app",{appName:gt});return yt}function Nn(){return Array.from(mt.values())}function sr(gt){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(gt){const yt=gt.name;mt.has(yt)&&(mt.delete(yt),yield Promise.all(gt.container.getProviders().map(Zt=>Zt.delete())),gt.isDeleted=!0)})).apply(this,arguments)}function lt(gt,yt,Zt){var $t;let Ln=null!==($t=Dt[gt])&&void 0!==$t?$t:gt;Zt&&(Ln+=`-${Zt}`);const on=Ln.match(/\s|\//),We=yt.match(/\s|\//);if(on||We){const tt=[`Unable to register library "${Ln}" with version "${yt}":`];return on&&tt.push(`library name "${Ln}" contains illegal characters (whitespace or "/")`),on&&We&&tt.push("and"),We&&tt.push(`version name "${yt}" contains illegal characters (whitespace or "/")`),void re.warn(tt.join(" "))}zn(new j.wA(`${Ln}-version`,()=>({library:Ln,version:yt}),"VERSION"))}function Ft(gt,yt){if(null!==gt&&"function"!=typeof gt)throw rr.create("invalid-log-argument");(0,O.Am)(gt,yt)}function Zn(gt){(0,O.Ub)(gt)}zn(new j.wA("platform-logger",yt=>new fe(yt),"PRIVATE")),lt(ue,"0.7.13",""),lt(ue,"0.7.13","esm2017"),lt("fire-js","")},3910:(dt,Pe,k)=>{"use strict";k.d(Pe,{wA:()=>O,H0:()=>ie});var u=k(8239),j=k(3854);class O{constructor(F,$,V){this.name=F,this.instanceFactory=$,this.type=V,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const le="[DEFAULT]";class fe{constructor(F,$){this.name=F,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const $=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has($)){const V=new j.BH;if(this.instancesDeferred.set($,V),this.isInitialized($)||this.shouldAutoInitialize())try{const ne=this.getOrInitializeService({instanceIdentifier:$});ne&&V.resolve(ne)}catch(ne){}}return this.instancesDeferred.get($).promise}getImmediate(F){var $;const V=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),ne=null!==($=null==F?void 0:F.optional)&&void 0!==$&&$;if(!this.isInitialized(V)&&!this.shouldAutoInitialize()){if(ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:V})}catch(Re){if(ne)return null;throw Re}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:le})}catch($){}for(const[$,V]of this.instancesDeferred.entries()){const ne=this.normalizeInstanceIdentifier($);try{const Re=this.getOrInitializeService({instanceIdentifier:ne});V.resolve(Re)}catch(Re){}}}}clearInstance(F=le){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,u.Z)(function*(){const $=Array.from(F.instances.values());yield Promise.all([...$.filter(V=>"INTERNAL"in V).map(V=>V.INTERNAL.delete()),...$.filter(V=>"_delete"in V).map(V=>V._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=le){return this.instances.has(F)}getOptions(F=le){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:$={}}=F,V=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(V))throw Error(`${this.name}(${V}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ne=this.getOrInitializeService({instanceIdentifier:V,options:$});for(const[Re,$e]of this.instancesDeferred.entries())V===this.normalizeInstanceIdentifier(Re)&&$e.resolve(ne);return ne}onInit(F,$){var V;const ne=this.normalizeInstanceIdentifier($),Re=null!==(V=this.onInitCallbacks.get(ne))&&void 0!==V?V:new Set;Re.add(F),this.onInitCallbacks.set(ne,Re);const $e=this.instances.get(ne);return $e&&F($e,ne),()=>{Re.delete(F)}}invokeOnInitCallbacks(F,$){const V=this.onInitCallbacks.get($);if(V)for(const ne of V)try{ne(F,$)}catch(Re){}}getOrInitializeService({instanceIdentifier:F,options:$={}}){let V=this.instances.get(F);if(!V&&this.component&&(V=this.component.instanceFactory(this.container,{instanceIdentifier:(re=F,re===le?void 0:re),options:$}),this.instances.set(F,V),this.instancesOptions.set(F,$),this.invokeOnInitCallbacks(V,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,V)}catch(ne){}var re;return V||null}normalizeInstanceIdentifier(F=le){return this.component?this.component.multipleInstances?F:le:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const $=this.getProvider(F.name);if($.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);$.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const $=new fe(F,this);return this.providers.set(F,$),$}getProviders(){return Array.from(this.providers.values())}}},3328:(dt,Pe,k)=>{"use strict";var u=k(8239),j=k(8026),O=k(3910),le=k(3854),fe=k(6676);const J="@firebase/installations",re="w:0.5.5",F="FIS_v2",xe=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(te){return te instanceof le.ZR&&te.code.includes("request-failed")}function se({projectId:te}){return`https://firebaseinstallations.googleapis.com/v1/projects/${te}/installations`}function _e(te){return{token:te.token,requestStatus:2,expiresIn:Qt(te.expiresIn),creationTime:Date.now()}}function pe(te,Ae){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,u.Z)(function*(te,Ae){const ft=(yield Ae.json()).error;return xe.create("request-failed",{requestName:te,serverCode:ft.code,serverMessage:ft.message,serverStatus:ft.status})})).apply(this,arguments)}function ot({apiKey:te}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":te})}function At(te,{refreshToken:Ae}){const Le=ot(te);return Le.append("Authorization",function(te){return`${F} ${te}`}(Ae)),Le}function zt(te){return ye.apply(this,arguments)}function ye(){return(ye=(0,u.Z)(function*(te){const Ae=yield te();return Ae.status>=500&&Ae.status<600?te():Ae})).apply(this,arguments)}function Qt(te){return Number(te.replace("s","000"))}function we(te,Ae){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,u.Z)(function*(te,{fid:Ae}){const Le=se(te),rt={method:"POST",headers:ot(te),body:JSON.stringify({fid:Ae,authVersion:F,appId:te.appId,sdkVersion:re})},Vn=yield zt(()=>fetch(Le,rt));if(Vn.ok){const Rn=yield Vn.json();return{fid:Rn.fid||Ae,registrationStatus:2,refreshToken:Rn.refreshToken,authToken:_e(Rn.authToken)}}throw yield pe("Create Installation",Vn)})).apply(this,arguments)}function Se(te){return new Promise(Ae=>{setTimeout(Ae,te)})}const ve=/^[cdef][\w-]{21}$/;function ln(){try{const te=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(te),te[0]=112+te[0]%16;const Le=function(te){return function(te){return btoa(String.fromCharCode(...te)).replace(/\+/g,"-").replace(/\//g,"_")}(te).substr(0,22)}(te);return ve.test(Le)?Le:""}catch(te){return""}}function Dt(te){return`${te.appName}!${te.appId}`}const mt=new Map;function xt(te,Ae){const Le=Dt(te);zn(Le,Ae),function(te,Ae){const Le=(!tn&&"BroadcastChannel"in self&&(tn=new BroadcastChannel("[Firebase] FID Change"),tn.onmessage=te=>{zn(te.data.key,te.data.fid)}),tn);Le&&Le.postMessage({key:te,fid:Ae}),0===mt.size&&tn&&(tn.close(),tn=null)}(Le,Ae)}function zn(te,Ae){const Le=mt.get(te);if(Le)for(const ft of Le)ft(Ae)}let tn=null;const Wn="firebase-installations-store";let Tr=null;function ir(){return Tr||(Tr=(0,fe.openDb)("firebase-installations-database",1,te=>{switch(te.oldVersion){case 0:te.createObjectStore(Wn)}})),Tr}function Nn(te,Ae){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(te,Ae){const Le=Dt(te),Sn=(yield ir()).transaction(Wn,"readwrite"),rt=Sn.objectStore(Wn),Vn=yield rt.get(Le);return yield rt.put(Ae,Le),yield Sn.complete,(!Vn||Vn.fid!==Ae.fid)&&xt(te,Ae.fid),Ae})).apply(this,arguments)}function Ar(te){return lt.apply(this,arguments)}function lt(){return(lt=(0,u.Z)(function*(te){const Ae=Dt(te),ft=(yield ir()).transaction(Wn,"readwrite");yield ft.objectStore(Wn).delete(Ae),yield ft.complete})).apply(this,arguments)}function Ft(te,Ae){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(te,Ae){const Le=Dt(te),Sn=(yield ir()).transaction(Wn,"readwrite"),rt=Sn.objectStore(Wn),Vn=yield rt.get(Le),Rn=Ae(Vn);return void 0===Rn?yield rt.delete(Le):yield rt.put(Rn,Le),yield Sn.complete,Rn&&(!Vn||Vn.fid!==Rn.fid)&&xt(te,Rn.fid),Rn})).apply(this,arguments)}function Fn(te){return gt.apply(this,arguments)}function gt(){return(gt=(0,u.Z)(function*(te){let Ae;const Le=yield Ft(te,ft=>{const Sn=yt(ft),rt=Zt(te,Sn);return Ae=rt.registrationPromise,rt.installationEntry});return""===Le.fid?{installationEntry:yield Ae}:{installationEntry:Le,registrationPromise:Ae}})).apply(this,arguments)}function yt(te){return or(te||{fid:ln(),registrationStatus:0})}function Zt(te,Ae){if(0===Ae.registrationStatus){if(!navigator.onLine)return{installationEntry:Ae,registrationPromise:Promise.reject(xe.create("app-offline"))};const Le={fid:Ae.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:Le,registrationPromise:function(te,Ae){return Ln.apply(this,arguments)}(te,Le)}}return 1===Ae.registrationStatus?{installationEntry:Ae,registrationPromise:on(te)}:{installationEntry:Ae}}function Ln(){return(Ln=(0,u.Z)(function*(te,Ae){try{return Nn(te,yield we(te,Ae))}catch(Le){throw Ee(Le)&&409===Le.customData.serverCode?yield Ar(te):yield Nn(te,{fid:Ae.fid,registrationStatus:0}),Le}})).apply(this,arguments)}function on(te){return We.apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(te){let Ae=yield tt(te);for(;1===Ae.registrationStatus;)yield Se(100),Ae=yield tt(te);if(0===Ae.registrationStatus){const{installationEntry:Le,registrationPromise:ft}=yield Fn(te);return ft||Le}return Ae})).apply(this,arguments)}function tt(te){return Ft(te,Ae=>{if(!Ae)throw xe.create("installation-not-found");return or(Ae)})}function or(te){return function(te){return 1===te.registrationStatus&&te.registrationTime+1e4<Date.now()}(te)?{fid:te.fid,registrationStatus:0}:te}function gr(te,Ae){return sn.apply(this,arguments)}function sn(){return(sn=(0,u.Z)(function*({appConfig:te,platformLoggerProvider:Ae},Le){const ft=dn(te,Le),Sn=At(te,Le),rt=Ae.getImmediate({optional:!0});rt&&Sn.append("x-firebase-client",rt.getPlatformInfoString());const Rn={method:"POST",headers:Sn,body:JSON.stringify({installation:{sdkVersion:re}})},ys=yield zt(()=>fetch(ft,Rn));if(ys.ok)return _e(yield ys.json());throw yield pe("Generate Auth Token",ys)})).apply(this,arguments)}function dn(te,{fid:Ae}){return`${se(te)}/${Ae}/authTokens:generate`}function ei(te){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)(function*(te,Ae=!1){let Le;const ft=yield Ft(te.appConfig,rt=>{if(!oe(rt))throw xe.create("not-registered");const Vn=rt.authToken;if(!Ae&&me(Vn))return rt;if(1===Vn.requestStatus)return Le=q(te,Ae),rt;{if(!navigator.onLine)throw xe.create("app-offline");const Rn=Je(rt);return Le=ce(te,Rn),Rn}});return Le?yield Le:ft.authToken})).apply(this,arguments)}function q(te,Ae){return K.apply(this,arguments)}function K(){return(K=(0,u.Z)(function*(te,Ae){let Le=yield ke(te.appConfig);for(;1===Le.authToken.requestStatus;)yield Se(100),Le=yield ke(te.appConfig);const ft=Le.authToken;return 0===ft.requestStatus?ei(te,Ae):ft})).apply(this,arguments)}function ke(te){return Ft(te,Ae=>{if(!oe(Ae))throw xe.create("not-registered");return function(te){return 1===te.requestStatus&&te.requestTime+1e4<Date.now()}(Ae.authToken)?Object.assign(Object.assign({},Ae),{authToken:{requestStatus:0}}):Ae})}function ce(te,Ae){return nt.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(te,Ae){try{const Le=yield gr(te,Ae),ft=Object.assign(Object.assign({},Ae),{authToken:Le});return yield Nn(te.appConfig,ft),Le}catch(Le){if(!Ee(Le)||401!==Le.customData.serverCode&&404!==Le.customData.serverCode){const ft=Object.assign(Object.assign({},Ae),{authToken:{requestStatus:0}});yield Nn(te.appConfig,ft)}else yield Ar(te.appConfig);throw Le}})).apply(this,arguments)}function oe(te){return void 0!==te&&2===te.registrationStatus}function me(te){return 2===te.requestStatus&&!function(te){const Ae=Date.now();return Ae<te.creationTime||te.creationTime+te.expiresIn<Ae+36e5}(te)}function Je(te){const Ae={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},te),{authToken:Ae})}function ee(){return(ee=(0,u.Z)(function*(te){const Ae=te,{installationEntry:Le,registrationPromise:ft}=yield Fn(Ae.appConfig);return ft?ft.catch(console.error):ei(Ae).catch(console.error),Le.fid})).apply(this,arguments)}function z(){return(z=(0,u.Z)(function*(te,Ae=!1){const Le=te;return yield ge(Le.appConfig),(yield ei(Le,Ae)).token})).apply(this,arguments)}function ge(te){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,u.Z)(function*(te){const{registrationPromise:Ae}=yield Fn(te);Ae&&(yield Ae)})).apply(this,arguments)}function $n(te){return xe.create("missing-app-config-values",{valueName:te})}const Xe="installations";(0,j._registerComponent)(new O.wA(Xe,te=>{const Ae=te.getProvider("app").getImmediate();return{app:Ae,appConfig:function(te){if(!te||!te.options)throw $n("App Configuration");if(!te.name)throw $n("App Name");const Ae=["projectId","apiKey","appId"];for(const Le of Ae)if(!te.options[Le])throw $n(Le);return{appName:te.name,projectId:te.options.projectId,apiKey:te.options.apiKey,appId:te.options.appId}}(Ae),platformLoggerProvider:(0,j._getProvider)(Ae,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,j._registerComponent)(new O.wA("installations-internal",te=>{const Ae=te.getProvider("app").getImmediate(),Le=(0,j._getProvider)(Ae,Xe).getImmediate();return{getId:()=>function(te){return ee.apply(this,arguments)}(Le),getToken:Sn=>function(te){return z.apply(this,arguments)}(Le,Sn)}},"PRIVATE")),(0,j.registerVersion)(J,"0.5.5"),(0,j.registerVersion)(J,"0.5.5","esm2017")},5422:(dt,Pe,k)=>{"use strict";k.d(Pe,{in:()=>j,Yd:()=>ue,Ub:()=>ie,Am:()=>re});const u=[];var j=(()=>{return(F=j||(j={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",j;var F})();const O={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},le=j.INFO,fe={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},J=(F,$,...V)=>{if($<F.logLevel)return;const ne=(new Date).toISOString(),Re=fe[$];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Re](`[${ne}]  ${F.name}:`,...V)};class ue{constructor($){this.name=$,this._logLevel=le,this._logHandler=J,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in j))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?O[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...$),this._logHandler(this,j.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...$),this._logHandler(this,j.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,j.INFO,...$),this._logHandler(this,j.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,j.WARN,...$),this._logHandler(this,j.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...$),this._logHandler(this,j.ERROR,...$)}}function ie(F){u.forEach($=>{$.setLogLevel(F)})}function re(F,$){for(const V of u){let ne=null;$&&$.level&&(ne=O[$.level]),V.userLogHandler=null===F?null:(Re,$e,...xe)=>{const Ee=xe.map(se=>{if(null==se)return null;if("string"==typeof se)return se;if("number"==typeof se||"boolean"==typeof se)return se.toString();if(se instanceof Error)return se.message;try{return JSON.stringify(se)}catch(_e){return null}}).filter(se=>se).join(" ");$e>=(null!=ne?ne:Re.logLevel)&&F({level:j[$e].toLowerCase(),message:Ee,args:xe,type:Re.name})}}}},8239:(dt,Pe,k)=>{"use strict";function u(O,le,fe,J,ue,ie,re){try{var F=O[ie](re),$=F.value}catch(V){return void fe(V)}F.done?le($):Promise.resolve($).then(J,ue)}function j(O){return function(){var le=this,fe=arguments;return new Promise(function(J,ue){var ie=O.apply(le,fe);function re($){u(ie,J,ue,re,F,"next",$)}function F($){u(ie,J,ue,re,F,"throw",$)}re(void 0)})}}k.d(Pe,{Z:()=>j})}},dt=>{dt(dt.s=625)}]);